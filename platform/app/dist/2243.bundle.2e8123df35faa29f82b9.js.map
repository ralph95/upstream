{"version":3,"file":"2243.bundle.2e8123df35faa29f82b9.js","mappings":"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","sources":["webpack:///../../../node_modules/@cornerstonejs/tools/dist/esm/enums/ChangeTypes.js","webpack:///../../../node_modules/@cornerstonejs/tools/dist/esm/enums/Events.js","webpack:///../../../node_modules/@cornerstonejs/tools/dist/esm/enums/SegmentationRepresentations.js","webpack:///../../../node_modules/@cornerstonejs/tools/dist/esm/enums/StrategyCallbacks.js","webpack:///../../../node_modules/@cornerstonejs/tools/dist/esm/enums/ToolBindings.js","webpack:///../../../node_modules/@cornerstonejs/tools/dist/esm/enums/ToolModes.js","webpack:///../../../node_modules/@cornerstonejs/tools/dist/esm/enums/Touch.js","webpack:///../../../node_modules/@cornerstonejs/tools/dist/esm/enums/AnnotationStyleStates.js","webpack:///../../../node_modules/@cornerstonejs/tools/dist/esm/enums/WorkerTypes.js","webpack:///../../../extensions/usAnnotation/src/PleuraBlinePercentage.ts","webpack:///../../../modes/usAnnotation/src/id.js","webpack:///../../../modes/usAnnotation/src/initToolGroups.js","webpack:///../../../modes/usAnnotation/src/toolbarButtons.ts","webpack:///../../../modes/usAnnotation/src/index.ts"],"sourcesContent":["var ChangeTypes;\n(function (ChangeTypes) {\n    ChangeTypes[\"Interaction\"] = \"Interaction\";\n    ChangeTypes[\"HandlesUpdated\"] = \"HandlesUpdated\";\n    ChangeTypes[\"StatsUpdated\"] = \"StatsUpdated\";\n    ChangeTypes[\"InitialSetup\"] = \"InitialSetup\";\n    ChangeTypes[\"Completed\"] = \"Completed\";\n    ChangeTypes[\"InterpolationUpdated\"] = \"InterpolationUpdated\";\n    ChangeTypes[\"History\"] = \"History\";\n    ChangeTypes[\"MetadataReferenceModified\"] = \"MetadataReferenceModified\";\n    ChangeTypes[\"LabelChange\"] = \"LabelChange\";\n})(ChangeTypes || (ChangeTypes = {}));\nexport default ChangeTypes;\n","var Events;\n(function (Events) {\n    Events[\"TOOL_ACTIVATED\"] = \"CORNERSTONE_TOOLS_TOOL_ACTIVATED\";\n    Events[\"TOOLGROUP_VIEWPORT_ADDED\"] = \"CORNERSTONE_TOOLS_TOOLGROUP_VIEWPORT_ADDED\";\n    Events[\"TOOLGROUP_VIEWPORT_REMOVED\"] = \"CORNERSTONE_TOOLS_TOOLGROUP_VIEWPORT_REMOVED\";\n    Events[\"TOOL_MODE_CHANGED\"] = \"CORNERSTONE_TOOLS_TOOL_MODE_CHANGED\";\n    Events[\"CROSSHAIR_TOOL_CENTER_CHANGED\"] = \"CORNERSTONE_TOOLS_CROSSHAIR_TOOL_CENTER_CHANGED\";\n    Events[\"VOLUMECROPPINGCONTROL_TOOL_CHANGED\"] = \"CORNERSTONE_TOOLS_VOLUMECROPPINGCONTROL_TOOL_CHANGED\";\n    Events[\"VOLUMECROPPING_TOOL_CHANGED\"] = \"CORNERSTONE_TOOLS_VOLUMECROPPING_TOOL_CHANGED\";\n    Events[\"STACK_PREFETCH_COMPLETE\"] = \"CORNERSTONE_TOOLS_STACK_PREFETCH_COMPLETE\";\n    Events[\"ANNOTATION_ADDED\"] = \"CORNERSTONE_TOOLS_ANNOTATION_ADDED\";\n    Events[\"ANNOTATION_COMPLETED\"] = \"CORNERSTONE_TOOLS_ANNOTATION_COMPLETED\";\n    Events[\"ANNOTATION_MODIFIED\"] = \"CORNERSTONE_TOOLS_ANNOTATION_MODIFIED\";\n    Events[\"ANNOTATION_REMOVED\"] = \"CORNERSTONE_TOOLS_ANNOTATION_REMOVED\";\n    Events[\"ANNOTATION_SELECTION_CHANGE\"] = \"CORNERSTONE_TOOLS_ANNOTATION_SELECTION_CHANGE\";\n    Events[\"ANNOTATION_LOCK_CHANGE\"] = \"CORNERSTONE_TOOLS_ANNOTATION_LOCK_CHANGE\";\n    Events[\"ANNOTATION_VISIBILITY_CHANGE\"] = \"CORNERSTONE_TOOLS_ANNOTATION_VISIBILITY_CHANGE\";\n    Events[\"ANNOTATION_RENDERED\"] = \"CORNERSTONE_TOOLS_ANNOTATION_RENDERED\";\n    Events[\"ANNOTATION_CUT_MERGE_PROCESS_COMPLETED\"] = \"CORNERSTONE_TOOLS_ANNOTATION_CUT_MERGE_PROCESS_COMPLETED\";\n    Events[\"ANNOTATION_INTERPOLATION_PROCESS_COMPLETED\"] = \"CORNERSTONE_TOOLS_ANNOTATION_INTERPOLATION_PROCESS_COMPLETED\";\n    Events[\"INTERPOLATED_ANNOTATIONS_REMOVED\"] = \"CORNERSTONE_TOOLS_INTERPOLATED_ANNOTATIONS_REMOVED\";\n    Events[\"SEGMENTATION_MODIFIED\"] = \"CORNERSTONE_TOOLS_SEGMENTATION_MODIFIED\";\n    Events[\"SEGMENTATION_RENDERED\"] = \"CORNERSTONE_TOOLS_SEGMENTATION_RENDERED\";\n    Events[\"SEGMENTATION_REPRESENTATION_ADDED\"] = \"CORNERSTONE_TOOLS_SEGMENTATION_REPRESENTATION_ADDED\";\n    Events[\"SEGMENTATION_ADDED\"] = \"CORNERSTONE_TOOLS_SEGMENTATION_ADDED\";\n    Events[\"SEGMENTATION_REPRESENTATION_MODIFIED\"] = \"CORNERSTONE_TOOLS_SEGMENTATION_REPRESENTATION_MODIFIED\";\n    Events[\"SEGMENTATION_REMOVED\"] = \"CORNERSTONE_TOOLS_SEGMENTATION_REMOVED\";\n    Events[\"SEGMENTATION_REPRESENTATION_REMOVED\"] = \"CORNERSTONE_TOOLS_SEGMENTATION_REPRESENTATION_REMOVED\";\n    Events[\"SEGMENTATION_DATA_MODIFIED\"] = \"CORNERSTONE_TOOLS_SEGMENTATION_DATA_MODIFIED\";\n    Events[\"HISTORY_UNDO\"] = \"CORNERSTONE_TOOLS_HISTORY_UNDO\";\n    Events[\"HISTORY_REDO\"] = \"CORNERSTONE_TOOLS_HISTORY_REDO\";\n    Events[\"KEY_DOWN\"] = \"CORNERSTONE_TOOLS_KEY_DOWN\";\n    Events[\"KEY_UP\"] = \"CORNERSTONE_TOOLS_KEY_UP\";\n    Events[\"MOUSE_DOWN\"] = \"CORNERSTONE_TOOLS_MOUSE_DOWN\";\n    Events[\"MOUSE_UP\"] = \"CORNERSTONE_TOOLS_MOUSE_UP\";\n    Events[\"MOUSE_DOWN_ACTIVATE\"] = \"CORNERSTONE_TOOLS_MOUSE_DOWN_ACTIVATE\";\n    Events[\"MOUSE_DRAG\"] = \"CORNERSTONE_TOOLS_MOUSE_DRAG\";\n    Events[\"MOUSE_MOVE\"] = \"CORNERSTONE_TOOLS_MOUSE_MOVE\";\n    Events[\"MOUSE_CLICK\"] = \"CORNERSTONE_TOOLS_MOUSE_CLICK\";\n    Events[\"MOUSE_DOUBLE_CLICK\"] = \"CORNERSTONE_TOOLS_MOUSE_DOUBLE_CLICK\";\n    Events[\"MOUSE_WHEEL\"] = \"CORNERSTONE_TOOLS_MOUSE_WHEEL\";\n    Events[\"TOUCH_START\"] = \"CORNERSTONE_TOOLS_TOUCH_START\";\n    Events[\"TOUCH_START_ACTIVATE\"] = \"CORNERSTONE_TOOLS_TOUCH_START_ACTIVATE\";\n    Events[\"TOUCH_PRESS\"] = \"CORNERSTONE_TOOLS_TOUCH_PRESS\";\n    Events[\"TOUCH_DRAG\"] = \"CORNERSTONE_TOOLS_TOUCH_DRAG\";\n    Events[\"TOUCH_END\"] = \"CORNERSTONE_TOOLS_TOUCH_END\";\n    Events[\"TOUCH_TAP\"] = \"CORNERSTONE_TOOLS_TAP\";\n    Events[\"TOUCH_SWIPE\"] = \"CORNERSTONE_TOOLS_SWIPE\";\n})(Events || (Events = {}));\nexport default Events;\n","var SegmentationRepresentations;\n(function (SegmentationRepresentations) {\n    SegmentationRepresentations[\"Labelmap\"] = \"Labelmap\";\n    SegmentationRepresentations[\"Contour\"] = \"Contour\";\n    SegmentationRepresentations[\"Surface\"] = \"Surface\";\n})(SegmentationRepresentations || (SegmentationRepresentations = {}));\nexport default SegmentationRepresentations;\n","var StrategyCallbacks;\n(function (StrategyCallbacks) {\n    StrategyCallbacks[\"OnInteractionStart\"] = \"onInteractionStart\";\n    StrategyCallbacks[\"OnInteractionEnd\"] = \"onInteractionEnd\";\n    StrategyCallbacks[\"Preview\"] = \"preview\";\n    StrategyCallbacks[\"RejectPreview\"] = \"rejectPreview\";\n    StrategyCallbacks[\"AcceptPreview\"] = \"acceptPreview\";\n    StrategyCallbacks[\"Fill\"] = \"fill\";\n    StrategyCallbacks[\"Interpolate\"] = \"interpolate\";\n    StrategyCallbacks[\"StrategyFunction\"] = \"strategyFunction\";\n    StrategyCallbacks[\"CreateIsInThreshold\"] = \"createIsInThreshold\";\n    StrategyCallbacks[\"Initialize\"] = \"initialize\";\n    StrategyCallbacks[\"INTERNAL_setValue\"] = \"setValue\";\n    StrategyCallbacks[\"AddPreview\"] = \"addPreview\";\n    StrategyCallbacks[\"ComputeInnerCircleRadius\"] = \"computeInnerCircleRadius\";\n    StrategyCallbacks[\"GetStatistics\"] = \"getStatistics\";\n    StrategyCallbacks[\"EnsureImageVolumeFor3DManipulation\"] = \"ensureImageVolumeFor3DManipulation\";\n    StrategyCallbacks[\"EnsureSegmentationVolumeFor3DManipulation\"] = \"ensureSegmentationVolumeFor3DManipulation\";\n})(StrategyCallbacks || (StrategyCallbacks = {}));\nexport default StrategyCallbacks;\n","var MouseBindings;\n(function (MouseBindings) {\n    MouseBindings[MouseBindings[\"Primary\"] = 1] = \"Primary\";\n    MouseBindings[MouseBindings[\"Secondary\"] = 2] = \"Secondary\";\n    MouseBindings[MouseBindings[\"Primary_And_Secondary\"] = 3] = \"Primary_And_Secondary\";\n    MouseBindings[MouseBindings[\"Auxiliary\"] = 4] = \"Auxiliary\";\n    MouseBindings[MouseBindings[\"Primary_And_Auxiliary\"] = 5] = \"Primary_And_Auxiliary\";\n    MouseBindings[MouseBindings[\"Secondary_And_Auxiliary\"] = 6] = \"Secondary_And_Auxiliary\";\n    MouseBindings[MouseBindings[\"Primary_And_Secondary_And_Auxiliary\"] = 7] = \"Primary_And_Secondary_And_Auxiliary\";\n    MouseBindings[MouseBindings[\"Fourth_Button\"] = 8] = \"Fourth_Button\";\n    MouseBindings[MouseBindings[\"Fifth_Button\"] = 16] = \"Fifth_Button\";\n    MouseBindings[MouseBindings[\"Wheel\"] = 524288] = \"Wheel\";\n    MouseBindings[MouseBindings[\"Wheel_Primary\"] = 524289] = \"Wheel_Primary\";\n})(MouseBindings || (MouseBindings = {}));\nvar KeyboardBindings;\n(function (KeyboardBindings) {\n    KeyboardBindings[KeyboardBindings[\"Shift\"] = 16] = \"Shift\";\n    KeyboardBindings[KeyboardBindings[\"Ctrl\"] = 17] = \"Ctrl\";\n    KeyboardBindings[KeyboardBindings[\"Alt\"] = 18] = \"Alt\";\n    KeyboardBindings[KeyboardBindings[\"Meta\"] = 91] = \"Meta\";\n    KeyboardBindings[KeyboardBindings[\"ShiftCtrl\"] = 1617] = \"ShiftCtrl\";\n    KeyboardBindings[KeyboardBindings[\"ShiftAlt\"] = 1618] = \"ShiftAlt\";\n    KeyboardBindings[KeyboardBindings[\"ShiftMeta\"] = 1691] = \"ShiftMeta\";\n    KeyboardBindings[KeyboardBindings[\"CtrlAlt\"] = 1718] = \"CtrlAlt\";\n    KeyboardBindings[KeyboardBindings[\"CtrlMeta\"] = 1791] = \"CtrlMeta\";\n    KeyboardBindings[KeyboardBindings[\"AltMeta\"] = 1891] = \"AltMeta\";\n})(KeyboardBindings || (KeyboardBindings = {}));\nexport { MouseBindings, KeyboardBindings };\n","var ToolModes;\n(function (ToolModes) {\n    ToolModes[\"Active\"] = \"Active\";\n    ToolModes[\"Passive\"] = \"Passive\";\n    ToolModes[\"Enabled\"] = \"Enabled\";\n    ToolModes[\"Disabled\"] = \"Disabled\";\n})(ToolModes || (ToolModes = {}));\nexport default ToolModes;\n","var Swipe;\n(function (Swipe) {\n    Swipe[\"UP\"] = \"UP\";\n    Swipe[\"DOWN\"] = \"DOWN\";\n    Swipe[\"LEFT\"] = \"LEFT\";\n    Swipe[\"RIGHT\"] = \"RIGHT\";\n})(Swipe || (Swipe = {}));\nexport { Swipe };\n","var AnnotationStyleStates;\n(function (AnnotationStyleStates) {\n    AnnotationStyleStates[\"Default\"] = \"\";\n    AnnotationStyleStates[\"Highlighted\"] = \"Highlighted\";\n    AnnotationStyleStates[\"Selected\"] = \"Selected\";\n    AnnotationStyleStates[\"Locked\"] = \"Locked\";\n    AnnotationStyleStates[\"AutoGenerated\"] = \"AutoGenerated\";\n})(AnnotationStyleStates || (AnnotationStyleStates = {}));\nexport default AnnotationStyleStates;\n","var ChangeTypes;\n(function (ChangeTypes) {\n    ChangeTypes[\"POLYSEG_CONTOUR_TO_LABELMAP\"] = \"Converting Contour to Labelmap\";\n    ChangeTypes[\"POLYSEG_SURFACE_TO_LABELMAP\"] = \"Converting Surfaces to Labelmap\";\n    ChangeTypes[\"POLYSEG_CONTOUR_TO_SURFACE\"] = \"Converting Contour to Surface\";\n    ChangeTypes[\"POLYSEG_LABELMAP_TO_SURFACE\"] = \"Converting Labelmap to Surface\";\n    ChangeTypes[\"SURFACE_CLIPPING\"] = \"Clipping Surfaces\";\n    ChangeTypes[\"COMPUTE_STATISTICS\"] = \"Computing Statistics\";\n    ChangeTypes[\"INTERPOLATE_LABELMAP\"] = \"Interpolating Labelmap\";\n    ChangeTypes[\"COMPUTE_LARGEST_BIDIRECTIONAL\"] = \"Computing Largest Bidirectional\";\n    ChangeTypes[\"GENERATE_CONTOUR_SETS\"] = \"Generating Contour Sets\";\n})(ChangeTypes || (ChangeTypes = {}));\nexport default ChangeTypes;\n","// Global state to control whether to show the percentage in the overlay\r\nexport let showPercentage = true;\r\n\r\n/**\r\n * Sets whether to show the pleura percentage in the viewport overlay\r\n * @param value - Boolean indicating whether to show the percentage\r\n */\r\nexport function setShowPercentage(value) {\r\n  showPercentage = value;\r\n}\r\n","import packageJson from '../package.json';\r\n\r\nconst id = packageJson.name;\r\n\r\nexport { id };\r\n","import { toolNames as SRToolNames } from '@ohif/extension-cornerstone-dicom-sr';\r\n\r\nconst colours = {\r\n  'viewport-0': 'rgb(200, 0, 0)',\r\n  'viewport-1': 'rgb(200, 200, 0)',\r\n  'viewport-2': 'rgb(0, 200, 0)',\r\n};\r\n\r\nconst colorsByOrientation = {\r\n  axial: 'rgb(200, 0, 0)',\r\n  sagittal: 'rgb(200, 200, 0)',\r\n  coronal: 'rgb(0, 200, 0)',\r\n};\r\n\r\nfunction initDefaultToolGroup(extensionManager, toolGroupService, commandsManager, toolGroupId) {\r\n  const utilityModule = extensionManager.getModuleEntry(\r\n    '@ohif/extension-cornerstone.utilityModule.tools'\r\n  );\r\n\r\n  const { toolNames, Enums } = utilityModule.exports;\r\n\r\n  const tools = {\r\n    active: [\r\n      {\r\n        toolName: toolNames.UltrasoundAnnotation,\r\n        bindings: [{ mouseButton: Enums.MouseBindings.Primary }],\r\n      },\r\n      {\r\n        toolName: toolNames.Pan,\r\n        bindings: [{ mouseButton: Enums.MouseBindings.Auxiliary }],\r\n      },\r\n      {\r\n        toolName: toolNames.Zoom,\r\n        bindings: [{ mouseButton: Enums.MouseBindings.Secondary }],\r\n      },\r\n      {\r\n        toolName: toolNames.StackScroll,\r\n        bindings: [{ mouseButton: Enums.MouseBindings.Wheel }],\r\n      },\r\n    ],\r\n    passive: [\r\n      { toolName: toolNames.Length },\r\n      {\r\n        toolName: toolNames.ArrowAnnotate,\r\n        configuration: {\r\n          getTextCallback: (callback, eventDetails) => {\r\n            commandsManager.runCommand('arrowTextCallback', {\r\n              callback,\r\n              eventDetails,\r\n            });\r\n          },\r\n          changeTextCallback: (data, eventDetails, callback) => {\r\n            commandsManager.runCommand('arrowTextCallback', {\r\n              callback,\r\n              data,\r\n              eventDetails,\r\n            });\r\n          },\r\n        },\r\n      },\r\n      {\r\n        toolName: toolNames.SegmentBidirectional,\r\n      },\r\n      { toolName: toolNames.Bidirectional },\r\n      { toolName: toolNames.DragProbe },\r\n      { toolName: toolNames.Probe },\r\n      { toolName: toolNames.EllipticalROI },\r\n      { toolName: toolNames.CircleROI },\r\n      { toolName: toolNames.RectangleROI },\r\n      { toolName: toolNames.StackScroll },\r\n      { toolName: toolNames.Angle },\r\n      { toolName: toolNames.CobbAngle },\r\n      { toolName: toolNames.Magnify },\r\n      { toolName: toolNames.CalibrationLine },\r\n      {\r\n        toolName: toolNames.PlanarFreehandContourSegmentation,\r\n        configuration: {\r\n          displayOnePointAsCrosshairs: true,\r\n        },\r\n      },\r\n      { toolName: toolNames.UltrasoundDirectional },\r\n      { toolName: toolNames.WindowLevel },\r\n      { toolName: toolNames.PlanarFreehandROI },\r\n      { toolName: toolNames.SplineROI },\r\n      { toolName: toolNames.LivewireContour },\r\n      { toolName: toolNames.WindowLevelRegion },\r\n    ],\r\n    enabled: [\r\n      { toolName: toolNames.ImageOverlayViewer },\r\n      { toolName: toolNames.ReferenceLines },\r\n    ],\r\n    disabled: [\r\n      {\r\n        toolName: toolNames.AdvancedMagnify,\r\n      },\r\n    ],\r\n  };\r\n\r\n  toolGroupService.createToolGroupAndAddTools(toolGroupId, tools);\r\n}\r\n\r\nfunction initSRToolGroup(extensionManager, toolGroupService) {\r\n  const SRUtilityModule = extensionManager.getModuleEntry(\r\n    '@ohif/extension-cornerstone-dicom-sr.utilityModule.tools'\r\n  );\r\n\r\n  if (!SRUtilityModule) {\r\n    return;\r\n  }\r\n\r\n  const CS3DUtilityModule = extensionManager.getModuleEntry(\r\n    '@ohif/extension-cornerstone.utilityModule.tools'\r\n  );\r\n\r\n  const { toolNames: SRToolNames } = SRUtilityModule.exports;\r\n  const { toolNames, Enums } = CS3DUtilityModule.exports;\r\n  const tools = {\r\n    active: [\r\n      {\r\n        toolName: toolNames.WindowLevel,\r\n        bindings: [\r\n          {\r\n            mouseButton: Enums.MouseBindings.Primary,\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        toolName: toolNames.Pan,\r\n        bindings: [\r\n          {\r\n            mouseButton: Enums.MouseBindings.Auxiliary,\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        toolName: toolNames.Zoom,\r\n        bindings: [\r\n          {\r\n            mouseButton: Enums.MouseBindings.Secondary,\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        toolName: toolNames.StackScroll,\r\n        bindings: [{ mouseButton: Enums.MouseBindings.Wheel }],\r\n      },\r\n    ],\r\n    passive: [\r\n      { toolName: SRToolNames.SRLength },\r\n      { toolName: SRToolNames.SRArrowAnnotate },\r\n      { toolName: SRToolNames.SRBidirectional },\r\n      { toolName: SRToolNames.SREllipticalROI },\r\n      { toolName: SRToolNames.SRCircleROI },\r\n      { toolName: SRToolNames.SRPlanarFreehandROI },\r\n      { toolName: SRToolNames.SRRectangleROI },\r\n      { toolName: toolNames.WindowLevelRegion },\r\n    ],\r\n    enabled: [\r\n      {\r\n        toolName: SRToolNames.DICOMSRDisplay,\r\n      },\r\n    ],\r\n    // disabled\r\n  };\r\n\r\n  const toolGroupId = 'SRToolGroup';\r\n  toolGroupService.createToolGroupAndAddTools(toolGroupId, tools);\r\n}\r\n\r\nfunction initMPRToolGroup(extensionManager, toolGroupService, commandsManager) {\r\n  const utilityModule = extensionManager.getModuleEntry(\r\n    '@ohif/extension-cornerstone.utilityModule.tools'\r\n  );\r\n\r\n  const serviceManager = extensionManager._servicesManager;\r\n  const { cornerstoneViewportService } = serviceManager.services;\r\n\r\n  const { toolNames, Enums } = utilityModule.exports;\r\n\r\n  const tools = {\r\n    active: [\r\n      {\r\n        toolName: toolNames.WindowLevel,\r\n        bindings: [{ mouseButton: Enums.MouseBindings.Primary }],\r\n      },\r\n      {\r\n        toolName: toolNames.Pan,\r\n        bindings: [{ mouseButton: Enums.MouseBindings.Auxiliary }],\r\n      },\r\n      {\r\n        toolName: toolNames.Zoom,\r\n        bindings: [{ mouseButton: Enums.MouseBindings.Secondary }],\r\n      },\r\n      {\r\n        toolName: toolNames.StackScroll,\r\n        bindings: [{ mouseButton: Enums.MouseBindings.Wheel }],\r\n      },\r\n    ],\r\n    passive: [\r\n      { toolName: toolNames.Length },\r\n      {\r\n        toolName: toolNames.ArrowAnnotate,\r\n        configuration: {\r\n          getTextCallback: (callback, eventDetails) => {\r\n            commandsManager.runCommand('arrowTextCallback', {\r\n              callback,\r\n              eventDetails,\r\n            });\r\n          },\r\n          changeTextCallback: (data, eventDetails, callback) => {\r\n            commandsManager.runCommand('arrowTextCallback', {\r\n              callback,\r\n              data,\r\n              eventDetails,\r\n            });\r\n          },\r\n        },\r\n      },\r\n      { toolName: toolNames.Bidirectional },\r\n      { toolName: toolNames.DragProbe },\r\n      { toolName: toolNames.Probe },\r\n      { toolName: toolNames.EllipticalROI },\r\n      { toolName: toolNames.CircleROI },\r\n      { toolName: toolNames.RectangleROI },\r\n      { toolName: toolNames.StackScroll },\r\n      { toolName: toolNames.Angle },\r\n      { toolName: toolNames.CobbAngle },\r\n      { toolName: toolNames.PlanarFreehandROI },\r\n      { toolName: toolNames.SplineROI },\r\n      { toolName: toolNames.LivewireContour },\r\n      { toolName: toolNames.WindowLevelRegion },\r\n      {\r\n        toolName: toolNames.PlanarFreehandContourSegmentation,\r\n        configuration: {\r\n          displayOnePointAsCrosshairs: true,\r\n        },\r\n      },\r\n    ],\r\n    disabled: [\r\n      {\r\n        toolName: toolNames.Crosshairs,\r\n        configuration: {\r\n          viewportIndicators: true,\r\n          viewportIndicatorsConfig: {\r\n            circleRadius: 5,\r\n            xOffset: 0.95,\r\n            yOffset: 0.05,\r\n          },\r\n          disableOnPassive: true,\r\n          autoPan: {\r\n            enabled: false,\r\n            panSize: 10,\r\n          },\r\n          getReferenceLineColor: viewportId => {\r\n            const viewportInfo = cornerstoneViewportService.getViewportInfo(viewportId);\r\n            const viewportOptions = viewportInfo?.viewportOptions;\r\n            if (viewportOptions) {\r\n              return (\r\n                colours[viewportOptions.id] ||\r\n                colorsByOrientation[viewportOptions.orientation] ||\r\n                '#0c0'\r\n              );\r\n            } else {\r\n              console.warn('missing viewport?', viewportId);\r\n              return '#0c0';\r\n            }\r\n          },\r\n        },\r\n      },\r\n      {\r\n        toolName: toolNames.AdvancedMagnify,\r\n      },\r\n      { toolName: toolNames.ReferenceLines },\r\n    ],\r\n  };\r\n\r\n  toolGroupService.createToolGroupAndAddTools('mpr', tools);\r\n}\r\nfunction initVolume3DToolGroup(extensionManager, toolGroupService) {\r\n  const utilityModule = extensionManager.getModuleEntry(\r\n    '@ohif/extension-cornerstone.utilityModule.tools'\r\n  );\r\n\r\n  const { toolNames, Enums } = utilityModule.exports;\r\n\r\n  const tools = {\r\n    active: [\r\n      {\r\n        toolName: toolNames.TrackballRotateTool,\r\n        bindings: [{ mouseButton: Enums.MouseBindings.Primary }],\r\n      },\r\n      {\r\n        toolName: toolNames.Zoom,\r\n        bindings: [{ mouseButton: Enums.MouseBindings.Secondary }],\r\n      },\r\n      {\r\n        toolName: toolNames.Pan,\r\n        bindings: [{ mouseButton: Enums.MouseBindings.Auxiliary }],\r\n      },\r\n    ],\r\n  };\r\n\r\n  toolGroupService.createToolGroupAndAddTools('volume3d', tools);\r\n}\r\n\r\nfunction initToolGroups(extensionManager, toolGroupService, commandsManager) {\r\n  initDefaultToolGroup(extensionManager, toolGroupService, commandsManager, 'default');\r\n  initSRToolGroup(extensionManager, toolGroupService);\r\n  initMPRToolGroup(extensionManager, toolGroupService, commandsManager);\r\n  initVolume3DToolGroup(extensionManager, toolGroupService);\r\n}\r\n\r\nexport default initToolGroups;\r\n","import type { Button } from '@ohif/core/types';\r\n\r\nimport { EVENTS } from '@cornerstonejs/core';\r\nimport { ViewportGridService } from '@ohif/core';\r\nimport i18n from 'i18next';\r\n\r\nconst callbacks = (toolName: string) => [\r\n  {\r\n    commandName: 'setViewportForToolConfiguration',\r\n    commandOptions: {\r\n      toolName,\r\n    },\r\n  },\r\n];\r\n\r\nexport const setToolActiveToolbar = {\r\n  commandName: 'setToolActiveToolbar',\r\n  commandOptions: {\r\n    toolGroupIds: ['default', 'mpr', 'SRToolGroup', 'volume3d'],\r\n  },\r\n};\r\n\r\nconst toolbarButtons: Button[] = [\r\n  // sections\r\n  {\r\n    id: 'MeasurementTools',\r\n    uiType: 'ohif.toolButtonList',\r\n    props: {\r\n      buttonSection: 'measurementSection',\r\n    },\r\n  },\r\n  {\r\n    id: 'MoreTools',\r\n    uiType: 'ohif.toolButtonList',\r\n    props: {\r\n      buttonSection: 'moreToolsSection',\r\n    },\r\n  },\r\n  {\r\n    id: 'AdvancedRenderingControls',\r\n    uiType: 'ohif.advancedRenderingControls',\r\n    props: {\r\n      buttonSection: 'advancedRenderingControlsSection',\r\n    },\r\n  },\r\n  // tool defs\r\n  {\r\n    id: 'modalityLoadBadge',\r\n    uiType: 'ohif.modalityLoadBadge',\r\n    props: {\r\n      icon: 'Status',\r\n      label: i18n.t('Buttons:Status'),\r\n      tooltip: i18n.t('Buttons:Status'),\r\n      evaluate: {\r\n        name: 'evaluate.modalityLoadBadge',\r\n        hideWhenDisabled: true,\r\n      },\r\n    },\r\n  },\r\n  {\r\n    id: 'navigationComponent',\r\n    uiType: 'ohif.navigationComponent',\r\n    props: {\r\n      icon: 'Navigation',\r\n      label: i18n.t('Buttons:Navigation'),\r\n      tooltip: i18n.t('Buttons:Navigate between segments/measurements and manage their visibility'),\r\n      evaluate: {\r\n        name: 'evaluate.navigationComponent',\r\n        hideWhenDisabled: true,\r\n      },\r\n    },\r\n  },\r\n  {\r\n    id: 'trackingStatus',\r\n    uiType: 'ohif.trackingStatus',\r\n    props: {\r\n      icon: 'TrackingStatus',\r\n      label: i18n.t('Buttons:Tracking Status'),\r\n      tooltip: i18n.t('Buttons:View and manage tracking status of measurements and annotations'),\r\n      evaluate: {\r\n        name: 'evaluate.trackingStatus',\r\n        hideWhenDisabled: true,\r\n      },\r\n    },\r\n  },\r\n  {\r\n    id: 'dataOverlayMenu',\r\n    uiType: 'ohif.dataOverlayMenu',\r\n    props: {\r\n      icon: 'ViewportViews',\r\n      label: i18n.t('Buttons:Data Overlay'),\r\n      tooltip: i18n.t(\r\n        'Buttons:Configure data overlay options and manage foreground/background display sets'\r\n      ),\r\n      evaluate: 'evaluate.dataOverlayMenu',\r\n    },\r\n  },\r\n  {\r\n    id: 'orientationMenu',\r\n    uiType: 'ohif.orientationMenu',\r\n    props: {\r\n      icon: 'OrientationSwitch',\r\n      label: i18n.t('Buttons:Orientation'),\r\n      tooltip: i18n.t(\r\n        'Buttons:Change viewport orientation between axial, sagittal, coronal and reformat planes'\r\n      ),\r\n      evaluate: {\r\n        name: 'evaluate.orientationMenu',\r\n        // hideWhenDisabled: true,\r\n      },\r\n    },\r\n  },\r\n  {\r\n    id: 'windowLevelMenuEmbedded',\r\n    uiType: 'ohif.windowLevelMenuEmbedded',\r\n    props: {\r\n      icon: 'WindowLevel',\r\n      label: i18n.t('Buttons:Window Level'),\r\n      tooltip: i18n.t('Buttons:Adjust window/level presets and customize image contrast settings'),\r\n      evaluate: {\r\n        name: 'evaluate.windowLevelMenuEmbedded',\r\n        hideWhenDisabled: true,\r\n      },\r\n    },\r\n  },\r\n  {\r\n    id: 'windowLevelMenu',\r\n    uiType: 'ohif.windowLevelMenu',\r\n    props: {\r\n      icon: 'WindowLevel',\r\n      label: i18n.t('Buttons:Window Level'),\r\n      tooltip: i18n.t('Buttons:Adjust window/level presets and customize image contrast settings'),\r\n      evaluate: {\r\n        name: 'evaluate.windowLevelMenu',\r\n      },\r\n    },\r\n  },\r\n  {\r\n    id: 'voiManualControlMenu',\r\n    uiType: 'ohif.voiManualControlMenu',\r\n    props: {\r\n      icon: 'WindowLevelAdvanced',\r\n      label: i18n.t('Buttons:Advanced Window Level'),\r\n      tooltip: i18n.t('Buttons:Advanced window/level settings with manual controls and presets'),\r\n      evaluate: 'evaluate.voiManualControlMenu',\r\n    },\r\n  },\r\n  {\r\n    id: 'thresholdMenu',\r\n    uiType: 'ohif.thresholdMenu',\r\n    props: {\r\n      icon: 'Threshold',\r\n      label: i18n.t('Buttons:Threshold'),\r\n      tooltip: i18n.t('Buttons:Image threshold settings'),\r\n      evaluate: {\r\n        name: 'evaluate.thresholdMenu',\r\n        hideWhenDisabled: true,\r\n      },\r\n    },\r\n  },\r\n  {\r\n    id: 'opacityMenu',\r\n    uiType: 'ohif.opacityMenu',\r\n    props: {\r\n      icon: 'Opacity',\r\n      label: i18n.t('Buttons:Opacity'),\r\n      tooltip: i18n.t('Buttons:Image opacity settings'),\r\n      evaluate: {\r\n        name: 'evaluate.opacityMenu',\r\n        hideWhenDisabled: true,\r\n      },\r\n    },\r\n  },\r\n  {\r\n    id: 'Colorbar',\r\n    uiType: 'ohif.colorbar',\r\n    props: {\r\n      type: 'tool',\r\n      label: i18n.t('Buttons:Colorbar'),\r\n    },\r\n  },\r\n  {\r\n    id: 'Reset',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'tool-reset',\r\n      label: i18n.t('Buttons:Reset View'),\r\n      tooltip: i18n.t('Buttons:Reset View'),\r\n      commands: 'resetViewport',\r\n      evaluate: 'evaluate.action',\r\n    },\r\n  },\r\n  {\r\n    id: 'rotate-right',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'tool-rotate-right',\r\n      label: i18n.t('Buttons:Rotate Right'),\r\n      tooltip: i18n.t('Buttons:Rotate +90'),\r\n      commands: 'rotateViewportCW',\r\n      evaluate: [\r\n        'evaluate.action',\r\n        {\r\n          name: 'evaluate.viewport.supported',\r\n          unsupportedViewportTypes: ['video'],\r\n        },\r\n      ],\r\n    },\r\n  },\r\n  {\r\n    id: 'flipHorizontal',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'tool-flip-horizontal',\r\n      label: i18n.t('Buttons:Flip Horizontal'),\r\n      tooltip: i18n.t('Buttons:Flip Horizontally'),\r\n      commands: 'flipViewportHorizontal',\r\n      evaluate: [\r\n        'evaluate.viewportProperties.toggle',\r\n        {\r\n          name: 'evaluate.viewport.supported',\r\n          unsupportedViewportTypes: ['video', 'volume3d'],\r\n        },\r\n      ],\r\n    },\r\n  },\r\n  {\r\n    id: 'ImageSliceSync',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'link',\r\n      label: i18n.t('Buttons:Image Slice Sync'),\r\n      tooltip: i18n.t('Buttons:Enable position synchronization on stack viewports'),\r\n      commands: {\r\n        commandName: 'toggleSynchronizer',\r\n        commandOptions: {\r\n          type: 'imageSlice',\r\n        },\r\n      },\r\n      listeners: {\r\n        [EVENTS.VIEWPORT_NEW_IMAGE_SET]: {\r\n          commandName: 'toggleImageSliceSync',\r\n          commandOptions: { toggledState: true },\r\n        },\r\n      },\r\n      evaluate: [\r\n        'evaluate.cornerstone.synchronizer',\r\n        {\r\n          name: 'evaluate.viewport.supported',\r\n          unsupportedViewportTypes: ['video', 'volume3d'],\r\n        },\r\n      ],\r\n    },\r\n  },\r\n  {\r\n    id: 'ReferenceLines',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'tool-referenceLines',\r\n      label: i18n.t('Buttons:Reference Lines'),\r\n      tooltip: i18n.t('Buttons:Show Reference Lines'),\r\n      commands: 'toggleEnabledDisabledToolbar',\r\n      listeners: {\r\n        [ViewportGridService.EVENTS.ACTIVE_VIEWPORT_ID_CHANGED]: callbacks('ReferenceLines'),\r\n        [ViewportGridService.EVENTS.VIEWPORTS_READY]: callbacks('ReferenceLines'),\r\n      },\r\n      evaluate: [\r\n        'evaluate.cornerstoneTool.toggle',\r\n        {\r\n          name: 'evaluate.viewport.supported',\r\n          unsupportedViewportTypes: ['video'],\r\n        },\r\n      ],\r\n    },\r\n  },\r\n  {\r\n    id: 'ImageOverlayViewer',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'toggle-dicom-overlay',\r\n      label: i18n.t('Buttons:Image Overlay'),\r\n      tooltip: i18n.t('Buttons:Toggle Image Overlay'),\r\n      commands: 'toggleEnabledDisabledToolbar',\r\n      evaluate: [\r\n        'evaluate.cornerstoneTool.toggle',\r\n        {\r\n          name: 'evaluate.viewport.supported',\r\n          unsupportedViewportTypes: ['video'],\r\n        },\r\n      ],\r\n    },\r\n  },\r\n  {\r\n    id: 'StackScroll',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'tool-stack-scroll',\r\n      label: i18n.t('Buttons:Stack Scroll'),\r\n      tooltip: i18n.t('Buttons:Stack Scroll'),\r\n      commands: setToolActiveToolbar,\r\n      evaluate: 'evaluate.cornerstoneTool',\r\n    },\r\n  },\r\n  {\r\n    id: 'invert',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'tool-invert',\r\n      label: i18n.t('Buttons:Invert'),\r\n      tooltip: i18n.t('Buttons:Invert Colors'),\r\n      commands: 'invertViewport',\r\n      evaluate: [\r\n        'evaluate.viewportProperties.toggle',\r\n        {\r\n          name: 'evaluate.viewport.supported',\r\n          unsupportedViewportTypes: ['video'],\r\n        },\r\n      ],\r\n    },\r\n  },\r\n  {\r\n    id: 'Probe',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'tool-probe',\r\n      label: i18n.t('Buttons:Probe'),\r\n      tooltip: i18n.t('Buttons:Probe'),\r\n      commands: setToolActiveToolbar,\r\n      evaluate: 'evaluate.cornerstoneTool',\r\n    },\r\n  },\r\n  {\r\n    id: 'Cine',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'tool-cine',\r\n      label: i18n.t('Buttons:Cine'),\r\n      tooltip: i18n.t('Buttons:Cine'),\r\n      commands: 'toggleCine',\r\n      evaluate: [\r\n        'evaluate.cine',\r\n        {\r\n          name: 'evaluate.viewport.supported',\r\n          unsupportedViewportTypes: ['volume3d'],\r\n        },\r\n      ],\r\n    },\r\n  },\r\n  {\r\n    id: 'Angle',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'tool-angle',\r\n      label: i18n.t('Buttons:Angle'),\r\n      tooltip: i18n.t('Buttons:Angle'),\r\n      commands: setToolActiveToolbar,\r\n      evaluate: 'evaluate.cornerstoneTool',\r\n    },\r\n  },\r\n  {\r\n    id: 'CobbAngle',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'icon-tool-cobb-angle',\r\n      label: i18n.t('Buttons:Cobb Angle'),\r\n      tooltip: i18n.t('Buttons:Cobb Angle'),\r\n      commands: setToolActiveToolbar,\r\n      evaluate: 'evaluate.cornerstoneTool',\r\n    },\r\n  },\r\n  {\r\n    id: 'Magnify',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'tool-magnify',\r\n      label: i18n.t('Buttons:Zoom-in'),\r\n      tooltip: i18n.t('Buttons:Zoom-in'),\r\n      commands: setToolActiveToolbar,\r\n      evaluate: [\r\n        'evaluate.cornerstoneTool',\r\n        {\r\n          name: 'evaluate.viewport.supported',\r\n          unsupportedViewportTypes: ['video'],\r\n        },\r\n      ],\r\n    },\r\n  },\r\n  {\r\n    id: 'CalibrationLine',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'tool-calibration',\r\n      label: i18n.t('Buttons:Calibration'),\r\n      tooltip: i18n.t('Buttons:Calibration Line'),\r\n      commands: setToolActiveToolbar,\r\n      evaluate: [\r\n        'evaluate.cornerstoneTool',\r\n        {\r\n          name: 'evaluate.viewport.supported',\r\n          unsupportedViewportTypes: ['video'],\r\n        },\r\n      ],\r\n    },\r\n  },\r\n  {\r\n    id: 'TagBrowser',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'dicom-tag-browser',\r\n      label: i18n.t('Buttons:Dicom Tag Browser'),\r\n      tooltip: i18n.t('Buttons:Dicom Tag Browser'),\r\n      commands: 'openDICOMTagViewer',\r\n    },\r\n  },\r\n  {\r\n    id: 'AdvancedMagnify',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'icon-tool-loupe',\r\n      label: i18n.t('Buttons:Magnify Probe'),\r\n      tooltip: i18n.t('Buttons:Magnify Probe'),\r\n      commands: 'toggleActiveDisabledToolbar',\r\n      evaluate: [\r\n        'evaluate.cornerstoneTool.toggle.ifStrictlyDisabled',\r\n        {\r\n          name: 'evaluate.viewport.supported',\r\n          unsupportedViewportTypes: ['video'],\r\n        },\r\n      ],\r\n    },\r\n  },\r\n  {\r\n    id: 'UltrasoundDirectionalTool',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'icon-tool-ultrasound-bidirectional',\r\n      label: i18n.t('Buttons:Ultrasound Directional'),\r\n      tooltip: i18n.t('Buttons:Ultrasound Directional'),\r\n      commands: setToolActiveToolbar,\r\n      evaluate: [\r\n        'evaluate.cornerstoneTool',\r\n        {\r\n          name: 'evaluate.modality.supported',\r\n          supportedModalities: ['US'],\r\n        },\r\n      ],\r\n    },\r\n  },\r\n  {\r\n    id: 'UltrasoundPleuraBLineTool',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'icon-tool-ultrasound-bidirectional',\r\n      label: i18n.t('Buttons:US Pleura B-line Annotation'),\r\n      tooltip: i18n.t('Buttons:US Pleura B-line Annotation'),\r\n      commands: setToolActiveToolbar,\r\n      evaluate: [\r\n        'evaluate.cornerstoneTool',\r\n        {\r\n          name: 'evaluate.modality.supported',\r\n          supportedModalities: ['US'],\r\n        },\r\n      ],\r\n    },\r\n  },\r\n  {\r\n    id: 'WindowLevelRegion',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'icon-tool-window-region',\r\n      label: i18n.t('Buttons:Window Level Region'),\r\n      tooltip: i18n.t('Buttons:Window Level Region'),\r\n      commands: setToolActiveToolbar,\r\n      evaluate: [\r\n        'evaluate.cornerstoneTool',\r\n        {\r\n          name: 'evaluate.viewport.supported',\r\n          unsupportedViewportTypes: ['video'],\r\n        },\r\n      ],\r\n    },\r\n  },\r\n  {\r\n    id: 'Length',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'tool-length',\r\n      label: i18n.t('Buttons:Length'),\r\n      tooltip: i18n.t('Buttons:Length Tool'),\r\n      commands: setToolActiveToolbar,\r\n      evaluate: 'evaluate.cornerstoneTool',\r\n    },\r\n  },\r\n  {\r\n    id: 'Bidirectional',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'tool-bidirectional',\r\n      label: i18n.t('Buttons:Bidirectional'),\r\n      tooltip: i18n.t('Buttons:Bidirectional Tool'),\r\n      commands: setToolActiveToolbar,\r\n      evaluate: 'evaluate.cornerstoneTool',\r\n    },\r\n  },\r\n  {\r\n    id: 'ArrowAnnotate',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'tool-annotate',\r\n      label: i18n.t('Buttons:Annotation'),\r\n      tooltip: i18n.t('Buttons:Arrow Annotate'),\r\n      commands: setToolActiveToolbar,\r\n      evaluate: 'evaluate.cornerstoneTool',\r\n    },\r\n  },\r\n  {\r\n    id: 'EllipticalROI',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'tool-ellipse',\r\n      label: i18n.t('Buttons:Ellipse'),\r\n      tooltip: i18n.t('Buttons:Ellipse ROI'),\r\n      commands: setToolActiveToolbar,\r\n      evaluate: 'evaluate.cornerstoneTool',\r\n    },\r\n  },\r\n  {\r\n    id: 'RectangleROI',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'tool-rectangle',\r\n      label: i18n.t('Buttons:Rectangle'),\r\n      tooltip: i18n.t('Buttons:Rectangle ROI'),\r\n      commands: setToolActiveToolbar,\r\n      evaluate: 'evaluate.cornerstoneTool',\r\n    },\r\n  },\r\n  {\r\n    id: 'CircleROI',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'tool-circle',\r\n      label: i18n.t('Buttons:Circle'),\r\n      tooltip: i18n.t('Buttons:Circle Tool'),\r\n      commands: setToolActiveToolbar,\r\n      evaluate: 'evaluate.cornerstoneTool',\r\n    },\r\n  },\r\n  {\r\n    id: 'PlanarFreehandROI',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'icon-tool-freehand-roi',\r\n      label: i18n.t('Buttons:Freehand ROI'),\r\n      tooltip: i18n.t('Buttons:Freehand ROI'),\r\n      commands: setToolActiveToolbar,\r\n      evaluate: 'evaluate.cornerstoneTool',\r\n    },\r\n  },\r\n  {\r\n    id: 'SplineROI',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'icon-tool-spline-roi',\r\n      label: i18n.t('Buttons:Spline ROI'),\r\n      tooltip: i18n.t('Buttons:Spline ROI'),\r\n      commands: setToolActiveToolbar,\r\n      evaluate: 'evaluate.cornerstoneTool',\r\n    },\r\n  },\r\n  {\r\n    id: 'LivewireContour',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'icon-tool-livewire',\r\n      label: i18n.t('Buttons:Livewire tool'),\r\n      tooltip: i18n.t('Buttons:Livewire tool'),\r\n      commands: setToolActiveToolbar,\r\n      evaluate: 'evaluate.cornerstoneTool',\r\n    },\r\n  },\r\n  // Window Level\r\n  {\r\n    id: 'WindowLevel',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'tool-window-level',\r\n      label: i18n.t('Buttons:Window Level'),\r\n      commands: setToolActiveToolbar,\r\n      evaluate: [\r\n        'evaluate.cornerstoneTool',\r\n        {\r\n          name: 'evaluate.viewport.supported',\r\n          unsupportedViewportTypes: ['wholeSlide'],\r\n        },\r\n      ],\r\n    },\r\n  },\r\n  {\r\n    id: 'Pan',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      type: 'tool',\r\n      icon: 'tool-move',\r\n      label: i18n.t('Buttons:Pan'),\r\n      commands: setToolActiveToolbar,\r\n      evaluate: 'evaluate.cornerstoneTool',\r\n    },\r\n  },\r\n  {\r\n    id: 'Zoom',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      type: 'tool',\r\n      icon: 'tool-zoom',\r\n      label: i18n.t('Buttons:Zoom'),\r\n      commands: setToolActiveToolbar,\r\n      evaluate: 'evaluate.cornerstoneTool',\r\n    },\r\n  },\r\n  {\r\n    id: 'TrackballRotate',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      type: 'tool',\r\n      icon: 'tool-3d-rotate',\r\n      label: i18n.t('Buttons:3D Rotate'),\r\n      commands: setToolActiveToolbar,\r\n      evaluate: {\r\n        name: 'evaluate.cornerstoneTool',\r\n        disabledText: 'Select a 3D viewport to enable this tool',\r\n      },\r\n    },\r\n  },\r\n  {\r\n    id: 'Capture',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'tool-capture',\r\n      label: i18n.t('Buttons:Capture'),\r\n      commands: 'showDownloadViewportModal',\r\n      evaluate: [\r\n        'evaluate.action',\r\n        {\r\n          name: 'evaluate.viewport.supported',\r\n          unsupportedViewportTypes: ['video', 'wholeSlide'],\r\n        },\r\n      ],\r\n    },\r\n  },\r\n  {\r\n    id: 'Layout',\r\n    uiType: 'ohif.layoutSelector',\r\n    props: {\r\n      rows: 3,\r\n      columns: 4,\r\n      evaluate: 'evaluate.action',\r\n    },\r\n  },\r\n  {\r\n    id: 'Crosshairs',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      type: 'tool',\r\n      icon: 'tool-crosshair',\r\n      label: i18n.t('Buttons:Crosshairs'),\r\n      commands: {\r\n        commandName: 'setToolActiveToolbar',\r\n        commandOptions: {\r\n          toolGroupIds: ['mpr'],\r\n        },\r\n      },\r\n      evaluate: {\r\n        name: 'evaluate.cornerstoneTool',\r\n        disabledText: 'Select an MPR viewport to enable this tool',\r\n      },\r\n    },\r\n  },\r\n  // {\r\n  //   id: 'Undo',\r\n  //   uiType: 'ohif.toolButton',\r\n  //   props: {\r\n  //     type: 'tool',\r\n  //     icon: 'prev-arrow',\r\n  //     label: 'Undo',\r\n  //     commands: {\r\n  //       commandName: 'undo',\r\n  //     },\r\n  //     evaluate: 'evaluate.action',\r\n  //   },\r\n  // },\r\n  // {\r\n  //   id: 'Redo',\r\n  //   uiType: 'ohif.toolButton',\r\n  //   props: {\r\n  //     type: 'tool',\r\n  //     icon: 'next-arrow',\r\n  //     label: 'Redo',\r\n  //     commands: {\r\n  //       commandName: 'redo',\r\n  //     },\r\n  //     evaluate: 'evaluate.action',\r\n  //   },\r\n  // },\r\n];\r\n\r\nexport default toolbarButtons;\r\n","import i18n from 'i18next';\r\nimport { id } from './id';\r\nimport initToolGroups from './initToolGroups';\r\nimport toolbarButtons from './toolbarButtons';\r\nimport { UltrasoundPleuraBLineTool } from '@cornerstonejs/tools';\r\nimport { showPercentage } from '../../../extensions/usAnnotation/src/PleuraBlinePercentage';\r\n\r\nconst ohif = {\r\n  layout: '@ohif/extension-default.layoutTemplateModule.viewerLayout',\r\n  sopClassHandler: '@ohif/extension-default.sopClassHandlerModule.stack',\r\n  thumbnailList: '@ohif/extension-default.panelModule.seriesList',\r\n  wsiSopClassHandler:\r\n    '@ohif/extension-cornerstone.sopClassHandlerModule.DicomMicroscopySopClassHandler',\r\n};\r\n\r\nconst cornerstone = {\r\n  measurements: '@ohif/extension-cornerstone.panelModule.panelMeasurement',\r\n  segmentation: '@ohif/extension-cornerstone.panelModule.panelSegmentation',\r\n};\r\n\r\nconst tracked = {\r\n  measurements: '@ohif/extension-measurement-tracking.panelModule.trackedMeasurements',\r\n  thumbnailList: '@ohif/extension-measurement-tracking.panelModule.seriesList',\r\n  viewport: '@ohif/extension-measurement-tracking.viewportModule.cornerstone-tracked',\r\n};\r\n\r\nconst dicomsr = {\r\n  sopClassHandler: '@ohif/extension-cornerstone-dicom-sr.sopClassHandlerModule.dicom-sr',\r\n  sopClassHandler3D: '@ohif/extension-cornerstone-dicom-sr.sopClassHandlerModule.dicom-sr-3d',\r\n  viewport: '@ohif/extension-cornerstone-dicom-sr.viewportModule.dicom-sr',\r\n};\r\n\r\nconst dicomvideo = {\r\n  sopClassHandler: '@ohif/extension-dicom-video.sopClassHandlerModule.dicom-video',\r\n  viewport: '@ohif/extension-dicom-video.viewportModule.dicom-video',\r\n};\r\n\r\nconst dicompdf = {\r\n  sopClassHandler: '@ohif/extension-dicom-pdf.sopClassHandlerModule.dicom-pdf',\r\n  viewport: '@ohif/extension-dicom-pdf.viewportModule.dicom-pdf',\r\n};\r\n\r\nconst dicomSeg = {\r\n  sopClassHandler: '@ohif/extension-cornerstone-dicom-seg.sopClassHandlerModule.dicom-seg',\r\n  viewport: '@ohif/extension-cornerstone-dicom-seg.viewportModule.dicom-seg',\r\n};\r\n\r\nconst dicomPmap = {\r\n  sopClassHandler: '@ohif/extension-cornerstone-dicom-pmap.sopClassHandlerModule.dicom-pmap',\r\n  viewport: '@ohif/extension-cornerstone-dicom-pmap.viewportModule.dicom-pmap',\r\n};\r\n\r\nconst dicomRT = {\r\n  viewport: '@ohif/extension-cornerstone-dicom-rt.viewportModule.dicom-rt',\r\n  sopClassHandler: '@ohif/extension-cornerstone-dicom-rt.sopClassHandlerModule.dicom-rt',\r\n};\r\n\r\nconst usAnnotation = {\r\n  panel: '@ohif/extension-ultrasound-pleura-bline.panelModule.USAnnotationPanel',\r\n};\r\n\r\nlet settingsSaved = {};\r\nconst extensionDependencies = {\r\n  // Can derive the versions at least process.env.from npm_package_version\r\n  '@ohif/extension-default': '^3.0.0',\r\n  '@ohif/extension-cornerstone': '^3.0.0',\r\n  '@ohif/extension-measurement-tracking': '^3.0.0',\r\n  '@ohif/extension-cornerstone-dicom-sr': '^3.0.0',\r\n  '@ohif/extension-cornerstone-dicom-seg': '^3.0.0',\r\n  '@ohif/extension-cornerstone-dicom-pmap': '^3.0.0',\r\n  '@ohif/extension-cornerstone-dicom-rt': '^3.0.0',\r\n  '@ohif/extension-dicom-pdf': '^3.0.1',\r\n  '@ohif/extension-dicom-video': '^3.0.1',\r\n  '@ohif/extension-ultrasound-pleura-bline': '^3.0.0',\r\n};\r\n\r\nfunction modeFactory({ modeConfiguration }) {\r\n  let _activatePanelTriggersSubscriptions = [];\r\n  return {\r\n    // TODO: We're using this as a route segment\r\n    // We should not be.\r\n    id,\r\n    routeName: 'usAnnotation',\r\n    displayName: i18n.t('US Pleura B-line Annotations'),\r\n    /**\r\n     * Lifecycle hooks\r\n     */\r\n    onModeEnter: function ({\r\n      servicesManager,\r\n      extensionManager,\r\n      commandsManager,\r\n      appConfig,\r\n    }: withAppTypes) {\r\n      settingsSaved = {\r\n        disableConfirmationPrompts: appConfig?.disableConfirmationPrompts,\r\n        measurementTrackingMode: appConfig?.measurementTrackingMode,\r\n      };\r\n      appConfig.disableConfirmationPrompts = true;\r\n      appConfig.measurementTrackingMode = 'simplified';\r\n      const { measurementService, toolbarService, toolGroupService, customizationService } =\r\n        servicesManager.services;\r\n\r\n      measurementService.clearMeasurements();\r\n\r\n      // Init Default and SR ToolGroups\r\n      initToolGroups(extensionManager, toolGroupService, commandsManager);\r\n\r\n      toolbarService.register(toolbarButtons);\r\n      toolbarService.updateSection(toolbarService.sections.primary, [\r\n        'MeasurementTools',\r\n        'Zoom',\r\n        'Pan',\r\n        'TrackballRotate',\r\n        'WindowLevel',\r\n        'Capture',\r\n        'Layout',\r\n        'Crosshairs',\r\n        'MoreTools',\r\n      ]);\r\n\r\n      toolbarService.updateSection(toolbarService.sections.viewportActionMenu.topLeft, [\r\n        'orientationMenu',\r\n        'dataOverlayMenu',\r\n      ]);\r\n\r\n      toolbarService.updateSection(toolbarService.sections.viewportActionMenu.bottomMiddle, [\r\n        'AdvancedRenderingControls',\r\n      ]);\r\n\r\n      toolbarService.updateSection(toolbarService.sections.advancedRenderingControlsSection, [\r\n        'windowLevelMenuEmbedded',\r\n        'voiManualControlMenu',\r\n        'Colorbar',\r\n        'opacityMenu',\r\n        'thresholdMenu',\r\n      ]);\r\n\r\n      toolbarService.updateSection(toolbarService.sections.viewportActionMenu.topRight, [\r\n        'modalityLoadBadge',\r\n        'trackingStatus',\r\n        'navigationComponent',\r\n      ]);\r\n\r\n      toolbarService.updateSection(toolbarService.sections.viewportActionMenu.bottomLeft, [\r\n        'windowLevelMenu',\r\n      ]);\r\n\r\n      toolbarService.updateSection(toolbarService.sections.measurementSection, [\r\n        'Length',\r\n        'Bidirectional',\r\n        'ArrowAnnotate',\r\n        'EllipticalROI',\r\n        'RectangleROI',\r\n        'CircleROI',\r\n        'PlanarFreehandROI',\r\n        'SplineROI',\r\n        'LivewireContour',\r\n      ]);\r\n\r\n      toolbarService.updateSection(toolbarService.sections.moreToolsSection, [\r\n        'Reset',\r\n        'rotate-right',\r\n        'flipHorizontal',\r\n        'ImageSliceSync',\r\n        'ReferenceLines',\r\n        'ImageOverlayViewer',\r\n        'StackScroll',\r\n        'invert',\r\n        'Probe',\r\n        'Cine',\r\n        'Angle',\r\n        'CobbAngle',\r\n        'Magnify',\r\n        'CalibrationLine',\r\n        'TagBrowser',\r\n        'AdvancedMagnify',\r\n        'UltrasoundDirectionalTool',\r\n        'UltrasoundPleuraBLineTool',\r\n        'WindowLevelRegion',\r\n      ]);\r\n\r\n      customizationService.setCustomizations(\r\n        {\r\n          'panelSegmentation.disableEditing': {\r\n            $set: true,\r\n          },\r\n          autoCineModalities: {\r\n            $set: [],\r\n          },\r\n          'ohif.hotkeyBindings': {\r\n            $push: [\r\n              {\r\n                commandName: 'switchUSAnnotationToPleuraLine',\r\n                label: 'Add new pleura line',\r\n                keys: ['W'],\r\n              },\r\n              {\r\n                commandName: 'switchUSAnnotationToBLine',\r\n                label: 'Add new B-line',\r\n                keys: ['S'],\r\n              },\r\n              {\r\n                commandName: 'deleteLastPleuraAnnotation',\r\n                label: 'Delete last pleura line',\r\n                keys: ['E'],\r\n              },\r\n              {\r\n                commandName: 'deleteLastBLineAnnotation',\r\n                label: 'Delete last B-line',\r\n                keys: ['D'],\r\n              },\r\n              {\r\n                commandName: 'toggleDisplayFanAnnotation',\r\n                label: 'Toggle overlay',\r\n                keys: ['O'],\r\n              },\r\n            ],\r\n          },\r\n          measurementsContextMenu: {\r\n            inheritsFrom: 'ohif.contextMenu',\r\n            menus: [\r\n              // Get the items from the UI Customization for the menu name (and have a custom name)\r\n              {\r\n                id: 'forExistingMeasurement',\r\n                selector: ({ nearbyToolData }) => !!nearbyToolData,\r\n                items: [\r\n                  {\r\n                    label: 'Delete annotation',\r\n                    commands: 'removeMeasurement',\r\n                  },\r\n                ],\r\n              },\r\n            ],\r\n          },\r\n          'viewportOverlay.topLeft': [\r\n            {\r\n              id: 'BLinePleuraPercentage',\r\n              inheritsFrom: 'ohif.overlayItem',\r\n              label: '',\r\n              title: 'BLinePleuraPercentage',\r\n              condition: ({ referenceInstance }) =>\r\n                referenceInstance?.Modality.includes('US') && showPercentage,\r\n              contentF: () => {\r\n                const { viewportGridService, toolGroupService, cornerstoneViewportService } =\r\n                  servicesManager.services;\r\n                const activeViewportId = viewportGridService.getActiveViewportId();\r\n                const toolGroup = toolGroupService.getToolGroupForViewport(activeViewportId);\r\n                if (!toolGroup) {\r\n                  return 'B-Line/Pleura : N/A';\r\n                }\r\n                const usAnnotation = toolGroup.getToolInstance(UltrasoundPleuraBLineTool.toolName);\r\n                if (usAnnotation) {\r\n                  const viewport =\r\n                    cornerstoneViewportService.getCornerstoneViewport(activeViewportId);\r\n                  const percentage = usAnnotation.calculateBLinePleuraPercentage(viewport);\r\n                  if (percentage !== undefined) {\r\n                    return `B-Line/Pleura : ${percentage.toFixed(2)} %`;\r\n                  } else {\r\n                    return 'B-Line/Pleura : N/A';\r\n                  }\r\n                }\r\n                return 'B-Line/Pleura : N/A';\r\n              },\r\n            },\r\n          ],\r\n        },\r\n        'mode'\r\n      );\r\n    },\r\n    onModeExit: ({ servicesManager }: withAppTypes) => {\r\n      appConfig.disableConfirmationPrompts = settingsSaved.disableConfirmationPrompts;\r\n      appConfig.measurementTrackingMode = settingsSaved.measurementTrackingMode;\r\n\r\n      const {\r\n        toolGroupService,\r\n        syncGroupService,\r\n        segmentationService,\r\n        cornerstoneViewportService,\r\n        uiDialogService,\r\n        uiModalService,\r\n      } = servicesManager.services;\r\n\r\n      _activatePanelTriggersSubscriptions.forEach(sub => sub.unsubscribe());\r\n      _activatePanelTriggersSubscriptions = [];\r\n\r\n      uiDialogService.hideAll();\r\n      uiModalService.hide();\r\n      toolGroupService.destroy();\r\n      syncGroupService.destroy();\r\n      segmentationService.destroy();\r\n      cornerstoneViewportService.destroy();\r\n    },\r\n    validationTags: {\r\n      study: [],\r\n      series: [],\r\n    },\r\n\r\n    isValidMode: function ({ modalities }) {\r\n      const modalities_list = modalities.split('\\\\');\r\n\r\n      return {\r\n        valid: modalities_list.includes('US'),\r\n        description: 'Pleura b-lines annotation mode when the study involves US modality series',\r\n      };\r\n    },\r\n    routes: [\r\n      {\r\n        path: 'longitudinal',\r\n        /*init: ({ servicesManager, extensionManager }) => {\r\n          //defaultViewerRouteInit\r\n        },*/\r\n        layoutTemplate: () => {\r\n          return {\r\n            id: ohif.layout,\r\n            props: {\r\n              leftPanels: [tracked.thumbnailList],\r\n              leftPanelResizable: true,\r\n              rightPanels: [usAnnotation.panel, cornerstone.segmentation, tracked.measurements],\r\n              rightPanelResizable: true,\r\n              viewports: [\r\n                {\r\n                  namespace: tracked.viewport,\r\n                  displaySetsToDisplay: [\r\n                    ohif.sopClassHandler,\r\n                    dicomvideo.sopClassHandler,\r\n                    dicomsr.sopClassHandler3D,\r\n                    ohif.wsiSopClassHandler,\r\n                  ],\r\n                },\r\n                {\r\n                  namespace: dicomsr.viewport,\r\n                  displaySetsToDisplay: [dicomsr.sopClassHandler],\r\n                },\r\n                {\r\n                  namespace: dicompdf.viewport,\r\n                  displaySetsToDisplay: [dicompdf.sopClassHandler],\r\n                },\r\n                {\r\n                  namespace: dicomSeg.viewport,\r\n                  displaySetsToDisplay: [dicomSeg.sopClassHandler],\r\n                },\r\n                {\r\n                  namespace: dicomPmap.viewport,\r\n                  displaySetsToDisplay: [dicomPmap.sopClassHandler],\r\n                },\r\n                {\r\n                  namespace: dicomRT.viewport,\r\n                  displaySetsToDisplay: [dicomRT.sopClassHandler],\r\n                },\r\n              ],\r\n            },\r\n          };\r\n        },\r\n      },\r\n    ],\r\n    extensions: extensionDependencies,\r\n    // Default protocol gets self-registered by default in the init\r\n    hangingProtocol: 'default',\r\n    // Order is important in sop class handlers when two handlers both use\r\n    // the same sop class under different situations.  In that case, the more\r\n    // general handler needs to come last.  For this case, the dicomvideo must\r\n    // come first to remove video transfer syntax before ohif uses images\r\n    sopClassHandlers: [\r\n      dicomvideo.sopClassHandler,\r\n      dicomSeg.sopClassHandler,\r\n      dicomPmap.sopClassHandler,\r\n      ohif.sopClassHandler,\r\n      ohif.wsiSopClassHandler,\r\n      dicompdf.sopClassHandler,\r\n      dicomsr.sopClassHandler3D,\r\n      dicomsr.sopClassHandler,\r\n      dicomRT.sopClassHandler,\r\n    ],\r\n    ...modeConfiguration,\r\n  };\r\n}\r\n\r\nconst mode = {\r\n  id,\r\n  modeFactory,\r\n  extensionDependencies,\r\n};\r\n\r\nexport default mode;\r\nexport { initToolGroups, toolbarButtons };\r\n"],"names":["ChangeTypes","Events","SegmentationRepresentations","StrategyCallbacks","MouseBindings","KeyboardBindings","ToolModes","Swipe","AnnotationStyleStates","showPercentage","setShowPercentage","value","id","packageJson","colours","colorsByOrientation","axial","sagittal","coronal","extensionManager","toolGroupService","commandsManager","toolGroupId","utilityModule","getModuleEntry","toolNames","Enums","exports","tools","active","toolName","UltrasoundAnnotation","bindings","mouseButton","Primary","Pan","Auxiliary","Zoom","Secondary","StackScroll","Wheel","passive","Length","ArrowAnnotate","configuration","getTextCallback","callback","eventDetails","runCommand","changeTextCallback","data","SegmentBidirectional","Bidirectional","DragProbe","Probe","EllipticalROI","CircleROI","RectangleROI","Angle","CobbAngle","Magnify","CalibrationLine","PlanarFreehandContourSegmentation","displayOnePointAsCrosshairs","UltrasoundDirectional","WindowLevel","PlanarFreehandROI","SplineROI","LivewireContour","WindowLevelRegion","enabled","ImageOverlayViewer","ReferenceLines","disabled","AdvancedMagnify","createToolGroupAndAddTools","initDefaultToolGroup","SRUtilityModule","CS3DUtilityModule","SRToolNames","SRLength","SRArrowAnnotate","SRBidirectional","SREllipticalROI","SRCircleROI","SRPlanarFreehandROI","SRRectangleROI","DICOMSRDisplay","initSRToolGroup","serviceManager","_servicesManager","cornerstoneViewportService","services","Crosshairs","viewportIndicators","viewportIndicatorsConfig","circleRadius","xOffset","yOffset","disableOnPassive","autoPan","panSize","getReferenceLineColor","viewportId","viewportInfo","getViewportInfo","viewportOptions","orientation","console","warn","initMPRToolGroup","TrackballRotateTool","initVolume3DToolGroup","callbacks","commandName","commandOptions","setToolActiveToolbar","toolGroupIds","uiType","props","buttonSection","icon","label","i18n","t","tooltip","evaluate","name","hideWhenDisabled","type","commands","unsupportedViewportTypes","listeners","EVENTS","VIEWPORT_NEW_IMAGE_SET","toggledState","ViewportGridService","ACTIVE_VIEWPORT_ID_CHANGED","VIEWPORTS_READY","supportedModalities","disabledText","rows","columns","ohif","cornerstone","tracked","dicomsr","dicomvideo","dicompdf","dicomSeg","dicomPmap","dicomRT","usAnnotation","settingsSaved","extensionDependencies","mode","modeFactory","modeConfiguration","_activatePanelTriggersSubscriptions","routeName","displayName","onModeEnter","servicesManager","appConfig","disableConfirmationPrompts","measurementTrackingMode","measurementService","toolbarService","customizationService","clearMeasurements","initToolGroups","register","toolbarButtons","updateSection","sections","primary","viewportActionMenu","topLeft","bottomMiddle","advancedRenderingControlsSection","topRight","bottomLeft","measurementSection","moreToolsSection","setCustomizations","$set","autoCineModalities","$push","keys","measurementsContextMenu","inheritsFrom","menus","selector","nearbyToolData","items","title","condition","referenceInstance","Modality","includes","contentF","viewportGridService","activeViewportId","getActiveViewportId","toolGroup","getToolGroupForViewport","getToolInstance","UltrasoundPleuraBLineTool","viewport","getCornerstoneViewport","percentage","calculateBLinePleuraPercentage","undefined","toFixed","onModeExit","syncGroupService","segmentationService","uiDialogService","uiModalService","forEach","sub","unsubscribe","hideAll","hide","destroy","validationTags","study","series","isValidMode","modalities","valid","split","description","routes","path","layoutTemplate","leftPanels","leftPanelResizable","rightPanels","rightPanelResizable","viewports","namespace","displaySetsToDisplay","extensions","hangingProtocol","sopClassHandlers"],"sourceRoot":""}