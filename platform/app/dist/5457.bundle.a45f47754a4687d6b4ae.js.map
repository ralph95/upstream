{"version":3,"file":"5457.bundle.a45f47754a4687d6b4ae.js","mappings":"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","sources":["webpack:///../../../modes/basic/src/initToolGroups.ts","webpack:///../../../modes/basic/src/toolbarButtons.ts","webpack:///../../../modes/basic/src/id.js","webpack:///../../../modes/basic/src/index.tsx","webpack:///../../../modes/longitudinal/src/id.js","webpack:///../../../modes/longitudinal/src/index.ts"],"sourcesContent":["const colours = {\r\n  'viewport-0': 'rgb(200, 0, 0)',\r\n  'viewport-1': 'rgb(200, 200, 0)',\r\n  'viewport-2': 'rgb(0, 200, 0)',\r\n};\r\n\r\nconst colorsByOrientation = {\r\n  axial: 'rgb(200, 0, 0)',\r\n  sagittal: 'rgb(200, 200, 0)',\r\n  coronal: 'rgb(0, 200, 0)',\r\n};\r\n\r\nfunction initDefaultToolGroup(extensionManager, toolGroupService, commandsManager, toolGroupId) {\r\n  const utilityModule = extensionManager.getModuleEntry(\r\n    '@ohif/extension-cornerstone.utilityModule.tools'\r\n  );\r\n\r\n  const { toolNames, Enums } = utilityModule.exports;\r\n\r\n  const tools = {\r\n    active: [\r\n      {\r\n        toolName: toolNames.WindowLevel,\r\n        bindings: [{ mouseButton: Enums.MouseBindings.Primary }],\r\n      },\r\n      {\r\n        toolName: toolNames.Pan,\r\n        bindings: [{ mouseButton: Enums.MouseBindings.Auxiliary }],\r\n      },\r\n      {\r\n        toolName: toolNames.Zoom,\r\n        bindings: [{ mouseButton: Enums.MouseBindings.Secondary }, { numTouchPoints: 2 }],\r\n      },\r\n      {\r\n        toolName: toolNames.StackScroll,\r\n        bindings: [{ mouseButton: Enums.MouseBindings.Wheel }, { numTouchPoints: 3 }],\r\n      },\r\n    ],\r\n    passive: [\r\n      { toolName: toolNames.Length },\r\n      {\r\n        toolName: toolNames.ArrowAnnotate,\r\n        configuration: {\r\n          getTextCallback: (callback, eventDetails) => {\r\n            commandsManager.runCommand('arrowTextCallback', {\r\n              callback,\r\n              eventDetails,\r\n            });\r\n          },\r\n          changeTextCallback: (data, eventDetails, callback) => {\r\n            commandsManager.runCommand('arrowTextCallback', {\r\n              callback,\r\n              data,\r\n              eventDetails,\r\n            });\r\n          },\r\n        },\r\n      },\r\n      {\r\n        toolName: toolNames.SegmentBidirectional,\r\n      },\r\n      { toolName: toolNames.Bidirectional },\r\n      { toolName: toolNames.DragProbe },\r\n      { toolName: toolNames.Probe },\r\n      { toolName: toolNames.EllipticalROI },\r\n      { toolName: toolNames.CircleROI },\r\n      { toolName: toolNames.RectangleROI },\r\n      { toolName: toolNames.StackScroll },\r\n      { toolName: toolNames.Angle },\r\n      { toolName: toolNames.CobbAngle },\r\n      { toolName: toolNames.Magnify },\r\n      { toolName: toolNames.CalibrationLine },\r\n      {\r\n        toolName: toolNames.PlanarFreehandContourSegmentation,\r\n        configuration: {\r\n          displayOnePointAsCrosshairs: true,\r\n        },\r\n      },\r\n      { toolName: toolNames.UltrasoundDirectional },\r\n      { toolName: toolNames.PlanarFreehandROI },\r\n      { toolName: toolNames.SplineROI },\r\n      { toolName: toolNames.LivewireContour },\r\n      { toolName: toolNames.WindowLevelRegion },\r\n    ],\r\n    enabled: [\r\n      { toolName: toolNames.ImageOverlayViewer },\r\n      { toolName: toolNames.ReferenceLines },\r\n    ],\r\n    disabled: [\r\n      {\r\n        toolName: toolNames.AdvancedMagnify,\r\n      },\r\n    ],\r\n  };\r\n\r\n  const updatedTools = commandsManager.run('initializeSegmentLabelTool', { tools });\r\n\r\n  toolGroupService.createToolGroupAndAddTools(toolGroupId, updatedTools);\r\n}\r\n\r\nfunction initSRToolGroup(extensionManager, toolGroupService) {\r\n  const SRUtilityModule = extensionManager.getModuleEntry(\r\n    '@ohif/extension-cornerstone-dicom-sr.utilityModule.tools'\r\n  );\r\n\r\n  if (!SRUtilityModule) {\r\n    return;\r\n  }\r\n\r\n  const CS3DUtilityModule = extensionManager.getModuleEntry(\r\n    '@ohif/extension-cornerstone.utilityModule.tools'\r\n  );\r\n\r\n  const { toolNames: SRToolNames } = SRUtilityModule.exports;\r\n  const { toolNames, Enums } = CS3DUtilityModule.exports;\r\n  const tools = {\r\n    active: [\r\n      {\r\n        toolName: toolNames.WindowLevel,\r\n        bindings: [\r\n          {\r\n            mouseButton: Enums.MouseBindings.Primary,\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        toolName: toolNames.Pan,\r\n        bindings: [\r\n          {\r\n            mouseButton: Enums.MouseBindings.Auxiliary,\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        toolName: toolNames.Zoom,\r\n        bindings: [\r\n          {\r\n            mouseButton: Enums.MouseBindings.Secondary,\r\n          },\r\n          { numTouchPoints: 2 },\r\n        ],\r\n      },\r\n      {\r\n        toolName: toolNames.StackScroll,\r\n        bindings: [{ mouseButton: Enums.MouseBindings.Wheel }, { numTouchPoints: 3 }],\r\n      },\r\n    ],\r\n    passive: [\r\n      { toolName: SRToolNames.SRLength },\r\n      { toolName: SRToolNames.SRArrowAnnotate },\r\n      { toolName: SRToolNames.SRBidirectional },\r\n      { toolName: SRToolNames.SREllipticalROI },\r\n      { toolName: SRToolNames.SRCircleROI },\r\n      { toolName: SRToolNames.SRPlanarFreehandROI },\r\n      { toolName: SRToolNames.SRRectangleROI },\r\n      { toolName: toolNames.WindowLevelRegion },\r\n    ],\r\n    enabled: [\r\n      {\r\n        toolName: SRToolNames.DICOMSRDisplay,\r\n      },\r\n    ],\r\n    // disabled\r\n  };\r\n\r\n  const toolGroupId = 'SRToolGroup';\r\n  toolGroupService.createToolGroupAndAddTools(toolGroupId, tools);\r\n}\r\n\r\nfunction initMPRToolGroup(extensionManager, toolGroupService, commandsManager) {\r\n  const utilityModule = extensionManager.getModuleEntry(\r\n    '@ohif/extension-cornerstone.utilityModule.tools'\r\n  );\r\n\r\n  const serviceManager = extensionManager._servicesManager;\r\n  const { cornerstoneViewportService } = serviceManager.services;\r\n\r\n  const { toolNames, Enums } = utilityModule.exports;\r\n\r\n  const tools = {\r\n    active: [\r\n      {\r\n        toolName: toolNames.WindowLevel,\r\n        bindings: [{ mouseButton: Enums.MouseBindings.Primary }],\r\n      },\r\n      {\r\n        toolName: toolNames.Pan,\r\n        bindings: [{ mouseButton: Enums.MouseBindings.Auxiliary }],\r\n      },\r\n      {\r\n        toolName: toolNames.Zoom,\r\n        bindings: [{ mouseButton: Enums.MouseBindings.Secondary }, { numTouchPoints: 2 }],\r\n      },\r\n      {\r\n        toolName: toolNames.StackScroll,\r\n        bindings: [{ mouseButton: Enums.MouseBindings.Wheel }, { numTouchPoints: 3 }],\r\n      },\r\n    ],\r\n    passive: [\r\n      { toolName: toolNames.Length },\r\n      {\r\n        toolName: toolNames.ArrowAnnotate,\r\n        configuration: {\r\n          getTextCallback: (callback, eventDetails) => {\r\n            commandsManager.runCommand('arrowTextCallback', {\r\n              callback,\r\n              eventDetails,\r\n            });\r\n          },\r\n          changeTextCallback: (data, eventDetails, callback) => {\r\n            commandsManager.runCommand('arrowTextCallback', {\r\n              callback,\r\n              data,\r\n              eventDetails,\r\n            });\r\n          },\r\n        },\r\n      },\r\n      { toolName: toolNames.Bidirectional },\r\n      { toolName: toolNames.DragProbe },\r\n      { toolName: toolNames.Probe },\r\n      { toolName: toolNames.EllipticalROI },\r\n      { toolName: toolNames.CircleROI },\r\n      { toolName: toolNames.RectangleROI },\r\n      { toolName: toolNames.StackScroll },\r\n      { toolName: toolNames.Angle },\r\n      { toolName: toolNames.CobbAngle },\r\n      { toolName: toolNames.PlanarFreehandROI },\r\n      { toolName: toolNames.SplineROI },\r\n      { toolName: toolNames.LivewireContour },\r\n      { toolName: toolNames.WindowLevelRegion },\r\n      {\r\n        toolName: toolNames.PlanarFreehandContourSegmentation,\r\n        configuration: {\r\n          displayOnePointAsCrosshairs: true,\r\n        },\r\n      },\r\n    ],\r\n    disabled: [\r\n      {\r\n        toolName: toolNames.Crosshairs,\r\n        configuration: {\r\n          viewportIndicators: true,\r\n          viewportIndicatorsConfig: {\r\n            circleRadius: 5,\r\n            xOffset: 0.95,\r\n            yOffset: 0.05,\r\n          },\r\n          disableOnPassive: true,\r\n          autoPan: {\r\n            enabled: false,\r\n            panSize: 10,\r\n          },\r\n          getReferenceLineColor: viewportId => {\r\n            const viewportInfo = cornerstoneViewportService.getViewportInfo(viewportId);\r\n            const viewportOptions = viewportInfo?.viewportOptions;\r\n            if (viewportOptions) {\r\n              return (\r\n                colours[viewportOptions.id] ||\r\n                colorsByOrientation[viewportOptions.orientation] ||\r\n                '#0c0'\r\n              );\r\n            } else {\r\n              console.warn('missing viewport?', viewportId);\r\n              return '#0c0';\r\n            }\r\n          },\r\n        },\r\n      },\r\n      {\r\n        toolName: toolNames.AdvancedMagnify,\r\n      },\r\n      { toolName: toolNames.ReferenceLines },\r\n    ],\r\n  };\r\n\r\n  toolGroupService.createToolGroupAndAddTools('mpr', tools);\r\n}\r\nfunction initVolume3DToolGroup(extensionManager, toolGroupService) {\r\n  const utilityModule = extensionManager.getModuleEntry(\r\n    '@ohif/extension-cornerstone.utilityModule.tools'\r\n  );\r\n\r\n  const { toolNames, Enums } = utilityModule.exports;\r\n\r\n  const tools = {\r\n    active: [\r\n      {\r\n        toolName: toolNames.TrackballRotateTool,\r\n        bindings: [{ mouseButton: Enums.MouseBindings.Primary }],\r\n      },\r\n      {\r\n        toolName: toolNames.Zoom,\r\n        bindings: [{ mouseButton: Enums.MouseBindings.Secondary }, { numTouchPoints: 2 }],\r\n      },\r\n      {\r\n        toolName: toolNames.Pan,\r\n        bindings: [{ mouseButton: Enums.MouseBindings.Auxiliary }, { numTouchPoints: 3 }],\r\n      },\r\n    ],\r\n  };\r\n\r\n  toolGroupService.createToolGroupAndAddTools('volume3d', tools);\r\n}\r\n\r\nfunction initToolGroups(extensionManager, toolGroupService, commandsManager) {\r\n  initDefaultToolGroup(extensionManager, toolGroupService, commandsManager, 'default');\r\n  initSRToolGroup(extensionManager, toolGroupService);\r\n  initMPRToolGroup(extensionManager, toolGroupService, commandsManager);\r\n  initVolume3DToolGroup(extensionManager, toolGroupService);\r\n}\r\n\r\nexport default initToolGroups;\r\n","import type { Button } from '@ohif/core/types';\r\n\r\nimport { EVENTS } from '@cornerstonejs/core';\r\nimport { ViewportGridService } from '@ohif/core';\r\nimport i18n from 'i18next';\r\n\r\nconst callbacks = (toolName: string) => [\r\n  {\r\n    commandName: 'setViewportForToolConfiguration',\r\n    commandOptions: {\r\n      toolName,\r\n    },\r\n  },\r\n];\r\n\r\nexport const setToolActiveToolbar = {\r\n  commandName: 'setToolActiveToolbar',\r\n  commandOptions: {\r\n    toolGroupIds: ['default', 'mpr', 'SRToolGroup', 'volume3d'],\r\n  },\r\n};\r\n\r\nconst toolbarButtons: Button[] = [\r\n  // sections\r\n  {\r\n    id: 'MeasurementTools',\r\n    uiType: 'ohif.toolButtonList',\r\n    props: {\r\n      buttonSection: true,\r\n    },\r\n  },\r\n  {\r\n    id: 'MoreTools',\r\n    uiType: 'ohif.toolButtonList',\r\n    props: {\r\n      buttonSection: true,\r\n    },\r\n  },\r\n  {\r\n    id: 'AdvancedRenderingControls',\r\n    uiType: 'ohif.advancedRenderingControls',\r\n    props: {\r\n      buttonSection: true,\r\n    },\r\n  },\r\n  // tool defs\r\n  {\r\n    id: 'modalityLoadBadge',\r\n    uiType: 'ohif.modalityLoadBadge',\r\n    props: {\r\n      icon: 'Status',\r\n      label: i18n.t('Buttons:Status'),\r\n      tooltip: i18n.t('Buttons:Status'),\r\n      evaluate: {\r\n        name: 'evaluate.modalityLoadBadge',\r\n        hideWhenDisabled: true,\r\n      },\r\n    },\r\n  },\r\n  {\r\n    id: 'navigationComponent',\r\n    uiType: 'ohif.navigationComponent',\r\n    props: {\r\n      icon: 'Navigation',\r\n      label: i18n.t('Buttons:Navigation'),\r\n      tooltip: i18n.t('Buttons:Navigate between segments/measurements and manage their visibility'),\r\n      evaluate: {\r\n        name: 'evaluate.navigationComponent',\r\n        hideWhenDisabled: true,\r\n      },\r\n    },\r\n  },\r\n  {\r\n    id: 'trackingStatus',\r\n    uiType: 'ohif.trackingStatus',\r\n    props: {\r\n      icon: 'TrackingStatus',\r\n      label: i18n.t('Buttons:Tracking Status'),\r\n      tooltip: i18n.t('Buttons:View and manage tracking status of measurements and annotations'),\r\n      evaluate: {\r\n        name: 'evaluate.trackingStatus',\r\n        hideWhenDisabled: true,\r\n      },\r\n    },\r\n  },\r\n  {\r\n    id: 'dataOverlayMenu',\r\n    uiType: 'ohif.dataOverlayMenu',\r\n    props: {\r\n      icon: 'ViewportViews',\r\n      label: i18n.t('Buttons:Data Overlay'),\r\n      tooltip: i18n.t(\r\n        'Buttons:Configure data overlay options and manage foreground/background display sets'\r\n      ),\r\n      evaluate: 'evaluate.dataOverlayMenu',\r\n    },\r\n  },\r\n  {\r\n    id: 'orientationMenu',\r\n    uiType: 'ohif.orientationMenu',\r\n    props: {\r\n      icon: 'OrientationSwitch',\r\n      label: i18n.t('Buttons:Orientation'),\r\n      tooltip: i18n.t(\r\n        'Buttons:Change viewport orientation between axial, sagittal, coronal and reformat planes'\r\n      ),\r\n      evaluate: {\r\n        name: 'evaluate.orientationMenu',\r\n        // hideWhenDisabled: true,\r\n      },\r\n    },\r\n  },\r\n  {\r\n    id: 'windowLevelMenuEmbedded',\r\n    uiType: 'ohif.windowLevelMenuEmbedded',\r\n    props: {\r\n      icon: 'WindowLevel',\r\n      label: i18n.t('Buttons:Window Level'),\r\n      tooltip: i18n.t('Buttons:Adjust window/level presets and customize image contrast settings'),\r\n      evaluate: {\r\n        name: 'evaluate.windowLevelMenuEmbedded',\r\n        hideWhenDisabled: true,\r\n      },\r\n    },\r\n  },\r\n  {\r\n    id: 'windowLevelMenu',\r\n    uiType: 'ohif.windowLevelMenu',\r\n    props: {\r\n      icon: 'WindowLevel',\r\n      label: i18n.t('Buttons:Window Level'),\r\n      tooltip: i18n.t('Buttons:Adjust window/level presets and customize image contrast settings'),\r\n      evaluate: {\r\n        name: 'evaluate.windowLevelMenu',\r\n      },\r\n    },\r\n  },\r\n  {\r\n    id: 'voiManualControlMenu',\r\n    uiType: 'ohif.voiManualControlMenu',\r\n    props: {\r\n      icon: 'WindowLevelAdvanced',\r\n      label: i18n.t('Buttons:Advanced Window Level'),\r\n      tooltip: i18n.t('Buttons:Advanced window/level settings with manual controls and presets'),\r\n      evaluate: 'evaluate.voiManualControlMenu',\r\n    },\r\n  },\r\n  {\r\n    id: 'thresholdMenu',\r\n    uiType: 'ohif.thresholdMenu',\r\n    props: {\r\n      icon: 'Threshold',\r\n      label: i18n.t('Buttons:Threshold'),\r\n      tooltip: i18n.t('Buttons:Image threshold settings'),\r\n      evaluate: {\r\n        name: 'evaluate.thresholdMenu',\r\n        hideWhenDisabled: true,\r\n      },\r\n    },\r\n  },\r\n  {\r\n    id: 'opacityMenu',\r\n    uiType: 'ohif.opacityMenu',\r\n    props: {\r\n      icon: 'Opacity',\r\n      label: i18n.t('Buttons:Opacity'),\r\n      tooltip: i18n.t('Buttons:Image opacity settings'),\r\n      evaluate: {\r\n        name: 'evaluate.opacityMenu',\r\n        hideWhenDisabled: true,\r\n      },\r\n    },\r\n  },\r\n  {\r\n    id: 'Colorbar',\r\n    uiType: 'ohif.colorbar',\r\n    props: {\r\n      type: 'tool',\r\n      label: i18n.t('Buttons:Colorbar'),\r\n    },\r\n  },\r\n  {\r\n    id: 'Reset',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'tool-reset',\r\n      label: i18n.t('Buttons:Reset View'),\r\n      tooltip: i18n.t('Buttons:Reset View'),\r\n      commands: 'resetViewport',\r\n      evaluate: 'evaluate.action',\r\n    },\r\n  },\r\n  {\r\n    id: 'rotate-right',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'tool-rotate-right',\r\n      label: i18n.t('Buttons:Rotate Right'),\r\n      tooltip: i18n.t('Buttons:Rotate +90'),\r\n      commands: 'rotateViewportCW',\r\n      evaluate: [\r\n        'evaluate.action',\r\n        {\r\n          name: 'evaluate.viewport.supported',\r\n          unsupportedViewportTypes: ['video'],\r\n        },\r\n      ],\r\n    },\r\n  },\r\n  {\r\n    id: 'flipHorizontal',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'tool-flip-horizontal',\r\n      label: i18n.t('Buttons:Flip Horizontal'),\r\n      tooltip: i18n.t('Buttons:Flip Horizontally'),\r\n      commands: 'flipViewportHorizontal',\r\n      evaluate: [\r\n        'evaluate.viewportProperties.toggle',\r\n        {\r\n          name: 'evaluate.viewport.supported',\r\n          unsupportedViewportTypes: ['video', 'volume3d'],\r\n        },\r\n      ],\r\n    },\r\n  },\r\n  {\r\n    id: 'ImageSliceSync',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'link',\r\n      label: i18n.t('Buttons:Image Slice Sync'),\r\n      tooltip: i18n.t('Buttons:Enable position synchronization on stack viewports'),\r\n      commands: {\r\n        commandName: 'toggleSynchronizer',\r\n        commandOptions: {\r\n          type: 'imageSlice',\r\n        },\r\n      },\r\n      listeners: {\r\n        [EVENTS.VIEWPORT_NEW_IMAGE_SET]: {\r\n          commandName: 'toggleImageSliceSync',\r\n          commandOptions: { toggledState: true },\r\n        },\r\n      },\r\n      evaluate: [\r\n        'evaluate.cornerstone.synchronizer',\r\n        {\r\n          name: 'evaluate.viewport.supported',\r\n          unsupportedViewportTypes: ['video', 'volume3d'],\r\n        },\r\n      ],\r\n    },\r\n  },\r\n  {\r\n    id: 'ReferenceLines',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'tool-referenceLines',\r\n      label: i18n.t('Buttons:Reference Lines'),\r\n      tooltip: i18n.t('Buttons:Show Reference Lines'),\r\n      commands: 'toggleEnabledDisabledToolbar',\r\n      listeners: {\r\n        [ViewportGridService.EVENTS.ACTIVE_VIEWPORT_ID_CHANGED]: callbacks('ReferenceLines'),\r\n        [ViewportGridService.EVENTS.VIEWPORTS_READY]: callbacks('ReferenceLines'),\r\n      },\r\n      evaluate: [\r\n        'evaluate.cornerstoneTool.toggle',\r\n        {\r\n          name: 'evaluate.viewport.supported',\r\n          unsupportedViewportTypes: ['video'],\r\n        },\r\n      ],\r\n    },\r\n  },\r\n  {\r\n    id: 'ImageOverlayViewer',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'toggle-dicom-overlay',\r\n      label: i18n.t('Buttons:Image Overlay'),\r\n      tooltip: i18n.t('Buttons:Toggle Image Overlay'),\r\n      commands: 'toggleEnabledDisabledToolbar',\r\n      evaluate: [\r\n        'evaluate.cornerstoneTool.toggle',\r\n        {\r\n          name: 'evaluate.viewport.supported',\r\n          unsupportedViewportTypes: ['video'],\r\n        },\r\n      ],\r\n    },\r\n  },\r\n  {\r\n    id: 'StackScroll',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'tool-stack-scroll',\r\n      label: i18n.t('Buttons:Stack Scroll'),\r\n      tooltip: i18n.t('Buttons:Stack Scroll'),\r\n      commands: setToolActiveToolbar,\r\n      evaluate: 'evaluate.cornerstoneTool',\r\n    },\r\n  },\r\n  {\r\n    id: 'invert',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'tool-invert',\r\n      label: i18n.t('Buttons:Invert'),\r\n      tooltip: i18n.t('Buttons:Invert Colors'),\r\n      commands: 'invertViewport',\r\n      evaluate: [\r\n        'evaluate.viewportProperties.toggle',\r\n        {\r\n          name: 'evaluate.viewport.supported',\r\n          unsupportedViewportTypes: ['video'],\r\n        },\r\n      ],\r\n    },\r\n  },\r\n  {\r\n    id: 'Probe',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'tool-probe',\r\n      label: i18n.t('Buttons:Probe'),\r\n      tooltip: i18n.t('Buttons:Probe'),\r\n      commands: setToolActiveToolbar,\r\n      evaluate: 'evaluate.cornerstoneTool',\r\n    },\r\n  },\r\n  {\r\n    id: 'Cine',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'tool-cine',\r\n      label: i18n.t('Buttons:Cine'),\r\n      tooltip: i18n.t('Buttons:Cine'),\r\n      commands: 'toggleCine',\r\n      evaluate: [\r\n        'evaluate.cine',\r\n        {\r\n          name: 'evaluate.viewport.supported',\r\n          unsupportedViewportTypes: ['volume3d'],\r\n        },\r\n      ],\r\n    },\r\n  },\r\n  {\r\n    id: 'Angle',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'tool-angle',\r\n      label: i18n.t('Buttons:Angle'),\r\n      tooltip: i18n.t('Buttons:Angle'),\r\n      commands: setToolActiveToolbar,\r\n      evaluate: 'evaluate.cornerstoneTool',\r\n    },\r\n  },\r\n  {\r\n    id: 'CobbAngle',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'icon-tool-cobb-angle',\r\n      label: i18n.t('Buttons:Cobb Angle'),\r\n      tooltip: i18n.t('Buttons:Cobb Angle'),\r\n      commands: setToolActiveToolbar,\r\n      evaluate: 'evaluate.cornerstoneTool',\r\n    },\r\n  },\r\n  {\r\n    id: 'Magnify',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'tool-magnify',\r\n      label: i18n.t('Buttons:Zoom-in'),\r\n      tooltip: i18n.t('Buttons:Zoom-in'),\r\n      commands: setToolActiveToolbar,\r\n      evaluate: [\r\n        'evaluate.cornerstoneTool',\r\n        {\r\n          name: 'evaluate.viewport.supported',\r\n          unsupportedViewportTypes: ['video'],\r\n        },\r\n      ],\r\n    },\r\n  },\r\n  {\r\n    id: 'CalibrationLine',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'tool-calibration',\r\n      label: i18n.t('Buttons:Calibration'),\r\n      tooltip: i18n.t('Buttons:Calibration Line'),\r\n      commands: setToolActiveToolbar,\r\n      evaluate: [\r\n        'evaluate.cornerstoneTool',\r\n        {\r\n          name: 'evaluate.viewport.supported',\r\n          unsupportedViewportTypes: ['video'],\r\n        },\r\n      ],\r\n    },\r\n  },\r\n  {\r\n    id: 'TagBrowser',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'dicom-tag-browser',\r\n      label: i18n.t('Buttons:Dicom Tag Browser'),\r\n      tooltip: i18n.t('Buttons:Dicom Tag Browser'),\r\n      commands: 'openDICOMTagViewer',\r\n    },\r\n  },\r\n  {\r\n    id: 'AdvancedMagnify',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'icon-tool-loupe',\r\n      label: i18n.t('Buttons:Magnify Probe'),\r\n      tooltip: i18n.t('Buttons:Magnify Probe'),\r\n      commands: 'toggleActiveDisabledToolbar',\r\n      evaluate: [\r\n        'evaluate.cornerstoneTool.toggle.ifStrictlyDisabled',\r\n        {\r\n          name: 'evaluate.viewport.supported',\r\n          unsupportedViewportTypes: ['video'],\r\n        },\r\n      ],\r\n    },\r\n  },\r\n  {\r\n    id: 'UltrasoundDirectionalTool',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'icon-tool-ultrasound-bidirectional',\r\n      label: i18n.t('Buttons:Ultrasound Directional'),\r\n      tooltip: i18n.t('Buttons:Ultrasound Directional'),\r\n      commands: setToolActiveToolbar,\r\n      evaluate: [\r\n        'evaluate.cornerstoneTool',\r\n        {\r\n          name: 'evaluate.modality.supported',\r\n          supportedModalities: ['US'],\r\n        },\r\n      ],\r\n    },\r\n  },\r\n  {\r\n    id: 'WindowLevelRegion',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'icon-tool-window-region',\r\n      label: i18n.t('Buttons:Window Level Region'),\r\n      tooltip: i18n.t('Buttons:Window Level Region'),\r\n      commands: setToolActiveToolbar,\r\n      evaluate: [\r\n        'evaluate.cornerstoneTool',\r\n        {\r\n          name: 'evaluate.viewport.supported',\r\n          unsupportedViewportTypes: ['video'],\r\n        },\r\n      ],\r\n    },\r\n  },\r\n  {\r\n    id: 'Length',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'tool-length',\r\n      label: i18n.t('Buttons:Length'),\r\n      tooltip: i18n.t('Buttons:Length Tool'),\r\n      commands: setToolActiveToolbar,\r\n      evaluate: 'evaluate.cornerstoneTool',\r\n    },\r\n  },\r\n  {\r\n    id: 'Bidirectional',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'tool-bidirectional',\r\n      label: i18n.t('Buttons:Bidirectional'),\r\n      tooltip: i18n.t('Buttons:Bidirectional Tool'),\r\n      commands: setToolActiveToolbar,\r\n      evaluate: 'evaluate.cornerstoneTool',\r\n    },\r\n  },\r\n  {\r\n    id: 'ArrowAnnotate',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'tool-annotate',\r\n      label: i18n.t('Buttons:Annotation'),\r\n      tooltip: i18n.t('Buttons:Arrow Annotate'),\r\n      commands: setToolActiveToolbar,\r\n      evaluate: 'evaluate.cornerstoneTool',\r\n    },\r\n  },\r\n  {\r\n    id: 'EllipticalROI',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'tool-ellipse',\r\n      label: i18n.t('Buttons:Ellipse'),\r\n      tooltip: i18n.t('Buttons:Ellipse ROI'),\r\n      commands: setToolActiveToolbar,\r\n      evaluate: 'evaluate.cornerstoneTool',\r\n    },\r\n  },\r\n  {\r\n    id: 'RectangleROI',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'tool-rectangle',\r\n      label: i18n.t('Buttons:Rectangle'),\r\n      tooltip: i18n.t('Buttons:Rectangle ROI'),\r\n      commands: setToolActiveToolbar,\r\n      evaluate: 'evaluate.cornerstoneTool',\r\n    },\r\n  },\r\n  {\r\n    id: 'CircleROI',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'tool-circle',\r\n      label: i18n.t('Buttons:Circle'),\r\n      tooltip: i18n.t('Buttons:Circle Tool'),\r\n      commands: setToolActiveToolbar,\r\n      evaluate: 'evaluate.cornerstoneTool',\r\n    },\r\n  },\r\n  {\r\n    id: 'PlanarFreehandROI',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'icon-tool-freehand-roi',\r\n      label: i18n.t('Buttons:Freehand ROI'),\r\n      tooltip: i18n.t('Buttons:Freehand ROI'),\r\n      commands: setToolActiveToolbar,\r\n      evaluate: 'evaluate.cornerstoneTool',\r\n    },\r\n  },\r\n  {\r\n    id: 'SplineROI',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'icon-tool-spline-roi',\r\n      label: i18n.t('Buttons:Spline ROI'),\r\n      tooltip: i18n.t('Buttons:Spline ROI'),\r\n      commands: setToolActiveToolbar,\r\n      evaluate: 'evaluate.cornerstoneTool',\r\n    },\r\n  },\r\n  {\r\n    id: 'LivewireContour',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'icon-tool-livewire',\r\n      label: i18n.t('Buttons:Livewire tool'),\r\n      tooltip: i18n.t('Buttons:Livewire tool'),\r\n      commands: setToolActiveToolbar,\r\n      evaluate: 'evaluate.cornerstoneTool',\r\n    },\r\n  },\r\n  // Window Level\r\n  {\r\n    id: 'WindowLevel',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'tool-window-level',\r\n      label: i18n.t('Buttons:Window Level'),\r\n      commands: setToolActiveToolbar,\r\n      evaluate: [\r\n        'evaluate.cornerstoneTool',\r\n        {\r\n          name: 'evaluate.viewport.supported',\r\n          unsupportedViewportTypes: ['wholeSlide'],\r\n        },\r\n      ],\r\n    },\r\n  },\r\n  {\r\n    id: 'Pan',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      type: 'tool',\r\n      icon: 'tool-move',\r\n      label: i18n.t('Buttons:Pan'),\r\n      commands: setToolActiveToolbar,\r\n      evaluate: 'evaluate.cornerstoneTool',\r\n    },\r\n  },\r\n  {\r\n    id: 'Zoom',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      type: 'tool',\r\n      icon: 'tool-zoom',\r\n      label: i18n.t('Buttons:Zoom'),\r\n      commands: setToolActiveToolbar,\r\n      evaluate: 'evaluate.cornerstoneTool',\r\n    },\r\n  },\r\n  {\r\n    id: 'TrackballRotate',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      type: 'tool',\r\n      icon: 'tool-3d-rotate',\r\n      label: i18n.t('Buttons:3D Rotate'),\r\n      commands: setToolActiveToolbar,\r\n      evaluate: {\r\n        name: 'evaluate.cornerstoneTool',\r\n        disabledText: 'Select a 3D viewport to enable this tool',\r\n      },\r\n    },\r\n  },\r\n  {\r\n    id: 'Capture',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'tool-capture',\r\n      label: i18n.t('Buttons:Capture'),\r\n      commands: 'showDownloadViewportModal',\r\n      evaluate: [\r\n        'evaluate.action',\r\n        {\r\n          name: 'evaluate.viewport.supported',\r\n          unsupportedViewportTypes: ['video', 'wholeSlide'],\r\n        },\r\n      ],\r\n    },\r\n  },\r\n  {\r\n    id: 'Layout',\r\n    uiType: 'ohif.layoutSelector',\r\n    props: {\r\n      rows: 3,\r\n      columns: 4,\r\n      evaluate: 'evaluate.action',\r\n    },\r\n  },\r\n  {\r\n    id: 'Crosshairs',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      type: 'tool',\r\n      icon: 'tool-crosshair',\r\n      label: i18n.t('Buttons:Crosshairs'),\r\n      commands: {\r\n        commandName: 'setToolActiveToolbar',\r\n        commandOptions: {\r\n          toolGroupIds: ['mpr'],\r\n        },\r\n      },\r\n      evaluate: {\r\n        name: 'evaluate.cornerstoneTool',\r\n        disabledText: 'Select an MPR viewport to enable this tool',\r\n      },\r\n    },\r\n  },\r\n  {\r\n    id: 'SegmentLabelTool',\r\n    uiType: 'ohif.toolBoxButton',\r\n    props: {\r\n      icon: 'tool-segment-label',\r\n      label: i18n.t('Buttons:Segment Label Display'),\r\n      tooltip: i18n.t(\r\n        'Buttons:Click to show or hide segment labels when hovering with your mouse.'\r\n      ),\r\n      commands: { commandName: 'toggleSegmentLabel' },\r\n      evaluate: [\r\n        'evaluate.cornerstoneTool.toggle',\r\n        {\r\n          name: 'evaluate.cornerstone.hasSegmentation',\r\n        },\r\n      ],\r\n    },\r\n  },\r\n  // {\r\n  //   id: 'Undo',\r\n  //   uiType: 'ohif.toolButton',\r\n  //   props: {\r\n  //     type: 'tool',\r\n  //     icon: 'prev-arrow',\r\n  //     label: 'Undo',\r\n  //     commands: {\r\n  //       commandName: 'undo',\r\n  //     },\r\n  //     evaluate: 'evaluate.action',\r\n  //   },\r\n  // },\r\n  // {\r\n  //   id: 'Redo',\r\n  //   uiType: 'ohif.toolButton',\r\n  //   props: {\r\n  //     type: 'tool',\r\n  //     icon: 'next-arrow',\r\n  //     label: 'Redo',\r\n  //     commands: {\r\n  //       commandName: 'redo',\r\n  //     },\r\n  //     evaluate: 'evaluate.action',\r\n  //   },\r\n  // },\r\n];\r\n\r\nexport default toolbarButtons;\r\n","import packageJson from '../package.json';\r\n\r\nconst id = packageJson.name;\r\n\r\nexport { id };\r\n","import update from 'immutability-helper';\r\nimport { ToolbarService, utils } from '@ohif/core';\r\n\r\nimport initToolGroups from './initToolGroups';\r\nimport toolbarButtons from './toolbarButtons';\r\nimport { id } from './id';\r\n\r\nconst { TOOLBAR_SECTIONS } = ToolbarService;\r\nconst { structuredCloneWithFunctions } = utils;\r\n\r\n/**\r\n * Define non-imaging modalities.\r\n * This can be used to exclude modes which have only these modalities,\r\n * or it can be used to not display thumbnails for some of these.\r\n * This list used to include SM, for whole slide imaging, but this is now supported\r\n * by cornerstone.  Others of these may get added.\r\n */\r\nexport const NON_IMAGE_MODALITIES = ['ECG', 'SEG', 'RTSTRUCT', 'RTPLAN', 'PR', 'SR', 'DOC'];\r\n\r\nexport const ohif = {\r\n  layout: '@ohif/extension-default.layoutTemplateModule.viewerLayout',\r\n  sopClassHandler: '@ohif/extension-default.sopClassHandlerModule.stack',\r\n  thumbnailList: '@ohif/extension-default.panelModule.seriesList',\r\n  wsiSopClassHandler:\r\n    '@ohif/extension-cornerstone.sopClassHandlerModule.DicomMicroscopySopClassHandler',\r\n};\r\n\r\nexport const cornerstone = {\r\n  measurements: '@ohif/extension-cornerstone.panelModule.panelMeasurement',\r\n  segmentation: '@ohif/extension-cornerstone.panelModule.panelSegmentation',\r\n  viewport: '@ohif/extension-cornerstone.viewportModule.cornerstone',\r\n};\r\n\r\nexport const dicomsr = {\r\n  sopClassHandler: '@ohif/extension-cornerstone-dicom-sr.sopClassHandlerModule.dicom-sr',\r\n  sopClassHandler3D: '@ohif/extension-cornerstone-dicom-sr.sopClassHandlerModule.dicom-sr-3d',\r\n  viewport: '@ohif/extension-cornerstone-dicom-sr.viewportModule.dicom-sr',\r\n};\r\n\r\nexport const dicomvideo = {\r\n  sopClassHandler: '@ohif/extension-dicom-video.sopClassHandlerModule.dicom-video',\r\n  viewport: '@ohif/extension-dicom-video.viewportModule.dicom-video',\r\n};\r\n\r\nexport const dicompdf = {\r\n  sopClassHandler: '@ohif/extension-dicom-pdf.sopClassHandlerModule.dicom-pdf',\r\n  viewport: '@ohif/extension-dicom-pdf.viewportModule.dicom-pdf',\r\n};\r\n\r\nexport const dicomSeg = {\r\n  sopClassHandler: '@ohif/extension-cornerstone-dicom-seg.sopClassHandlerModule.dicom-seg',\r\n  viewport: '@ohif/extension-cornerstone-dicom-seg.viewportModule.dicom-seg',\r\n};\r\n\r\nexport const dicomPmap = {\r\n  sopClassHandler: '@ohif/extension-cornerstone-dicom-pmap.sopClassHandlerModule.dicom-pmap',\r\n  viewport: '@ohif/extension-cornerstone-dicom-pmap.viewportModule.dicom-pmap',\r\n};\r\n\r\nexport const dicomRT = {\r\n  viewport: '@ohif/extension-cornerstone-dicom-rt.viewportModule.dicom-rt',\r\n  sopClassHandler: '@ohif/extension-cornerstone-dicom-rt.sopClassHandlerModule.dicom-rt',\r\n};\r\n\r\nexport const extensionDependencies = {\r\n  // Can derive the versions at least process.env.from npm_package_version\r\n  '@ohif/extension-default': '^3.0.0',\r\n  '@ohif/extension-cornerstone': '^3.0.0',\r\n  '@ohif/extension-cornerstone-dicom-sr': '^3.0.0',\r\n  '@ohif/extension-cornerstone-dicom-seg': '^3.0.0',\r\n  '@ohif/extension-cornerstone-dicom-pmap': '^3.0.0',\r\n  '@ohif/extension-cornerstone-dicom-rt': '^3.0.0',\r\n  '@ohif/extension-dicom-pdf': '^3.0.1',\r\n  '@ohif/extension-dicom-video': '^3.0.1',\r\n};\r\n\r\nexport const sopClassHandlers = [\r\n  dicomvideo.sopClassHandler,\r\n  dicomSeg.sopClassHandler,\r\n  dicomPmap.sopClassHandler,\r\n  ohif.sopClassHandler,\r\n  ohif.wsiSopClassHandler,\r\n  dicompdf.sopClassHandler,\r\n  dicomsr.sopClassHandler3D,\r\n  dicomsr.sopClassHandler,\r\n  dicomRT.sopClassHandler,\r\n];\r\n\r\n/**\r\n * Indicate this is a valid mode if:\r\n *   - it contains at least one of the modeModalities\r\n *   - it contains all of the array value in modeModalities\r\n * Otherwise, if modeModalities is not defined:\r\n *   - it contains at least one modality other than the nonModeMOdalities.\r\n */\r\nexport function isValidMode({ modalities }) {\r\n  const modalities_list = modalities.split('\\\\');\r\n\r\n  if (this.modeModalities?.length) {\r\n    for (const modeModality of this.modeModalities) {\r\n      if (Array.isArray(modeModality) && modeModality.every(m => modalities.indexOf(m) !== -1)) {\r\n        return { valid: true, description: `Matches ${modeModality.join(', ')}` };\r\n      } else if (modalities.indexOf(modeModality)) {\r\n        return { valid: true, description: `Matches ${modeModality}` };\r\n      }\r\n    }\r\n    return {\r\n      valid: false,\r\n      description: `None of the mode modalities match: ${JSON.stringify(this.modeModalities)}`,\r\n    };\r\n  }\r\n\r\n  return {\r\n    valid: !!modalities_list.find(modality => this.nonModeModalities.indexOf(modality) === -1),\r\n    description: `The mode does not support studies that ONLY include the following modalities: ${this.nonModeModalities.join(', ')}`,\r\n  };\r\n}\r\n\r\nexport function onModeEnter({\r\n  servicesManager,\r\n  extensionManager,\r\n  commandsManager,\r\n  panelService,\r\n  segmentationService,\r\n}: withAppTypes) {\r\n  const { measurementService, toolbarService, toolGroupService, customizationService } =\r\n    servicesManager.services;\r\n\r\n  measurementService.clearMeasurements();\r\n\r\n  // Init Default and SR ToolGroups\r\n  initToolGroups(extensionManager, toolGroupService, commandsManager);\r\n\r\n  toolbarService.register(this.toolbarButtons);\r\n\r\n  for (const [key, section] of Object.entries(this.toolbarSections)) {\r\n    toolbarService.updateSection(key, section);\r\n  }\r\n\r\n  if (!this.enableSegmentationEdit) {\r\n    customizationService.setCustomizations({\r\n      'panelSegmentation.disableEditing': {\r\n        $set: true,\r\n      },\r\n    });\r\n  }\r\n\r\n  // // ActivatePanel event trigger for when a segmentation or measurement is added.\r\n  // // Do not force activation so as to respect the state the user may have left the UI in.\r\n  if (this.activatePanelTrigger) {\r\n    this._activatePanelTriggersSubscriptions = [\r\n      ...panelService.addActivatePanelTriggers(\r\n        cornerstone.segmentation,\r\n        [\r\n          {\r\n            sourcePubSubService: segmentationService,\r\n            sourceEvents: [segmentationService.EVENTS.SEGMENTATION_ADDED],\r\n          },\r\n        ],\r\n        true\r\n      ),\r\n      ...panelService.addActivatePanelTriggers(\r\n        cornerstone.measurements,\r\n        [\r\n          {\r\n            sourcePubSubService: measurementService,\r\n            sourceEvents: [\r\n              measurementService.EVENTS.MEASUREMENT_ADDED,\r\n              measurementService.EVENTS.RAW_MEASUREMENT_ADDED,\r\n            ],\r\n          },\r\n        ],\r\n        true\r\n      ),\r\n      true,\r\n    ];\r\n  }\r\n}\r\n\r\nexport function onModeExit({ servicesManager }: withAppTypes) {\r\n  const {\r\n    toolGroupService,\r\n    syncGroupService,\r\n    segmentationService,\r\n    cornerstoneViewportService,\r\n    uiDialogService,\r\n    uiModalService,\r\n  } = servicesManager.services;\r\n\r\n  this._activatePanelTriggersSubscriptions.forEach(sub => sub.unsubscribe());\r\n  this._activatePanelTriggersSubscriptions.length = 0;\r\n\r\n  uiDialogService.hideAll();\r\n  uiModalService.hide();\r\n  toolGroupService.destroy();\r\n  syncGroupService.destroy();\r\n  segmentationService.destroy();\r\n  cornerstoneViewportService.destroy();\r\n}\r\n\r\nexport const toolbarSections = {\r\n  [TOOLBAR_SECTIONS.primary]: [\r\n    'MeasurementTools',\r\n    'Zoom',\r\n    'Pan',\r\n    'TrackballRotate',\r\n    'WindowLevel',\r\n    'Capture',\r\n    'Layout',\r\n    'Crosshairs',\r\n    'MoreTools',\r\n  ],\r\n\r\n  [TOOLBAR_SECTIONS.viewportActionMenu.topLeft]: ['orientationMenu', 'dataOverlayMenu'],\r\n\r\n  [TOOLBAR_SECTIONS.viewportActionMenu.bottomMiddle]: ['AdvancedRenderingControls'],\r\n\r\n  AdvancedRenderingControls: [\r\n    'windowLevelMenuEmbedded',\r\n    'voiManualControlMenu',\r\n    'Colorbar',\r\n    'opacityMenu',\r\n    'thresholdMenu',\r\n  ],\r\n\r\n  [TOOLBAR_SECTIONS.viewportActionMenu.topRight]: [\r\n    'modalityLoadBadge',\r\n    'trackingStatus',\r\n    'navigationComponent',\r\n  ],\r\n\r\n  [TOOLBAR_SECTIONS.viewportActionMenu.bottomLeft]: ['windowLevelMenu'],\r\n\r\n  MeasurementTools: [\r\n    'Length',\r\n    'Bidirectional',\r\n    'ArrowAnnotate',\r\n    'EllipticalROI',\r\n    'RectangleROI',\r\n    'CircleROI',\r\n    'PlanarFreehandROI',\r\n    'SplineROI',\r\n    'LivewireContour',\r\n  ],\r\n\r\n  MoreTools: [\r\n    'Reset',\r\n    'rotate-right',\r\n    'flipHorizontal',\r\n    'ImageSliceSync',\r\n    'ReferenceLines',\r\n    'ImageOverlayViewer',\r\n    'StackScroll',\r\n    'invert',\r\n    'Probe',\r\n    'Cine',\r\n    'Angle',\r\n    'CobbAngle',\r\n    'Magnify',\r\n    'CalibrationLine',\r\n    'TagBrowser',\r\n    'AdvancedMagnify',\r\n    'UltrasoundDirectionalTool',\r\n    'WindowLevelRegion',\r\n    'SegmentLabelTool',\r\n  ],\r\n};\r\n\r\nexport const basicLayout = {\r\n  id: ohif.layout,\r\n  props: {\r\n    leftPanels: [ohif.thumbnailList],\r\n    leftPanelResizable: true,\r\n    rightPanels: [cornerstone.segmentation, cornerstone.measurements],\r\n    rightPanelClosed: true,\r\n    rightPanelResizable: true,\r\n    viewports: [\r\n      {\r\n        namespace: cornerstone.viewport,\r\n        displaySetsToDisplay: [\r\n          ohif.sopClassHandler,\r\n          dicomvideo.sopClassHandler,\r\n          ohif.wsiSopClassHandler,\r\n        ],\r\n      },\r\n      {\r\n        namespace: dicomsr.viewport,\r\n        displaySetsToDisplay: [dicomsr.sopClassHandler, dicomsr.sopClassHandler3D],\r\n      },\r\n      {\r\n        namespace: dicompdf.viewport,\r\n        displaySetsToDisplay: [dicompdf.sopClassHandler],\r\n      },\r\n      {\r\n        namespace: dicomSeg.viewport,\r\n        displaySetsToDisplay: [dicomSeg.sopClassHandler],\r\n      },\r\n      {\r\n        namespace: dicomPmap.viewport,\r\n        displaySetsToDisplay: [dicomPmap.sopClassHandler],\r\n      },\r\n      {\r\n        namespace: dicomRT.viewport,\r\n        displaySetsToDisplay: [dicomRT.sopClassHandler],\r\n      },\r\n    ],\r\n  },\r\n};\r\n\r\nexport function layoutTemplate() {\r\n  return structuredCloneWithFunctions(this.layoutInstance);\r\n}\r\n\r\nexport const basicRoute = {\r\n  path: 'basic',\r\n  layoutTemplate,\r\n  layoutInstance: basicLayout,\r\n};\r\n\r\nexport const modeInstance = {\r\n  // TODO: We're using this as a route segment\r\n  // We should not be.\r\n  id,\r\n  routeName: 'basic',\r\n  // Don't hide this by default - see the registration later to hide the basic\r\n  // instance by default.\r\n  hide: false,\r\n  displayName: 'Non-Longitudinal Basic',\r\n  _activatePanelTriggersSubscriptions: [],\r\n  toolbarSections,\r\n\r\n  /**\r\n   * Lifecycle hooks\r\n   */\r\n  onModeEnter,\r\n  onModeExit,\r\n  validationTags: {\r\n    study: [],\r\n    series: [],\r\n  },\r\n\r\n  isValidMode,\r\n  routes: [basicRoute],\r\n  extensions: extensionDependencies,\r\n  // Default protocol gets self-registered by default in the init\r\n  hangingProtocol: 'default',\r\n  // Order is important in sop class handlers when two handlers both use\r\n  // the same sop class under different situations.  In that case, the more\r\n  // general handler needs to come last.  For this case, the dicomvideo must\r\n  // come first to remove video transfer syntax before ohif uses images\r\n  sopClassHandlers,\r\n  toolbarButtons,\r\n  enableSegmentationEdit: false,\r\n  nonModeModalities: NON_IMAGE_MODALITIES,\r\n};\r\n\r\n/**\r\n * Creates a mode on this object, using immutability-helper to apply changes\r\n * from modeConfiguration into the modeInstance.\r\n */\r\nexport function modeFactory({ modeConfiguration }) {\r\n  let modeInstance = this.modeInstance;\r\n  if (modeConfiguration) {\r\n    modeInstance = update(modeInstance, modeConfiguration);\r\n  }\r\n  return modeInstance;\r\n}\r\n\r\nexport const mode = {\r\n  id,\r\n  modeFactory,\r\n  modeInstance: { ...modeInstance, hide: true },\r\n  extensionDependencies,\r\n};\r\n\r\nexport default mode;\r\nexport { initToolGroups, toolbarButtons };\r\n","import packageJson from '../package.json';\r\n\r\nconst id = packageJson.name;\r\n\r\nexport { id };\r\n","import i18n from 'i18next';\r\nimport { id } from './id';\r\nimport { initToolGroups, toolbarButtons, cornerstone,\r\n  ohif,\r\n  dicomsr,\r\n  dicomvideo,\r\n  basicLayout,\r\n  basicRoute,\r\n  extensionDependencies as basicDependencies,\r\n  mode as basicMode,\r\n  modeInstance as basicModeInstance,\r\n } from '@ohif/mode-basic';\r\n\r\nexport const tracked = {\r\n  measurements: '@ohif/extension-measurement-tracking.panelModule.trackedMeasurements',\r\n  thumbnailList: '@ohif/extension-measurement-tracking.panelModule.seriesList',\r\n  viewport: '@ohif/extension-measurement-tracking.viewportModule.cornerstone-tracked',\r\n};\r\n\r\nexport const extensionDependencies = {\r\n  // Can derive the versions at least process.env.from npm_package_version\r\n  ...basicDependencies,\r\n  '@ohif/extension-measurement-tracking': '^3.0.0',\r\n};\r\n\r\nexport const longitudinalInstance = {\r\n  ...basicLayout,\r\n  id: ohif.layout,\r\n  props: {\r\n    ...basicLayout.props,\r\n    leftPanels: [tracked.thumbnailList],\r\n    rightPanels: [cornerstone.segmentation, tracked.measurements],\r\n    viewports: [\r\n      {\r\n        namespace: tracked.viewport,\r\n        // Re-use the display sets from basic\r\n        displaySetsToDisplay: basicLayout.props.viewports[0].displaySetsToDisplay,\r\n      },\r\n      ...basicLayout.props.viewports,\r\n      ],\r\n    }\r\n  };\r\n\r\n\r\nexport const longitudinalRoute =\r\n    {\r\n      ...basicRoute,\r\n      path: 'longitudinal',\r\n        /*init: ({ servicesManager, extensionManager }) => {\r\n          //defaultViewerRouteInit\r\n        },*/\r\n      layoutInstance: longitudinalInstance,\r\n    };\r\n\r\nexport const modeInstance = {\r\n    ...basicModeInstance,\r\n    // TODO: We're using this as a route segment\r\n    // We should not be.\r\n    id,\r\n    routeName: 'viewer',\r\n    displayName: i18n.t('Modes:Basic Viewer'),\r\n    routes: [\r\n      longitudinalRoute\r\n    ],\r\n    extensions: extensionDependencies,\r\n  };\r\n\r\nconst mode = {\r\n  ...basicMode,\r\n  id,\r\n  modeInstance,\r\n  extensionDependencies,\r\n};\r\n\r\nexport default mode;\r\nexport { initToolGroups, toolbarButtons };\r\n"],"names":["colours","colorsByOrientation","axial","sagittal","coronal","extensionManager","toolGroupService","commandsManager","toolGroupId","utilityModule","getModuleEntry","toolNames","Enums","exports","tools","active","toolName","WindowLevel","bindings","mouseButton","MouseBindings","Primary","Pan","Auxiliary","Zoom","Secondary","numTouchPoints","StackScroll","Wheel","passive","Length","ArrowAnnotate","configuration","getTextCallback","callback","eventDetails","runCommand","changeTextCallback","data","SegmentBidirectional","Bidirectional","DragProbe","Probe","EllipticalROI","CircleROI","RectangleROI","Angle","CobbAngle","Magnify","CalibrationLine","PlanarFreehandContourSegmentation","displayOnePointAsCrosshairs","UltrasoundDirectional","PlanarFreehandROI","SplineROI","LivewireContour","WindowLevelRegion","enabled","ImageOverlayViewer","ReferenceLines","disabled","AdvancedMagnify","updatedTools","run","createToolGroupAndAddTools","initDefaultToolGroup","SRUtilityModule","CS3DUtilityModule","SRToolNames","SRLength","SRArrowAnnotate","SRBidirectional","SREllipticalROI","SRCircleROI","SRPlanarFreehandROI","SRRectangleROI","DICOMSRDisplay","initSRToolGroup","serviceManager","_servicesManager","cornerstoneViewportService","services","Crosshairs","viewportIndicators","viewportIndicatorsConfig","circleRadius","xOffset","yOffset","disableOnPassive","autoPan","panSize","getReferenceLineColor","viewportId","viewportInfo","getViewportInfo","viewportOptions","id","orientation","console","warn","initMPRToolGroup","TrackballRotateTool","initVolume3DToolGroup","callbacks","commandName","commandOptions","setToolActiveToolbar","toolGroupIds","uiType","props","buttonSection","icon","label","i18n","t","tooltip","evaluate","name","hideWhenDisabled","type","commands","unsupportedViewportTypes","listeners","EVENTS","VIEWPORT_NEW_IMAGE_SET","toggledState","ViewportGridService","ACTIVE_VIEWPORT_ID_CHANGED","VIEWPORTS_READY","supportedModalities","disabledText","rows","columns","packageJson","TOOLBAR_SECTIONS","ToolbarService","structuredCloneWithFunctions","utils","NON_IMAGE_MODALITIES","ohif","layout","sopClassHandler","thumbnailList","wsiSopClassHandler","cornerstone","measurements","segmentation","viewport","dicomsr","sopClassHandler3D","dicomvideo","dicompdf","dicomSeg","dicomPmap","dicomRT","extensionDependencies","sopClassHandlers","isValidMode","modalities","modalities_list","split","this","modeModalities","length","modeModality","Array","isArray","every","m","indexOf","valid","description","join","JSON","stringify","find","modality","nonModeModalities","onModeEnter","servicesManager","panelService","segmentationService","measurementService","toolbarService","customizationService","clearMeasurements","initToolGroups","register","toolbarButtons","key","section","Object","entries","toolbarSections","updateSection","enableSegmentationEdit","setCustomizations","$set","activatePanelTrigger","_activatePanelTriggersSubscriptions","addActivatePanelTriggers","sourcePubSubService","sourceEvents","SEGMENTATION_ADDED","MEASUREMENT_ADDED","RAW_MEASUREMENT_ADDED","onModeExit","syncGroupService","uiDialogService","uiModalService","forEach","sub","unsubscribe","hideAll","hide","destroy","primary","viewportActionMenu","topLeft","bottomMiddle","AdvancedRenderingControls","topRight","bottomLeft","MeasurementTools","MoreTools","basicLayout","leftPanels","leftPanelResizable","rightPanels","rightPanelClosed","rightPanelResizable","viewports","namespace","displaySetsToDisplay","layoutTemplate","layoutInstance","basicRoute","path","modeInstance","routeName","displayName","validationTags","study","series","routes","extensions","hangingProtocol","modeFactory","modeConfiguration","update","mode","tracked","basicDependencies","longitudinalInstance","longitudinalRoute","basicModeInstance","basicMode"],"sourceRoot":""}