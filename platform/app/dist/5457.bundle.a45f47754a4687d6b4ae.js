"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[5457,5485],{35485:(o,e,t)=>{t.r(e),t.d(e,{NON_IMAGE_MODALITIES:()=>b,basicLayout:()=>I,basicRoute:()=>P,cornerstone:()=>y,default:()=>V,dicomPmap:()=>S,dicomRT:()=>M,dicomSeg:()=>A,dicompdf:()=>B,dicomsr:()=>f,dicomvideo:()=>w,extensionDependencies:()=>C,initToolGroups:()=>r,isValidMode:()=>R,layoutTemplate:()=>E,mode:()=>H,modeFactory:()=>k,modeInstance:()=>D,ohif:()=>T,onModeEnter:()=>L,onModeExit:()=>O,sopClassHandlers:()=>N,toolbarButtons:()=>m,toolbarSections:()=>x});var n=t(1752),i=t.n(n),a=t(42356);const l={"viewport-0":"rgb(200, 0, 0)","viewport-1":"rgb(200, 200, 0)","viewport-2":"rgb(0, 200, 0)"},s={axial:"rgb(200, 0, 0)",sagittal:"rgb(200, 200, 0)",coronal:"rgb(0, 200, 0)"};const r=function(o,e,t){!function(o,e,t,n){const i=o.getModuleEntry("@ohif/extension-cornerstone.utilityModule.tools"),{toolNames:a,Enums:l}=i.exports,s={active:[{toolName:a.WindowLevel,bindings:[{mouseButton:l.MouseBindings.Primary}]},{toolName:a.Pan,bindings:[{mouseButton:l.MouseBindings.Auxiliary}]},{toolName:a.Zoom,bindings:[{mouseButton:l.MouseBindings.Secondary},{numTouchPoints:2}]},{toolName:a.StackScroll,bindings:[{mouseButton:l.MouseBindings.Wheel},{numTouchPoints:3}]}],passive:[{toolName:a.Length},{toolName:a.ArrowAnnotate,configuration:{getTextCallback:(o,e)=>{t.runCommand("arrowTextCallback",{callback:o,eventDetails:e})},changeTextCallback:(o,e,n)=>{t.runCommand("arrowTextCallback",{callback:n,data:o,eventDetails:e})}}},{toolName:a.SegmentBidirectional},{toolName:a.Bidirectional},{toolName:a.DragProbe},{toolName:a.Probe},{toolName:a.EllipticalROI},{toolName:a.CircleROI},{toolName:a.RectangleROI},{toolName:a.StackScroll},{toolName:a.Angle},{toolName:a.CobbAngle},{toolName:a.Magnify},{toolName:a.CalibrationLine},{toolName:a.PlanarFreehandContourSegmentation,configuration:{displayOnePointAsCrosshairs:!0}},{toolName:a.UltrasoundDirectional},{toolName:a.PlanarFreehandROI},{toolName:a.SplineROI},{toolName:a.LivewireContour},{toolName:a.WindowLevelRegion}],enabled:[{toolName:a.ImageOverlayViewer},{toolName:a.ReferenceLines}],disabled:[{toolName:a.AdvancedMagnify}]},r=t.run("initializeSegmentLabelTool",{tools:s});e.createToolGroupAndAddTools(n,r)}(o,e,t,"default"),function(o,e){const t=o.getModuleEntry("@ohif/extension-cornerstone-dicom-sr.utilityModule.tools");if(!t)return;const n=o.getModuleEntry("@ohif/extension-cornerstone.utilityModule.tools"),{toolNames:i}=t.exports,{toolNames:a,Enums:l}=n.exports,s={active:[{toolName:a.WindowLevel,bindings:[{mouseButton:l.MouseBindings.Primary}]},{toolName:a.Pan,bindings:[{mouseButton:l.MouseBindings.Auxiliary}]},{toolName:a.Zoom,bindings:[{mouseButton:l.MouseBindings.Secondary},{numTouchPoints:2}]},{toolName:a.StackScroll,bindings:[{mouseButton:l.MouseBindings.Wheel},{numTouchPoints:3}]}],passive:[{toolName:i.SRLength},{toolName:i.SRArrowAnnotate},{toolName:i.SRBidirectional},{toolName:i.SREllipticalROI},{toolName:i.SRCircleROI},{toolName:i.SRPlanarFreehandROI},{toolName:i.SRRectangleROI},{toolName:a.WindowLevelRegion}],enabled:[{toolName:i.DICOMSRDisplay}]};e.createToolGroupAndAddTools("SRToolGroup",s)}(o,e),function(o,e,t){const n=o.getModuleEntry("@ohif/extension-cornerstone.utilityModule.tools"),i=o._servicesManager,{cornerstoneViewportService:a}=i.services,{toolNames:r,Enums:u}=n.exports,d={active:[{toolName:r.WindowLevel,bindings:[{mouseButton:u.MouseBindings.Primary}]},{toolName:r.Pan,bindings:[{mouseButton:u.MouseBindings.Auxiliary}]},{toolName:r.Zoom,bindings:[{mouseButton:u.MouseBindings.Secondary},{numTouchPoints:2}]},{toolName:r.StackScroll,bindings:[{mouseButton:u.MouseBindings.Wheel},{numTouchPoints:3}]}],passive:[{toolName:r.Length},{toolName:r.ArrowAnnotate,configuration:{getTextCallback:(o,e)=>{t.runCommand("arrowTextCallback",{callback:o,eventDetails:e})},changeTextCallback:(o,e,n)=>{t.runCommand("arrowTextCallback",{callback:n,data:o,eventDetails:e})}}},{toolName:r.Bidirectional},{toolName:r.DragProbe},{toolName:r.Probe},{toolName:r.EllipticalROI},{toolName:r.CircleROI},{toolName:r.RectangleROI},{toolName:r.StackScroll},{toolName:r.Angle},{toolName:r.CobbAngle},{toolName:r.PlanarFreehandROI},{toolName:r.SplineROI},{toolName:r.LivewireContour},{toolName:r.WindowLevelRegion},{toolName:r.PlanarFreehandContourSegmentation,configuration:{displayOnePointAsCrosshairs:!0}}],disabled:[{toolName:r.Crosshairs,configuration:{viewportIndicators:!0,viewportIndicatorsConfig:{circleRadius:5,xOffset:.95,yOffset:.05},disableOnPassive:!0,autoPan:{enabled:!1,panSize:10},getReferenceLineColor:o=>{const e=a.getViewportInfo(o),t=e?.viewportOptions;return t?l[t.id]||s[t.orientation]||"#0c0":(console.warn("missing viewport?",o),"#0c0")}}},{toolName:r.AdvancedMagnify},{toolName:r.ReferenceLines}]};e.createToolGroupAndAddTools("mpr",d)}(o,e,t),function(o,e){const t=o.getModuleEntry("@ohif/extension-cornerstone.utilityModule.tools"),{toolNames:n,Enums:i}=t.exports,a={active:[{toolName:n.TrackballRotateTool,bindings:[{mouseButton:i.MouseBindings.Primary}]},{toolName:n.Zoom,bindings:[{mouseButton:i.MouseBindings.Secondary},{numTouchPoints:2}]},{toolName:n.Pan,bindings:[{mouseButton:i.MouseBindings.Auxiliary},{numTouchPoints:3}]}]};e.createToolGroupAndAddTools("volume3d",a)}(o,e)};var u=t(15327),d=t(40680);const p=o=>[{commandName:"setViewportForToolConfiguration",commandOptions:{toolName:o}}],c={commandName:"setToolActiveToolbar",commandOptions:{toolGroupIds:["default","mpr","SRToolGroup","volume3d"]}},m=[{id:"MeasurementTools",uiType:"ohif.toolButtonList",props:{buttonSection:!0}},{id:"MoreTools",uiType:"ohif.toolButtonList",props:{buttonSection:!0}},{id:"AdvancedRenderingControls",uiType:"ohif.advancedRenderingControls",props:{buttonSection:!0}},{id:"modalityLoadBadge",uiType:"ohif.modalityLoadBadge",props:{icon:"Status",label:d.A.t("Buttons:Status"),tooltip:d.A.t("Buttons:Status"),evaluate:{name:"evaluate.modalityLoadBadge",hideWhenDisabled:!0}}},{id:"navigationComponent",uiType:"ohif.navigationComponent",props:{icon:"Navigation",label:d.A.t("Buttons:Navigation"),tooltip:d.A.t("Buttons:Navigate between segments/measurements and manage their visibility"),evaluate:{name:"evaluate.navigationComponent",hideWhenDisabled:!0}}},{id:"trackingStatus",uiType:"ohif.trackingStatus",props:{icon:"TrackingStatus",label:d.A.t("Buttons:Tracking Status"),tooltip:d.A.t("Buttons:View and manage tracking status of measurements and annotations"),evaluate:{name:"evaluate.trackingStatus",hideWhenDisabled:!0}}},{id:"dataOverlayMenu",uiType:"ohif.dataOverlayMenu",props:{icon:"ViewportViews",label:d.A.t("Buttons:Data Overlay"),tooltip:d.A.t("Buttons:Configure data overlay options and manage foreground/background display sets"),evaluate:"evaluate.dataOverlayMenu"}},{id:"orientationMenu",uiType:"ohif.orientationMenu",props:{icon:"OrientationSwitch",label:d.A.t("Buttons:Orientation"),tooltip:d.A.t("Buttons:Change viewport orientation between axial, sagittal, coronal and reformat planes"),evaluate:{name:"evaluate.orientationMenu"}}},{id:"windowLevelMenuEmbedded",uiType:"ohif.windowLevelMenuEmbedded",props:{icon:"WindowLevel",label:d.A.t("Buttons:Window Level"),tooltip:d.A.t("Buttons:Adjust window/level presets and customize image contrast settings"),evaluate:{name:"evaluate.windowLevelMenuEmbedded",hideWhenDisabled:!0}}},{id:"windowLevelMenu",uiType:"ohif.windowLevelMenu",props:{icon:"WindowLevel",label:d.A.t("Buttons:Window Level"),tooltip:d.A.t("Buttons:Adjust window/level presets and customize image contrast settings"),evaluate:{name:"evaluate.windowLevelMenu"}}},{id:"voiManualControlMenu",uiType:"ohif.voiManualControlMenu",props:{icon:"WindowLevelAdvanced",label:d.A.t("Buttons:Advanced Window Level"),tooltip:d.A.t("Buttons:Advanced window/level settings with manual controls and presets"),evaluate:"evaluate.voiManualControlMenu"}},{id:"thresholdMenu",uiType:"ohif.thresholdMenu",props:{icon:"Threshold",label:d.A.t("Buttons:Threshold"),tooltip:d.A.t("Buttons:Image threshold settings"),evaluate:{name:"evaluate.thresholdMenu",hideWhenDisabled:!0}}},{id:"opacityMenu",uiType:"ohif.opacityMenu",props:{icon:"Opacity",label:d.A.t("Buttons:Opacity"),tooltip:d.A.t("Buttons:Image opacity settings"),evaluate:{name:"evaluate.opacityMenu",hideWhenDisabled:!0}}},{id:"Colorbar",uiType:"ohif.colorbar",props:{type:"tool",label:d.A.t("Buttons:Colorbar")}},{id:"Reset",uiType:"ohif.toolButton",props:{icon:"tool-reset",label:d.A.t("Buttons:Reset View"),tooltip:d.A.t("Buttons:Reset View"),commands:"resetViewport",evaluate:"evaluate.action"}},{id:"rotate-right",uiType:"ohif.toolButton",props:{icon:"tool-rotate-right",label:d.A.t("Buttons:Rotate Right"),tooltip:d.A.t("Buttons:Rotate +90"),commands:"rotateViewportCW",evaluate:["evaluate.action",{name:"evaluate.viewport.supported",unsupportedViewportTypes:["video"]}]}},{id:"flipHorizontal",uiType:"ohif.toolButton",props:{icon:"tool-flip-horizontal",label:d.A.t("Buttons:Flip Horizontal"),tooltip:d.A.t("Buttons:Flip Horizontally"),commands:"flipViewportHorizontal",evaluate:["evaluate.viewportProperties.toggle",{name:"evaluate.viewport.supported",unsupportedViewportTypes:["video","volume3d"]}]}},{id:"ImageSliceSync",uiType:"ohif.toolButton",props:{icon:"link",label:d.A.t("Buttons:Image Slice Sync"),tooltip:d.A.t("Buttons:Enable position synchronization on stack viewports"),commands:{commandName:"toggleSynchronizer",commandOptions:{type:"imageSlice"}},listeners:{[u.EVENTS.VIEWPORT_NEW_IMAGE_SET]:{commandName:"toggleImageSliceSync",commandOptions:{toggledState:!0}}},evaluate:["evaluate.cornerstone.synchronizer",{name:"evaluate.viewport.supported",unsupportedViewportTypes:["video","volume3d"]}]}},{id:"ReferenceLines",uiType:"ohif.toolButton",props:{icon:"tool-referenceLines",label:d.A.t("Buttons:Reference Lines"),tooltip:d.A.t("Buttons:Show Reference Lines"),commands:"toggleEnabledDisabledToolbar",listeners:{[a.sI.EVENTS.ACTIVE_VIEWPORT_ID_CHANGED]:p("ReferenceLines"),[a.sI.EVENTS.VIEWPORTS_READY]:p("ReferenceLines")},evaluate:["evaluate.cornerstoneTool.toggle",{name:"evaluate.viewport.supported",unsupportedViewportTypes:["video"]}]}},{id:"ImageOverlayViewer",uiType:"ohif.toolButton",props:{icon:"toggle-dicom-overlay",label:d.A.t("Buttons:Image Overlay"),tooltip:d.A.t("Buttons:Toggle Image Overlay"),commands:"toggleEnabledDisabledToolbar",evaluate:["evaluate.cornerstoneTool.toggle",{name:"evaluate.viewport.supported",unsupportedViewportTypes:["video"]}]}},{id:"StackScroll",uiType:"ohif.toolButton",props:{icon:"tool-stack-scroll",label:d.A.t("Buttons:Stack Scroll"),tooltip:d.A.t("Buttons:Stack Scroll"),commands:c,evaluate:"evaluate.cornerstoneTool"}},{id:"invert",uiType:"ohif.toolButton",props:{icon:"tool-invert",label:d.A.t("Buttons:Invert"),tooltip:d.A.t("Buttons:Invert Colors"),commands:"invertViewport",evaluate:["evaluate.viewportProperties.toggle",{name:"evaluate.viewport.supported",unsupportedViewportTypes:["video"]}]}},{id:"Probe",uiType:"ohif.toolButton",props:{icon:"tool-probe",label:d.A.t("Buttons:Probe"),tooltip:d.A.t("Buttons:Probe"),commands:c,evaluate:"evaluate.cornerstoneTool"}},{id:"Cine",uiType:"ohif.toolButton",props:{icon:"tool-cine",label:d.A.t("Buttons:Cine"),tooltip:d.A.t("Buttons:Cine"),commands:"toggleCine",evaluate:["evaluate.cine",{name:"evaluate.viewport.supported",unsupportedViewportTypes:["volume3d"]}]}},{id:"Angle",uiType:"ohif.toolButton",props:{icon:"tool-angle",label:d.A.t("Buttons:Angle"),tooltip:d.A.t("Buttons:Angle"),commands:c,evaluate:"evaluate.cornerstoneTool"}},{id:"CobbAngle",uiType:"ohif.toolButton",props:{icon:"icon-tool-cobb-angle",label:d.A.t("Buttons:Cobb Angle"),tooltip:d.A.t("Buttons:Cobb Angle"),commands:c,evaluate:"evaluate.cornerstoneTool"}},{id:"Magnify",uiType:"ohif.toolButton",props:{icon:"tool-magnify",label:d.A.t("Buttons:Zoom-in"),tooltip:d.A.t("Buttons:Zoom-in"),commands:c,evaluate:["evaluate.cornerstoneTool",{name:"evaluate.viewport.supported",unsupportedViewportTypes:["video"]}]}},{id:"CalibrationLine",uiType:"ohif.toolButton",props:{icon:"tool-calibration",label:d.A.t("Buttons:Calibration"),tooltip:d.A.t("Buttons:Calibration Line"),commands:c,evaluate:["evaluate.cornerstoneTool",{name:"evaluate.viewport.supported",unsupportedViewportTypes:["video"]}]}},{id:"TagBrowser",uiType:"ohif.toolButton",props:{icon:"dicom-tag-browser",label:d.A.t("Buttons:Dicom Tag Browser"),tooltip:d.A.t("Buttons:Dicom Tag Browser"),commands:"openDICOMTagViewer"}},{id:"AdvancedMagnify",uiType:"ohif.toolButton",props:{icon:"icon-tool-loupe",label:d.A.t("Buttons:Magnify Probe"),tooltip:d.A.t("Buttons:Magnify Probe"),commands:"toggleActiveDisabledToolbar",evaluate:["evaluate.cornerstoneTool.toggle.ifStrictlyDisabled",{name:"evaluate.viewport.supported",unsupportedViewportTypes:["video"]}]}},{id:"UltrasoundDirectionalTool",uiType:"ohif.toolButton",props:{icon:"icon-tool-ultrasound-bidirectional",label:d.A.t("Buttons:Ultrasound Directional"),tooltip:d.A.t("Buttons:Ultrasound Directional"),commands:c,evaluate:["evaluate.cornerstoneTool",{name:"evaluate.modality.supported",supportedModalities:["US"]}]}},{id:"WindowLevelRegion",uiType:"ohif.toolButton",props:{icon:"icon-tool-window-region",label:d.A.t("Buttons:Window Level Region"),tooltip:d.A.t("Buttons:Window Level Region"),commands:c,evaluate:["evaluate.cornerstoneTool",{name:"evaluate.viewport.supported",unsupportedViewportTypes:["video"]}]}},{id:"Length",uiType:"ohif.toolButton",props:{icon:"tool-length",label:d.A.t("Buttons:Length"),tooltip:d.A.t("Buttons:Length Tool"),commands:c,evaluate:"evaluate.cornerstoneTool"}},{id:"Bidirectional",uiType:"ohif.toolButton",props:{icon:"tool-bidirectional",label:d.A.t("Buttons:Bidirectional"),tooltip:d.A.t("Buttons:Bidirectional Tool"),commands:c,evaluate:"evaluate.cornerstoneTool"}},{id:"ArrowAnnotate",uiType:"ohif.toolButton",props:{icon:"tool-annotate",label:d.A.t("Buttons:Annotation"),tooltip:d.A.t("Buttons:Arrow Annotate"),commands:c,evaluate:"evaluate.cornerstoneTool"}},{id:"EllipticalROI",uiType:"ohif.toolButton",props:{icon:"tool-ellipse",label:d.A.t("Buttons:Ellipse"),tooltip:d.A.t("Buttons:Ellipse ROI"),commands:c,evaluate:"evaluate.cornerstoneTool"}},{id:"RectangleROI",uiType:"ohif.toolButton",props:{icon:"tool-rectangle",label:d.A.t("Buttons:Rectangle"),tooltip:d.A.t("Buttons:Rectangle ROI"),commands:c,evaluate:"evaluate.cornerstoneTool"}},{id:"CircleROI",uiType:"ohif.toolButton",props:{icon:"tool-circle",label:d.A.t("Buttons:Circle"),tooltip:d.A.t("Buttons:Circle Tool"),commands:c,evaluate:"evaluate.cornerstoneTool"}},{id:"PlanarFreehandROI",uiType:"ohif.toolButton",props:{icon:"icon-tool-freehand-roi",label:d.A.t("Buttons:Freehand ROI"),tooltip:d.A.t("Buttons:Freehand ROI"),commands:c,evaluate:"evaluate.cornerstoneTool"}},{id:"SplineROI",uiType:"ohif.toolButton",props:{icon:"icon-tool-spline-roi",label:d.A.t("Buttons:Spline ROI"),tooltip:d.A.t("Buttons:Spline ROI"),commands:c,evaluate:"evaluate.cornerstoneTool"}},{id:"LivewireContour",uiType:"ohif.toolButton",props:{icon:"icon-tool-livewire",label:d.A.t("Buttons:Livewire tool"),tooltip:d.A.t("Buttons:Livewire tool"),commands:c,evaluate:"evaluate.cornerstoneTool"}},{id:"WindowLevel",uiType:"ohif.toolButton",props:{icon:"tool-window-level",label:d.A.t("Buttons:Window Level"),commands:c,evaluate:["evaluate.cornerstoneTool",{name:"evaluate.viewport.supported",unsupportedViewportTypes:["wholeSlide"]}]}},{id:"Pan",uiType:"ohif.toolButton",props:{type:"tool",icon:"tool-move",label:d.A.t("Buttons:Pan"),commands:c,evaluate:"evaluate.cornerstoneTool"}},{id:"Zoom",uiType:"ohif.toolButton",props:{type:"tool",icon:"tool-zoom",label:d.A.t("Buttons:Zoom"),commands:c,evaluate:"evaluate.cornerstoneTool"}},{id:"TrackballRotate",uiType:"ohif.toolButton",props:{type:"tool",icon:"tool-3d-rotate",label:d.A.t("Buttons:3D Rotate"),commands:c,evaluate:{name:"evaluate.cornerstoneTool",disabledText:"Select a 3D viewport to enable this tool"}}},{id:"Capture",uiType:"ohif.toolButton",props:{icon:"tool-capture",label:d.A.t("Buttons:Capture"),commands:"showDownloadViewportModal",evaluate:["evaluate.action",{name:"evaluate.viewport.supported",unsupportedViewportTypes:["video","wholeSlide"]}]}},{id:"Layout",uiType:"ohif.layoutSelector",props:{rows:3,columns:4,evaluate:"evaluate.action"}},{id:"Crosshairs",uiType:"ohif.toolButton",props:{type:"tool",icon:"tool-crosshair",label:d.A.t("Buttons:Crosshairs"),commands:{commandName:"setToolActiveToolbar",commandOptions:{toolGroupIds:["mpr"]}},evaluate:{name:"evaluate.cornerstoneTool",disabledText:"Select an MPR viewport to enable this tool"}}},{id:"SegmentLabelTool",uiType:"ohif.toolBoxButton",props:{icon:"tool-segment-label",label:d.A.t("Buttons:Segment Label Display"),tooltip:d.A.t("Buttons:Click to show or hide segment labels when hovering with your mouse."),commands:{commandName:"toggleSegmentLabel"},evaluate:["evaluate.cornerstoneTool.toggle",{name:"evaluate.cornerstone.hasSegmentation"}]}}],v=JSON.parse('{"UU":"@ohif/mode-basic"}').UU,{TOOLBAR_SECTIONS:g}=a.hx,{structuredCloneWithFunctions:h}=a.Wp,b=["ECG","SEG","RTSTRUCT","RTPLAN","PR","SR","DOC"],T={layout:"@ohif/extension-default.layoutTemplateModule.viewerLayout",sopClassHandler:"@ohif/extension-default.sopClassHandlerModule.stack",thumbnailList:"@ohif/extension-default.panelModule.seriesList",wsiSopClassHandler:"@ohif/extension-cornerstone.sopClassHandlerModule.DicomMicroscopySopClassHandler"},y={measurements:"@ohif/extension-cornerstone.panelModule.panelMeasurement",segmentation:"@ohif/extension-cornerstone.panelModule.panelSegmentation",viewport:"@ohif/extension-cornerstone.viewportModule.cornerstone"},f={sopClassHandler:"@ohif/extension-cornerstone-dicom-sr.sopClassHandlerModule.dicom-sr",sopClassHandler3D:"@ohif/extension-cornerstone-dicom-sr.sopClassHandlerModule.dicom-sr-3d",viewport:"@ohif/extension-cornerstone-dicom-sr.viewportModule.dicom-sr"},w={sopClassHandler:"@ohif/extension-dicom-video.sopClassHandlerModule.dicom-video",viewport:"@ohif/extension-dicom-video.viewportModule.dicom-video"},B={sopClassHandler:"@ohif/extension-dicom-pdf.sopClassHandlerModule.dicom-pdf",viewport:"@ohif/extension-dicom-pdf.viewportModule.dicom-pdf"},A={sopClassHandler:"@ohif/extension-cornerstone-dicom-seg.sopClassHandlerModule.dicom-seg",viewport:"@ohif/extension-cornerstone-dicom-seg.viewportModule.dicom-seg"},S={sopClassHandler:"@ohif/extension-cornerstone-dicom-pmap.sopClassHandlerModule.dicom-pmap",viewport:"@ohif/extension-cornerstone-dicom-pmap.viewportModule.dicom-pmap"},M={viewport:"@ohif/extension-cornerstone-dicom-rt.viewportModule.dicom-rt",sopClassHandler:"@ohif/extension-cornerstone-dicom-rt.sopClassHandlerModule.dicom-rt"},C={"@ohif/extension-default":"^3.0.0","@ohif/extension-cornerstone":"^3.0.0","@ohif/extension-cornerstone-dicom-sr":"^3.0.0","@ohif/extension-cornerstone-dicom-seg":"^3.0.0","@ohif/extension-cornerstone-dicom-pmap":"^3.0.0","@ohif/extension-cornerstone-dicom-rt":"^3.0.0","@ohif/extension-dicom-pdf":"^3.0.1","@ohif/extension-dicom-video":"^3.0.1"},N=[w.sopClassHandler,A.sopClassHandler,S.sopClassHandler,T.sopClassHandler,T.wsiSopClassHandler,B.sopClassHandler,f.sopClassHandler3D,f.sopClassHandler,M.sopClassHandler];function R({modalities:o}){const e=o.split("\\");if(this.modeModalities?.length){for(const e of this.modeModalities){if(Array.isArray(e)&&e.every(e=>-1!==o.indexOf(e)))return{valid:!0,description:`Matches ${e.join(", ")}`};if(o.indexOf(e))return{valid:!0,description:`Matches ${e}`}}return{valid:!1,description:`None of the mode modalities match: ${JSON.stringify(this.modeModalities)}`}}return{valid:!!e.find(o=>-1===this.nonModeModalities.indexOf(o)),description:`The mode does not support studies that ONLY include the following modalities: ${this.nonModeModalities.join(", ")}`}}function L({servicesManager:o,extensionManager:e,commandsManager:t,panelService:n,segmentationService:i}){const{measurementService:a,toolbarService:l,toolGroupService:s,customizationService:u}=o.services;a.clearMeasurements(),r(e,s,t),l.register(this.toolbarButtons);for(const[o,e]of Object.entries(this.toolbarSections))l.updateSection(o,e);this.enableSegmentationEdit||u.setCustomizations({"panelSegmentation.disableEditing":{$set:!0}}),this.activatePanelTrigger&&(this._activatePanelTriggersSubscriptions=[...n.addActivatePanelTriggers(y.segmentation,[{sourcePubSubService:i,sourceEvents:[i.EVENTS.SEGMENTATION_ADDED]}],!0),...n.addActivatePanelTriggers(y.measurements,[{sourcePubSubService:a,sourceEvents:[a.EVENTS.MEASUREMENT_ADDED,a.EVENTS.RAW_MEASUREMENT_ADDED]}],!0),!0])}function O({servicesManager:o}){const{toolGroupService:e,syncGroupService:t,segmentationService:n,cornerstoneViewportService:i,uiDialogService:a,uiModalService:l}=o.services;this._activatePanelTriggersSubscriptions.forEach(o=>o.unsubscribe()),this._activatePanelTriggersSubscriptions.length=0,a.hideAll(),l.hide(),e.destroy(),t.destroy(),n.destroy(),i.destroy()}const x={[g.primary]:["MeasurementTools","Zoom","Pan","TrackballRotate","WindowLevel","Capture","Layout","Crosshairs","MoreTools"],[g.viewportActionMenu.topLeft]:["orientationMenu","dataOverlayMenu"],[g.viewportActionMenu.bottomMiddle]:["AdvancedRenderingControls"],AdvancedRenderingControls:["windowLevelMenuEmbedded","voiManualControlMenu","Colorbar","opacityMenu","thresholdMenu"],[g.viewportActionMenu.topRight]:["modalityLoadBadge","trackingStatus","navigationComponent"],[g.viewportActionMenu.bottomLeft]:["windowLevelMenu"],MeasurementTools:["Length","Bidirectional","ArrowAnnotate","EllipticalROI","RectangleROI","CircleROI","PlanarFreehandROI","SplineROI","LivewireContour"],MoreTools:["Reset","rotate-right","flipHorizontal","ImageSliceSync","ReferenceLines","ImageOverlayViewer","StackScroll","invert","Probe","Cine","Angle","CobbAngle","Magnify","CalibrationLine","TagBrowser","AdvancedMagnify","UltrasoundDirectionalTool","WindowLevelRegion","SegmentLabelTool"]},I={id:T.layout,props:{leftPanels:[T.thumbnailList],leftPanelResizable:!0,rightPanels:[y.segmentation,y.measurements],rightPanelClosed:!0,rightPanelResizable:!0,viewports:[{namespace:y.viewport,displaySetsToDisplay:[T.sopClassHandler,w.sopClassHandler,T.wsiSopClassHandler]},{namespace:f.viewport,displaySetsToDisplay:[f.sopClassHandler,f.sopClassHandler3D]},{namespace:B.viewport,displaySetsToDisplay:[B.sopClassHandler]},{namespace:A.viewport,displaySetsToDisplay:[A.sopClassHandler]},{namespace:S.viewport,displaySetsToDisplay:[S.sopClassHandler]},{namespace:M.viewport,displaySetsToDisplay:[M.sopClassHandler]}]}};function E(){return h(this.layoutInstance)}const P={path:"basic",layoutTemplate:E,layoutInstance:I},D={id:v,routeName:"basic",hide:!1,displayName:"Non-Longitudinal Basic",_activatePanelTriggersSubscriptions:[],toolbarSections:x,onModeEnter:L,onModeExit:O,validationTags:{study:[],series:[]},isValidMode:R,routes:[P],extensions:C,hangingProtocol:"default",sopClassHandlers:N,toolbarButtons:m,enableSegmentationEdit:!1,nonModeModalities:b};function k({modeConfiguration:o}){let e=this.modeInstance;return o&&(e=i()(e,o)),e}const H={id:v,modeFactory:k,modeInstance:{...D,hide:!0},extensionDependencies:C},V=H},95457:(o,e,t)=>{t.r(e),t.d(e,{default:()=>p,extensionDependencies:()=>s,initToolGroups:()=>a.initToolGroups,longitudinalInstance:()=>r,longitudinalRoute:()=>u,modeInstance:()=>d,toolbarButtons:()=>a.toolbarButtons,tracked:()=>l});var n=t(40680);const i=JSON.parse('{"UU":"@ohif/mode-longitudinal"}').UU;var a=t(35485);const l={measurements:"@ohif/extension-measurement-tracking.panelModule.trackedMeasurements",thumbnailList:"@ohif/extension-measurement-tracking.panelModule.seriesList",viewport:"@ohif/extension-measurement-tracking.viewportModule.cornerstone-tracked"},s={...a.extensionDependencies,"@ohif/extension-measurement-tracking":"^3.0.0"},r={...a.basicLayout,id:a.ohif.layout,props:{...a.basicLayout.props,leftPanels:[l.thumbnailList],rightPanels:[a.cornerstone.segmentation,l.measurements],viewports:[{namespace:l.viewport,displaySetsToDisplay:a.basicLayout.props.viewports[0].displaySetsToDisplay},...a.basicLayout.props.viewports]}},u={...a.basicRoute,path:"longitudinal",layoutInstance:r},d={...a.modeInstance,id:i,routeName:"viewer",displayName:n.A.t("Modes:Basic Viewer"),routes:[u],extensions:s},p={...a.mode,id:i,modeInstance:d,extensionDependencies:s}}}]);
//# sourceMappingURL=5457.bundle.a45f47754a4687d6b4ae.js.map