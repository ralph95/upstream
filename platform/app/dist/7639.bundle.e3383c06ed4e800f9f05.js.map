{"version":3,"file":"7639.bundle.e3383c06ed4e800f9f05.js","mappings":"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","sources":["webpack:///../../../modes/preclinical-4d/src/id.js","webpack:///../../../modes/preclinical-4d/src/getWorkflowSettings.ts","webpack:///../../../modes/preclinical-4d/src/initWorkflowSteps.ts","webpack:///../../../modes/preclinical-4d/src/initToolGroups.tsx","webpack:///../../../modes/preclinical-4d/src/toolbarButtons.tsx","webpack:///../../../modes/preclinical-4d/src/index.tsx"],"sourcesContent":["import packageJson from '../package.json';\r\n\r\nconst id = packageJson.name;\r\n\r\nexport { id };\r\n","const dynamicVolume = {\r\n  sopClassHandler:\r\n    '@ohif/extension-cornerstone-dynamic-volume.sopClassHandlerModule.dynamic-volume',\r\n  leftPanel: '@ohif/extension-cornerstone-dynamic-volume.panelModule.dynamic-volume',\r\n  segmentation: '@ohif/extension-cornerstone-dynamic-volume.panelModule.dynamic-segmentation',\r\n};\r\n\r\nconst cornerstone = {\r\n  segmentation: '@ohif/extension-cornerstone.panelModule.panelSegmentationNoHeader',\r\n  activeViewportWindowLevel: '@ohif/extension-cornerstone.panelModule.activeViewportWindowLevel',\r\n};\r\n\r\nfunction getDefaultButtons({ toolbarService }) {\r\n  return [\r\n    {\r\n      buttonSection: toolbarService.sections.primary,\r\n      buttons: ['MeasurementTools', 'Zoom', 'WindowLevel', 'Crosshairs', 'Pan'],\r\n    },\r\n    {\r\n      buttonSection: 'MeasurementTools',\r\n      buttons: ['Length', 'Bidirectional', 'ArrowAnnotate', 'EllipticalROI'],\r\n    },\r\n  ];\r\n}\r\n\r\nfunction getROIThresholdToolbox({ toolbarService }) {\r\n  return [\r\n    {\r\n      buttonSection: toolbarService.sections.dynamicToolbox,\r\n      buttons: ['SegmentationTools'],\r\n    },\r\n    {\r\n      buttonSection: 'SegmentationTools',\r\n      buttons: ['BrushTools', 'RectangleROIStartEndThreshold'],\r\n    },\r\n    {\r\n      buttonSection: 'BrushTools',\r\n      buttons: ['Brush', 'Eraser', 'Threshold'],\r\n    },\r\n  ];\r\n}\r\n\r\nconst defaultLeftPanel = [[dynamicVolume.leftPanel, cornerstone.activeViewportWindowLevel]];\r\n\r\nconst defaultLayout = {\r\n  panels: {\r\n    left: defaultLeftPanel,\r\n    right: [],\r\n  },\r\n};\r\n\r\nfunction getWorkflowSettings({ servicesManager }) {\r\n  const { toolbarService } = servicesManager.services;\r\n  const defaultButtons = getDefaultButtons({ toolbarService });\r\n  const ROIThresholdToolbox = getROIThresholdToolbox({ toolbarService });\r\n\r\n  return {\r\n    steps: [\r\n      {\r\n        id: 'dataPreparation',\r\n        name: 'Data Preparation',\r\n        layout: {\r\n          panels: {\r\n            left: defaultLeftPanel,\r\n          },\r\n        },\r\n        toolbarButtons: defaultButtons,\r\n        hangingProtocol: {\r\n          protocolId: 'default4D',\r\n          stageId: 'dataPreparation',\r\n        },\r\n        info: 'In the Data Preparation step, you can visualize the dynamic PT volume data in three orthogonal views: axial, sagittal, and coronal. Use the left panel controls to adjust the visualization settings, such as playback speed, or navigate between different frames. This step allows you to assess the quality of the PT data and prepare for further analysis or registration with other modalities.',\r\n      },\r\n      {\r\n        id: 'registration',\r\n        name: 'Registration',\r\n        layout: defaultLayout,\r\n        toolbarButtons: defaultButtons,\r\n        hangingProtocol: {\r\n          protocolId: 'default4D',\r\n          stageId: 'registration',\r\n        },\r\n        info: 'The Registration step provides a comprehensive view of the CT, PT, and fused CT-PT volume data in multiple orientations. The fusion viewports display the CT and PT volumes overlaid, allowing you to visually assess the alignment and registration between the two modalities. The individual CT and PT viewports are also available for side-by-side comparison. This step is crucial for ensuring proper registration before proceeding with further analysis or quantification.',\r\n      },\r\n      {\r\n        id: 'roiQuantification',\r\n        name: 'ROI Quantification',\r\n        layout: {\r\n          panels: {\r\n            left: defaultLeftPanel,\r\n            right: [[dynamicVolume.segmentation]],\r\n          },\r\n          options: {\r\n            leftPanelClosed: false,\r\n            rightPanelClosed: false,\r\n          },\r\n        },\r\n        toolbarButtons: [...defaultButtons, ...ROIThresholdToolbox],\r\n        hangingProtocol: {\r\n          protocolId: 'default4D',\r\n          stageId: 'roiQuantification',\r\n        },\r\n        info: 'The ROI quantification step allows you to define regions of interest (ROIs) with labelmap segmentations, on the fused CT-PT volume data using the labelmap tools. The left panel provides controls for adjusting the dynamic volume visualization, while the right panel offers tools for segmentation, editing, and exporting the ROI data. This step enables you to quantify the uptake or other measures within the defined ROIs for further analysis.',\r\n      },\r\n      {\r\n        id: 'kineticAnalysis',\r\n        name: 'Kinetic Analysis',\r\n        layout: defaultLayout,\r\n        toolbarButtons: defaultButtons,\r\n        hangingProtocol: {\r\n          protocolId: 'default4D',\r\n          stageId: 'kineticAnalysis',\r\n        },\r\n        onEnter: [\r\n          {\r\n            commandName: 'updateSegmentationsChartDisplaySet',\r\n            options: { servicesManager },\r\n          },\r\n        ],\r\n        info: 'The Kinetic Analysis step provides a comprehensive view for visualizing and analyzing the dynamic data derived from the ROI segmentations. The fusion viewports display the combined CT-PT volume data, while a dedicated viewport shows a series chart representing the data over time. This step allows you to explore the temporal dynamics of the uptake or other kinetic measures within the defined regions of interest, enabling further quantitative analysis and modeling.',\r\n      },\r\n    ],\r\n  };\r\n}\r\n\r\nexport { getWorkflowSettings as default };\r\n","import getWorkflowSettings from './getWorkflowSettings';\r\n\r\nexport default function initWorkflowSteps({ servicesManager }: withAppTypes): void {\r\n  const { workflowStepsService } = servicesManager.services;\r\n  const workflowSettings = getWorkflowSettings({ servicesManager });\r\n\r\n  workflowStepsService.addWorkflowSteps(workflowSettings.steps);\r\n  workflowStepsService.setActiveWorkflowStep(workflowSettings.steps[0].id);\r\n}\r\n","const toolGroupIds = {\r\n  default: 'dynamic4D-default',\r\n  PT: 'dynamic4D-pt',\r\n  Fusion: 'dynamic4D-fusion',\r\n  CT: 'dynamic4D-ct',\r\n};\r\n\r\nconst colours = {\r\n  'viewport-0': 'rgb(200, 0, 0)',\r\n  'viewport-1': 'rgb(200, 200, 0)',\r\n  'viewport-2': 'rgb(0, 200, 0)',\r\n};\r\n\r\nconst colorsByOrientation = {\r\n  axial: 'rgb(200, 0, 0)',\r\n  sagittal: 'rgb(200, 200, 0)',\r\n  coronal: 'rgb(0, 200, 0)',\r\n};\r\n\r\nfunction _initToolGroups(toolNames, Enums, toolGroupService, commandsManager, servicesManager) {\r\n  const { cornerstoneViewportService } = servicesManager.services;\r\n  const tools = {\r\n    active: [\r\n      {\r\n        toolName: toolNames.WindowLevel,\r\n        bindings: [{ mouseButton: Enums.MouseBindings.Primary }],\r\n      },\r\n      {\r\n        toolName: toolNames.Pan,\r\n        bindings: [{ mouseButton: Enums.MouseBindings.Auxiliary }],\r\n      },\r\n      {\r\n        toolName: toolNames.Zoom,\r\n        bindings: [{ mouseButton: Enums.MouseBindings.Secondary }, { numTouchPoints: 2 }],\r\n      },\r\n      {\r\n        toolName: toolNames.StackScroll,\r\n        bindings: [{ mouseButton: Enums.MouseBindings.Wheel }, { numTouchPoints: 3 }],\r\n      },\r\n    ],\r\n    passive: [\r\n      { toolName: toolNames.Length },\r\n      { toolName: toolNames.SegmentBidirectional },\r\n      { toolName: toolNames.ArrowAnnotate },\r\n      { toolName: toolNames.Bidirectional },\r\n      { toolName: toolNames.Probe },\r\n      { toolName: toolNames.EllipticalROI },\r\n      { toolName: toolNames.RectangleROI },\r\n      { toolName: toolNames.RectangleROIThreshold },\r\n      { toolName: toolNames.RectangleScissors },\r\n      { toolName: toolNames.PaintFill },\r\n      { toolName: toolNames.StackScroll },\r\n      { toolName: toolNames.Magnify },\r\n      {\r\n        toolName: 'CircularBrush',\r\n        parentTool: 'Brush',\r\n        configuration: {\r\n          activeStrategy: 'FILL_INSIDE_CIRCLE',\r\n          brushSize: 7,\r\n        },\r\n      },\r\n      {\r\n        toolName: 'CircularEraser',\r\n        parentTool: 'Brush',\r\n        configuration: {\r\n          activeStrategy: 'ERASE_INSIDE_CIRCLE',\r\n          brushSize: 7,\r\n        },\r\n      },\r\n      {\r\n        toolName: 'SphereBrush',\r\n        parentTool: 'Brush',\r\n        configuration: {\r\n          activeStrategy: 'FILL_INSIDE_SPHERE',\r\n          brushSize: 7,\r\n        },\r\n      },\r\n      {\r\n        toolName: 'SphereEraser',\r\n        parentTool: 'Brush',\r\n        configuration: {\r\n          activeStrategy: 'ERASE_INSIDE_SPHERE',\r\n          brushSize: 7,\r\n        },\r\n      },\r\n      {\r\n        toolName: 'ThresholdCircularBrush',\r\n        parentTool: 'Brush',\r\n        configuration: {\r\n          activeStrategy: 'THRESHOLD_INSIDE_CIRCLE',\r\n          brushSize: 7,\r\n        },\r\n      },\r\n      {\r\n        toolName: 'ThresholdSphereBrush',\r\n        parentTool: 'Brush',\r\n        configuration: {\r\n          activeStrategy: 'THRESHOLD_INSIDE_SPHERE',\r\n          brushSize: 7,\r\n        },\r\n      },\r\n      { toolName: toolNames.CircleScissors },\r\n      { toolName: toolNames.RectangleScissors },\r\n      { toolName: toolNames.SphereScissors },\r\n      { toolName: toolNames.StackScroll },\r\n      { toolName: toolNames.Magnify },\r\n    ],\r\n    enabled: [],\r\n    disabled: [\r\n      {\r\n        toolName: toolNames.Crosshairs,\r\n        configuration: {\r\n          viewportIndicators: true,\r\n          viewportIndicatorsConfig: {\r\n            circleRadius: 5,\r\n            xOffset: 0.95,\r\n            yOffset: 0.05,\r\n          },\r\n          disableOnPassive: true,\r\n          autoPan: {\r\n            enabled: false,\r\n            panSize: 10,\r\n          },\r\n          getReferenceLineColor: viewportId => {\r\n            const viewportInfo = cornerstoneViewportService.getViewportInfo(viewportId);\r\n            const viewportOptions = viewportInfo?.viewportOptions;\r\n            if (viewportOptions) {\r\n              return (\r\n                colours[viewportOptions.id] ||\r\n                colorsByOrientation[viewportOptions.orientation] ||\r\n                '#0c0'\r\n              );\r\n            } else {\r\n              console.warn('missing viewport?', viewportId);\r\n              return '#0c0';\r\n            }\r\n          },\r\n        },\r\n      },\r\n    ],\r\n  };\r\n\r\n  toolGroupService.createToolGroupAndAddTools(toolGroupIds.PT, {\r\n    ...tools,\r\n    passive: [...tools.passive, { toolName: 'RectangleROIStartEndThreshold' }],\r\n  });\r\n\r\n  toolGroupService.createToolGroupAndAddTools(toolGroupIds.CT, {\r\n    ...tools,\r\n    passive: [...tools.passive, { toolName: 'RectangleROIStartEndThreshold' }],\r\n  });\r\n\r\n  toolGroupService.createToolGroupAndAddTools(toolGroupIds.Fusion, {\r\n    ...tools,\r\n    passive: [...tools.passive, { toolName: 'RectangleROIStartEndThreshold' }],\r\n  });\r\n\r\n  toolGroupService.createToolGroupAndAddTools(toolGroupIds.default, tools);\r\n}\r\n\r\nfunction initToolGroups({ toolNames, Enums, toolGroupService, commandsManager, servicesManager }) {\r\n  _initToolGroups(toolNames, Enums, toolGroupService, commandsManager, servicesManager);\r\n}\r\n\r\nexport { initToolGroups as default, toolGroupIds };\r\n","import { toolGroupIds } from './initToolGroups';\r\nimport { ViewportGridService } from '@ohif/core';\r\nimport i18n from 'i18next';\r\n\r\nconst setToolActiveToolbar = {\r\n  commandName: 'setToolActiveToolbar',\r\n  commandOptions: {\r\n    toolGroupIds: [toolGroupIds.PT, toolGroupIds.CT, toolGroupIds.Fusion, toolGroupIds.default],\r\n  },\r\n};\r\n\r\nconst callbacks = (toolName: string) => [\r\n  {\r\n    commandName: 'setViewportForToolConfiguration',\r\n    commandOptions: {\r\n      toolName,\r\n    },\r\n  },\r\n];\r\n\r\nconst toolbarButtons = [\r\n  {\r\n    id: 'MeasurementTools',\r\n    uiType: 'ohif.toolButtonList',\r\n    props: {\r\n      buttonSection: true,\r\n    },\r\n  },\r\n  {\r\n    id: 'BrushTools',\r\n    uiType: 'ohif.toolBoxButtonGroup',\r\n    props: {\r\n      buttonSection: true,\r\n    },\r\n  },\r\n  {\r\n    id: 'SegmentationTools',\r\n    uiType: 'ohif.toolBoxButton',\r\n    props: {\r\n      buttonSection: true,\r\n    },\r\n  },\r\n  {\r\n    id: 'AdvancedRenderingControls',\r\n    uiType: 'ohif.advancedRenderingControls',\r\n    props: {\r\n      buttonSection: true,\r\n    },\r\n  },\r\n  {\r\n    id: 'modalityLoadBadge',\r\n    uiType: 'ohif.modalityLoadBadge',\r\n    props: {\r\n      icon: 'Status',\r\n      label: i18n.t('Buttons:Status'),\r\n      tooltip: i18n.t('Buttons:Status'),\r\n      evaluate: {\r\n        name: 'evaluate.modalityLoadBadge',\r\n        hideWhenDisabled: true,\r\n      },\r\n    },\r\n  },\r\n  {\r\n    id: 'navigationComponent',\r\n    uiType: 'ohif.navigationComponent',\r\n    props: {\r\n      icon: 'Navigation',\r\n      label: i18n.t('Buttons:Navigation'),\r\n      tooltip: i18n.t('Buttons:Navigate between segments/measurements and manage their visibility'),\r\n      evaluate: {\r\n        name: 'evaluate.navigationComponent',\r\n        hideWhenDisabled: true,\r\n      },\r\n    },\r\n  },\r\n  {\r\n    id: 'windowLevelMenuEmbedded',\r\n    uiType: 'ohif.windowLevelMenuEmbedded',\r\n    props: {\r\n      icon: 'WindowLevel',\r\n      label: i18n.t('Buttons:Window Level'),\r\n      tooltip: i18n.t('Buttons:Adjust window/level presets and customize image contrast settings'),\r\n      evaluate: {\r\n        name: 'evaluate.windowLevelMenuEmbedded',\r\n        hideWhenDisabled: true,\r\n      },\r\n    },\r\n  },\r\n  {\r\n    id: 'trackingStatus',\r\n    uiType: 'ohif.trackingStatus',\r\n    props: {\r\n      icon: 'TrackingStatus',\r\n      label: i18n.t('Buttons:Tracking Status'),\r\n      tooltip: i18n.t('Buttons:View and manage tracking status of measurements and annotations'),\r\n      evaluate: {\r\n        name: 'evaluate.trackingStatus',\r\n        hideWhenDisabled: true,\r\n      },\r\n    },\r\n  },\r\n  {\r\n    id: 'Length',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'tool-length',\r\n      label: i18n.t('Buttons:Length'),\r\n      tooltip: i18n.t('Buttons:Length Tool'),\r\n      commands: setToolActiveToolbar,\r\n      evaluate: 'evaluate.cornerstoneTool',\r\n    },\r\n  },\r\n  {\r\n    id: 'Bidirectional',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'tool-bidirectional',\r\n      label: i18n.t('Buttons:Bidirectional'),\r\n      tooltip: i18n.t('Buttons:Bidirectional Tool'),\r\n      commands: setToolActiveToolbar,\r\n      evaluate: 'evaluate.cornerstoneTool',\r\n    },\r\n  },\r\n  {\r\n    id: 'ArrowAnnotate',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'tool-annotate',\r\n      label: i18n.t('Buttons:Annotation'),\r\n      tooltip: i18n.t('Buttons:Arrow Annotate'),\r\n      commands: setToolActiveToolbar,\r\n      evaluate: 'evaluate.cornerstoneTool',\r\n    },\r\n  },\r\n  {\r\n    id: 'EllipticalROI',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'tool-ellipse',\r\n      label: i18n.t('Buttons:Ellipse'),\r\n      tooltip: i18n.t('Buttons:Ellipse ROI'),\r\n      commands: setToolActiveToolbar,\r\n      evaluate: 'evaluate.cornerstoneTool',\r\n    },\r\n  },\r\n  {\r\n    id: 'Zoom',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'tool-zoom',\r\n      label: i18n.t('Buttons:Zoom'),\r\n      commands: setToolActiveToolbar,\r\n      evaluate: 'evaluate.cornerstoneTool',\r\n    },\r\n  },\r\n  {\r\n    id: 'WindowLevel',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'tool-window-level',\r\n      label: i18n.t('Buttons:Window Level'),\r\n      commands: setToolActiveToolbar,\r\n      evaluate: 'evaluate.cornerstoneTool',\r\n    },\r\n  },\r\n  {\r\n    id: 'Pan',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      type: 'tool',\r\n      icon: 'tool-move',\r\n      label: i18n.t('Buttons:Pan'),\r\n      commands: setToolActiveToolbar,\r\n      evaluate: 'evaluate.cornerstoneTool',\r\n    },\r\n  },\r\n  {\r\n    id: 'TrackballRotate',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      type: 'tool',\r\n      icon: 'tool-3d-rotate',\r\n      label: i18n.t('Buttons:3D Rotate'),\r\n      commands: setToolActiveToolbar,\r\n      evaluate: 'evaluate.cornerstoneTool',\r\n    },\r\n  },\r\n  {\r\n    id: 'Capture',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'tool-capture',\r\n      label: i18n.t('Buttons:Capture'),\r\n      commands: 'showDownloadViewportModal',\r\n      evaluate: [\r\n        'evaluate.action',\r\n        {\r\n          name: 'evaluate.viewport.supported',\r\n          unsupportedViewportTypes: ['video', 'wholeSlide'],\r\n        },\r\n      ],\r\n    },\r\n  },\r\n  {\r\n    id: 'Layout',\r\n    uiType: 'ohif.layoutSelector',\r\n    props: {\r\n      rows: 3,\r\n      columns: 4,\r\n      evaluate: 'evaluate.action',\r\n      commands: 'setViewportGridLayout',\r\n    },\r\n  },\r\n  {\r\n    id: 'Crosshairs',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      type: 'tool',\r\n      icon: 'tool-crosshair',\r\n      label: i18n.t('Buttons:Crosshairs'),\r\n      commands: setToolActiveToolbar,\r\n      evaluate: 'evaluate.cornerstoneTool',\r\n    },\r\n  },\r\n  {\r\n    id: 'ProgressDropdown',\r\n    uiType: 'ohif.progressDropdown',\r\n  },\r\n  {\r\n    id: 'RectangleROIStartEndThreshold',\r\n    uiType: 'ohif.toolBoxButton',\r\n    props: {\r\n      icon: 'tool-create-threshold',\r\n      label: i18n.t('Buttons:Rectangle ROI Threshold'),\r\n      commands: setToolActiveToolbar,\r\n      evaluate: {\r\n        name: 'evaluate.cornerstone.segmentation',\r\n        toolNames: ['RectangleROIStartEndThreshold'],\r\n      },\r\n      options: 'tmtv.RectangleROIThresholdOptions',\r\n    },\r\n  },\r\n  {\r\n    id: 'Brush',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'icon-tool-brush',\r\n      label: i18n.t('Buttons:Brush'),\r\n      evaluate: {\r\n        name: 'evaluate.cornerstone.segmentation',\r\n        toolNames: ['CircularBrush', 'SphereBrush'],\r\n      },\r\n      options: [\r\n        {\r\n          name: 'Size (mm)',\r\n          id: 'brush-radius',\r\n          type: 'range',\r\n          min: 0.5,\r\n          max: 99.5,\r\n          step: 0.5,\r\n          value: 7,\r\n          commands: {\r\n            commandName: 'setBrushSize',\r\n            commandOptions: { toolNames: ['CircularBrush', 'SphereBrush'] },\r\n          },\r\n        },\r\n        {\r\n          name: 'Shape',\r\n          type: 'radio',\r\n          id: 'brush-mode',\r\n          value: 'CircularBrush',\r\n          values: [\r\n            { value: 'CircularBrush', label: 'Circle' },\r\n            { value: 'SphereBrush', label: 'Sphere' },\r\n          ],\r\n          commands: 'setToolActiveToolbar',\r\n        },\r\n      ],\r\n    },\r\n  },\r\n  {\r\n    id: 'Eraser',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'icon-tool-eraser',\r\n      label: i18n.t('Buttons:Eraser'),\r\n      evaluate: {\r\n        name: 'evaluate.cornerstone.segmentation',\r\n        toolNames: ['CircularEraser', 'SphereEraser'],\r\n      },\r\n      options: [\r\n        {\r\n          name: 'Radius (mm)',\r\n          id: 'eraser-radius',\r\n          type: 'range',\r\n          min: 0.5,\r\n          max: 99.5,\r\n          step: 0.5,\r\n          value: 7,\r\n          commands: {\r\n            commandName: 'setBrushSize',\r\n            commandOptions: { toolNames: ['CircularEraser', 'SphereEraser'] },\r\n          },\r\n        },\r\n        {\r\n          name: 'Shape',\r\n          type: 'radio',\r\n          id: 'eraser-mode',\r\n          value: 'CircularEraser',\r\n          values: [\r\n            { value: 'CircularEraser', label: 'Circle' },\r\n            { value: 'SphereEraser', label: 'Sphere' },\r\n          ],\r\n          commands: 'setToolActiveToolbar',\r\n        },\r\n      ],\r\n    },\r\n  },\r\n  {\r\n    id: 'Threshold',\r\n    uiType: 'ohif.toolButton',\r\n    props: {\r\n      icon: 'icon-tool-threshold',\r\n      label: i18n.t('Buttons:Threshold'),\r\n      evaluate: {\r\n        name: 'evaluate.cornerstone.segmentation',\r\n        toolNames: ['ThresholdCircularBrush', 'ThresholdSphereBrush'],\r\n      },\r\n      options: [\r\n        {\r\n          name: 'Radius (mm)',\r\n          id: 'threshold-radius',\r\n          type: 'range',\r\n          min: 0.5,\r\n          max: 99.5,\r\n          step: 0.5,\r\n          value: 7,\r\n          commands: {\r\n            commandName: 'setBrushSize',\r\n            commandOptions: {\r\n              toolNames: ['ThresholdCircularBrush', 'ThresholdSphereBrush'],\r\n            },\r\n          },\r\n        },\r\n        {\r\n          name: 'Shape',\r\n          type: 'radio',\r\n          id: 'eraser-mode',\r\n          value: 'ThresholdCircularBrush',\r\n          values: [\r\n            { value: 'ThresholdCircularBrush', label: 'Circle' },\r\n            { value: 'ThresholdSphereBrush', label: 'Sphere' },\r\n          ],\r\n          commands: 'setToolActiveToolbar',\r\n        },\r\n        {\r\n          name: 'ThresholdRange',\r\n          type: 'double-range',\r\n          id: 'threshold-range',\r\n          min: 0,\r\n          max: 100,\r\n          step: 0.5,\r\n          value: [2, 50],\r\n          commands: {\r\n            commandName: 'setThresholdRange',\r\n            commandOptions: {\r\n              toolNames: ['ThresholdCircularBrush', 'ThresholdSphereBrush'],\r\n            },\r\n          },\r\n        },\r\n      ],\r\n    },\r\n  },\r\n  {\r\n    id: 'Shapes',\r\n    uiType: 'ohif.toolBoxButton',\r\n    props: {\r\n      label: 'Shapes',\r\n      evaluate: {\r\n        name: 'evaluate.cornerstone.segmentation',\r\n        toolNames: ['CircleScissor', 'SphereScissor', 'RectangleScissor'],\r\n      },\r\n      icon: 'icon-tool-shape',\r\n      options: [\r\n        {\r\n          name: 'Shape',\r\n          type: 'radio',\r\n          value: 'CircleScissor',\r\n          id: 'shape-mode',\r\n          values: [\r\n            { value: 'CircleScissor', label: 'Circle' },\r\n            { value: 'SphereScissor', label: 'Sphere' },\r\n            { value: 'RectangleScissor', label: 'Rectangle' },\r\n          ],\r\n          commands: 'setToolActiveToolbar',\r\n        },\r\n      ],\r\n    },\r\n  },\r\n  {\r\n    id: 'dataOverlayMenu',\r\n    uiType: 'ohif.dataOverlayMenu',\r\n    props: {\r\n      icon: 'ViewportViews',\r\n      label: i18n.t('Buttons:Data Overlay'),\r\n      tooltip: i18n.t(\r\n        'Buttons:Configure data overlay options and manage foreground/background display sets'\r\n      ),\r\n      evaluate: 'evaluate.dataOverlayMenu',\r\n    },\r\n  },\r\n  {\r\n    id: 'orientationMenu',\r\n    uiType: 'ohif.orientationMenu',\r\n    props: {\r\n      icon: 'OrientationSwitch',\r\n      label: i18n.t('Buttons:Orientation'),\r\n      tooltip: i18n.t(\r\n        'Buttons:Change viewport orientation between axial, sagittal, coronal and reformat planes'\r\n      ),\r\n      evaluate: {\r\n        name: 'evaluate.orientationMenu',\r\n        // hideWhenDisabled: true,\r\n      },\r\n    },\r\n  },\r\n  {\r\n    id: 'windowLevelMenu',\r\n    uiType: 'ohif.windowLevelMenu',\r\n    props: {\r\n      icon: 'WindowLevel',\r\n      label: i18n.t('Buttons:Window Level'),\r\n      tooltip: i18n.t('Buttons:Adjust window/level presets and customize image contrast settings'),\r\n      evaluate: 'evaluate.windowLevelMenu',\r\n    },\r\n  },\r\n  {\r\n    id: 'voiManualControlMenu',\r\n    uiType: 'ohif.voiManualControlMenu',\r\n    props: {\r\n      icon: 'WindowLevelAdvanced',\r\n      label: i18n.t('Buttons:Advanced Window Level'),\r\n      tooltip: i18n.t('Buttons:Advanced window/level settings with manual controls and presets'),\r\n      evaluate: 'evaluate.voiManualControlMenu',\r\n    },\r\n  },\r\n  {\r\n    id: 'thresholdMenu',\r\n    uiType: 'ohif.thresholdMenu',\r\n    props: {\r\n      icon: 'Threshold',\r\n      label: i18n.t('Buttons:Threshold'),\r\n      tooltip: i18n.t('Buttons:Image threshold settings'),\r\n      evaluate: {\r\n        name: 'evaluate.thresholdMenu',\r\n        hideWhenDisabled: true,\r\n      },\r\n    },\r\n  },\r\n  {\r\n    id: 'opacityMenu',\r\n    uiType: 'ohif.opacityMenu',\r\n    props: {\r\n      icon: 'Opacity',\r\n      label: i18n.t('Buttons:Opacity'),\r\n      tooltip: i18n.t('Buttons:Image opacity settings'),\r\n      evaluate: {\r\n        name: 'evaluate.opacityMenu',\r\n        hideWhenDisabled: true,\r\n      },\r\n    },\r\n  },\r\n  {\r\n    id: 'Colorbar',\r\n    uiType: 'ohif.colorbar',\r\n    props: {\r\n      type: 'tool',\r\n      label: i18n.t('Buttons:Colorbar'),\r\n    },\r\n  },\r\n];\r\n\r\nexport default toolbarButtons;\r\n","import { id } from './id';\r\nimport initWorkflowSteps from './initWorkflowSteps';\r\nimport initToolGroups from './initToolGroups';\r\nimport toolbarButtons from './toolbarButtons';\r\n\r\nconst extensionDependencies = {\r\n  '@ohif/extension-default': '3.7.0-beta.76',\r\n  '@ohif/extension-cornerstone': '3.7.0-beta.76',\r\n  '@ohif/extension-cornerstone-dynamic-volume': '3.7.0-beta.76',\r\n  '@ohif/extension-cornerstone-dicom-seg': '3.7.0-beta.76',\r\n  '@ohif/extension-tmtv': '3.7.0-beta.76',\r\n};\r\n\r\nconst ohif = {\r\n  layout: '@ohif/extension-default.layoutTemplateModule.viewerLayout',\r\n  defaultSopClassHandler: '@ohif/extension-default.sopClassHandlerModule.stack',\r\n  chartSopClassHandler: '@ohif/extension-default.sopClassHandlerModule.chart',\r\n  hangingProtocol: '@ohif/extension-default.hangingProtocolModule.default',\r\n  leftPanel: '@ohif/extension-default.panelModule.seriesList',\r\n  chartViewport: '@ohif/extension-default.viewportModule.chartViewport',\r\n};\r\n\r\nconst dynamicVolume = {\r\n  leftPanel: '@ohif/extension-cornerstone-dynamic-volume.panelModule.dynamic-volume',\r\n};\r\n\r\nconst cornerstone = {\r\n  viewport: '@ohif/extension-cornerstone.viewportModule.cornerstone',\r\n  activeViewportWindowLevel: '@ohif/extension-cornerstone.panelModule.activeViewportWindowLevel',\r\n};\r\n\r\nfunction modeFactory({ modeConfiguration }) {\r\n  return {\r\n    id,\r\n    routeName: 'dynamic-volume',\r\n    displayName: 'Preclinical 4D',\r\n    onModeEnter: function ({ servicesManager, extensionManager, commandsManager }: withAppTypes) {\r\n      const {\r\n        measurementService,\r\n        toolbarService,\r\n        cineService,\r\n        cornerstoneViewportService,\r\n        toolGroupService,\r\n        customizationService,\r\n        viewportGridService,\r\n      } = servicesManager.services;\r\n\r\n      const utilityModule = extensionManager.getModuleEntry(\r\n        '@ohif/extension-cornerstone.utilityModule.tools'\r\n      );\r\n\r\n      const { toolNames, Enums } = utilityModule.exports;\r\n\r\n      measurementService.clearMeasurements();\r\n      initToolGroups({ toolNames, Enums, toolGroupService, commandsManager, servicesManager });\r\n\r\n      toolbarService.register(toolbarButtons);\r\n\r\n      toolbarService.updateSection(toolbarService.sections.secondary, ['ProgressDropdown']);\r\n\r\n      toolbarService.updateSection(toolbarService.sections.viewportActionMenu.topLeft, [\r\n        'orientationMenu',\r\n        'dataOverlayMenu',\r\n      ]);\r\n\r\n      toolbarService.updateSection(toolbarService.sections.viewportActionMenu.topLeft, [\r\n        'orientationMenu',\r\n        'dataOverlayMenu',\r\n      ]);\r\n\r\n      toolbarService.updateSection(toolbarService.sections.viewportActionMenu.bottomMiddle, [\r\n        'AdvancedRenderingControls',\r\n      ]);\r\n\r\n      toolbarService.updateSection('AdvancedRenderingControls', [\r\n        'windowLevelMenuEmbedded',\r\n        'voiManualControlMenu',\r\n        'Colorbar',\r\n        'opacityMenu',\r\n        'thresholdMenu',\r\n      ]);\r\n\r\n      toolbarService.updateSection(toolbarService.sections.viewportActionMenu.topRight, [\r\n        'modalityLoadBadge',\r\n        'trackingStatus',\r\n        'navigationComponent',\r\n      ]);\r\n\r\n      toolbarService.updateSection(toolbarService.sections.viewportActionMenu.bottomLeft, [\r\n        'windowLevelMenu',\r\n      ]);\r\n\r\n      // the primary button section is created in the workflow steps\r\n      // specific to the step\r\n      customizationService.setCustomizations({\r\n        'panelSegmentation.tableMode': {\r\n          $set: 'expanded',\r\n        },\r\n        'panelSegmentation.onSegmentationAdd': {\r\n          $set: () => {\r\n            commandsManager.run('createNewLabelMapForDynamicVolume');\r\n          },\r\n        },\r\n        'panelSegmentation.showAddSegment': {\r\n          $set: false,\r\n        },\r\n      });\r\n\r\n      // Auto play the clip initially when the volumes are loaded\r\n      const { unsubscribe } = cornerstoneViewportService.subscribe(\r\n        cornerstoneViewportService.EVENTS.VIEWPORT_VOLUMES_CHANGED,\r\n        () => {\r\n          const viewportId = viewportGridService.getActiveViewportId();\r\n          const csViewport = cornerstoneViewportService.getCornerstoneViewport(viewportId);\r\n          cineService.playClip(csViewport.element, { viewportId });\r\n          // cineService.setIsCineEnabled(true);\r\n\r\n          unsubscribe();\r\n        }\r\n      );\r\n    },\r\n    onSetupRouteComplete: ({ servicesManager }: withAppTypes) => {\r\n      // This needs to run after hanging protocol matching process because\r\n      // it may change the protocol/stage based on workflow stage settings\r\n      initWorkflowSteps({ servicesManager });\r\n    },\r\n    onModeExit: ({ servicesManager }: withAppTypes) => {\r\n      const {\r\n        toolGroupService,\r\n        syncGroupService,\r\n        segmentationService,\r\n        cornerstoneViewportService,\r\n      } = servicesManager.services;\r\n\r\n      toolGroupService.destroy();\r\n      syncGroupService.destroy();\r\n      segmentationService.destroy();\r\n      cornerstoneViewportService.destroy();\r\n    },\r\n    get validationTags() {\r\n      return {\r\n        study: [],\r\n        series: [],\r\n      };\r\n    },\r\n    isValidMode: ({ modalities, study }) => {\r\n      // Todo: we need to find a better way to validate the mode\r\n      return {\r\n        valid: study.mrn === 'M1',\r\n        description: 'This mode is only available for 4D PET/CT studies.',\r\n      };\r\n    },\r\n\r\n    /**\r\n     * Mode Routes are used to define the mode's behavior. A list of Mode Route\r\n     * that includes the mode's path and the layout to be used. The layout will\r\n     * include the components that are used in the layout. For instance, if the\r\n     * default layoutTemplate is used (id: '@ohif/extension-default.layoutTemplateModule.viewerLayout')\r\n     * it will include the leftPanels, rightPanels, and viewports. However, if\r\n     * you define another layoutTemplate that includes a Footer for instance,\r\n     * you should provide the Footer component here too. Note: We use Strings\r\n     * to reference the component's ID as they are registered in the internal\r\n     * ExtensionManager. The template for the string is:\r\n     * `${extensionId}.{moduleType}.${componentId}`.\r\n     */\r\n    routes: [\r\n      {\r\n        path: 'preclinical-4d',\r\n        layoutTemplate: ({ location, servicesManager }) => {\r\n          return {\r\n            id: ohif.layout,\r\n            props: {\r\n              leftPanels: [[dynamicVolume.leftPanel, cornerstone.activeViewportWindowLevel]],\r\n              leftPanelResizable: true,\r\n              rightPanels: [],\r\n              rightPanelResizable: true,\r\n              rightPanelClosed: true,\r\n              viewports: [\r\n                {\r\n                  namespace: cornerstone.viewport,\r\n                  displaySetsToDisplay: [ohif.defaultSopClassHandler],\r\n                },\r\n                {\r\n                  namespace: ohif.chartViewport,\r\n                  displaySetsToDisplay: [ohif.chartSopClassHandler],\r\n                },\r\n              ],\r\n            },\r\n          };\r\n        },\r\n      },\r\n    ],\r\n    extensions: extensionDependencies,\r\n    // Default protocol gets self-registered by default in the init\r\n    hangingProtocol: 'default4D',\r\n    // Order is important in sop class handlers when two handlers both use\r\n    // the same sop class under different situations.  In that case, the more\r\n    // general handler needs to come last.  For this case, the dicomvideo must\r\n    // come first to remove video transfer syntax before ohif uses images\r\n    sopClassHandlers: [ohif.chartSopClassHandler, ohif.defaultSopClassHandler],\r\n  };\r\n}\r\n\r\nconst mode = {\r\n  id,\r\n  modeFactory,\r\n  extensionDependencies,\r\n};\r\n\r\nexport default mode;\r\n"],"names":["id","packageJson","dynamicVolume","defaultLeftPanel","defaultLayout","panels","left","right","initWorkflowSteps","servicesManager","workflowStepsService","services","workflowSettings","toolbarService","defaultButtons","buttonSection","sections","primary","buttons","getDefaultButtons","ROIThresholdToolbox","dynamicToolbox","getROIThresholdToolbox","steps","name","layout","toolbarButtons","hangingProtocol","protocolId","stageId","info","options","leftPanelClosed","rightPanelClosed","onEnter","commandName","getWorkflowSettings","addWorkflowSteps","setActiveWorkflowStep","toolGroupIds","colours","colorsByOrientation","axial","sagittal","coronal","initToolGroups","toolNames","Enums","toolGroupService","commandsManager","cornerstoneViewportService","tools","active","toolName","WindowLevel","bindings","mouseButton","MouseBindings","Primary","Pan","Auxiliary","Zoom","Secondary","numTouchPoints","StackScroll","Wheel","passive","Length","SegmentBidirectional","ArrowAnnotate","Bidirectional","Probe","EllipticalROI","RectangleROI","RectangleROIThreshold","RectangleScissors","PaintFill","Magnify","parentTool","configuration","activeStrategy","brushSize","CircleScissors","SphereScissors","enabled","disabled","Crosshairs","viewportIndicators","viewportIndicatorsConfig","circleRadius","xOffset","yOffset","disableOnPassive","autoPan","panSize","getReferenceLineColor","viewportId","viewportInfo","getViewportInfo","viewportOptions","orientation","console","warn","createToolGroupAndAddTools","_initToolGroups","setToolActiveToolbar","commandOptions","uiType","props","icon","label","i18n","t","tooltip","evaluate","hideWhenDisabled","commands","type","unsupportedViewportTypes","rows","columns","min","max","step","value","values","extensionDependencies","ohif","cornerstone","modeFactory","modeConfiguration","routeName","displayName","onModeEnter","extensionManager","measurementService","cineService","customizationService","viewportGridService","utilityModule","getModuleEntry","exports","clearMeasurements","register","updateSection","secondary","viewportActionMenu","topLeft","bottomMiddle","topRight","bottomLeft","setCustomizations","$set","run","unsubscribe","subscribe","EVENTS","VIEWPORT_VOLUMES_CHANGED","getActiveViewportId","csViewport","getCornerstoneViewport","playClip","element","onSetupRouteComplete","onModeExit","syncGroupService","segmentationService","destroy","validationTags","study","series","isValidMode","modalities","valid","mrn","description","routes","path","layoutTemplate","location","leftPanels","leftPanelResizable","rightPanels","rightPanelResizable","viewports","namespace","displaySetsToDisplay","extensions","sopClassHandlers"],"sourceRoot":""}