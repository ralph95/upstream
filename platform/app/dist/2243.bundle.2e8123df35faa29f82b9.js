"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[2243],{75183:(e,o,t)=>{var n;t.d(o,{A:()=>i}),function(e){e.Interaction="Interaction",e.HandlesUpdated="HandlesUpdated",e.StatsUpdated="StatsUpdated",e.InitialSetup="InitialSetup",e.Completed="Completed",e.InterpolationUpdated="InterpolationUpdated",e.History="History",e.MetadataReferenceModified="MetadataReferenceModified",e.LabelChange="LabelChange"}(n||(n={}));const i=n},94021:(e,o,t)=>{var n;t.d(o,{A:()=>i}),function(e){e.TOOL_ACTIVATED="CORNERSTONE_TOOLS_TOOL_ACTIVATED",e.TOOLGROUP_VIEWPORT_ADDED="CORNERSTONE_TOOLS_TOOLGROUP_VIEWPORT_ADDED",e.TOOLGROUP_VIEWPORT_REMOVED="CORNERSTONE_TOOLS_TOOLGROUP_VIEWPORT_REMOVED",e.TOOL_MODE_CHANGED="CORNERSTONE_TOOLS_TOOL_MODE_CHANGED",e.CROSSHAIR_TOOL_CENTER_CHANGED="CORNERSTONE_TOOLS_CROSSHAIR_TOOL_CENTER_CHANGED",e.VOLUMECROPPINGCONTROL_TOOL_CHANGED="CORNERSTONE_TOOLS_VOLUMECROPPINGCONTROL_TOOL_CHANGED",e.VOLUMECROPPING_TOOL_CHANGED="CORNERSTONE_TOOLS_VOLUMECROPPING_TOOL_CHANGED",e.STACK_PREFETCH_COMPLETE="CORNERSTONE_TOOLS_STACK_PREFETCH_COMPLETE",e.ANNOTATION_ADDED="CORNERSTONE_TOOLS_ANNOTATION_ADDED",e.ANNOTATION_COMPLETED="CORNERSTONE_TOOLS_ANNOTATION_COMPLETED",e.ANNOTATION_MODIFIED="CORNERSTONE_TOOLS_ANNOTATION_MODIFIED",e.ANNOTATION_REMOVED="CORNERSTONE_TOOLS_ANNOTATION_REMOVED",e.ANNOTATION_SELECTION_CHANGE="CORNERSTONE_TOOLS_ANNOTATION_SELECTION_CHANGE",e.ANNOTATION_LOCK_CHANGE="CORNERSTONE_TOOLS_ANNOTATION_LOCK_CHANGE",e.ANNOTATION_VISIBILITY_CHANGE="CORNERSTONE_TOOLS_ANNOTATION_VISIBILITY_CHANGE",e.ANNOTATION_RENDERED="CORNERSTONE_TOOLS_ANNOTATION_RENDERED",e.ANNOTATION_CUT_MERGE_PROCESS_COMPLETED="CORNERSTONE_TOOLS_ANNOTATION_CUT_MERGE_PROCESS_COMPLETED",e.ANNOTATION_INTERPOLATION_PROCESS_COMPLETED="CORNERSTONE_TOOLS_ANNOTATION_INTERPOLATION_PROCESS_COMPLETED",e.INTERPOLATED_ANNOTATIONS_REMOVED="CORNERSTONE_TOOLS_INTERPOLATED_ANNOTATIONS_REMOVED",e.SEGMENTATION_MODIFIED="CORNERSTONE_TOOLS_SEGMENTATION_MODIFIED",e.SEGMENTATION_RENDERED="CORNERSTONE_TOOLS_SEGMENTATION_RENDERED",e.SEGMENTATION_REPRESENTATION_ADDED="CORNERSTONE_TOOLS_SEGMENTATION_REPRESENTATION_ADDED",e.SEGMENTATION_ADDED="CORNERSTONE_TOOLS_SEGMENTATION_ADDED",e.SEGMENTATION_REPRESENTATION_MODIFIED="CORNERSTONE_TOOLS_SEGMENTATION_REPRESENTATION_MODIFIED",e.SEGMENTATION_REMOVED="CORNERSTONE_TOOLS_SEGMENTATION_REMOVED",e.SEGMENTATION_REPRESENTATION_REMOVED="CORNERSTONE_TOOLS_SEGMENTATION_REPRESENTATION_REMOVED",e.SEGMENTATION_DATA_MODIFIED="CORNERSTONE_TOOLS_SEGMENTATION_DATA_MODIFIED",e.HISTORY_UNDO="CORNERSTONE_TOOLS_HISTORY_UNDO",e.HISTORY_REDO="CORNERSTONE_TOOLS_HISTORY_REDO",e.KEY_DOWN="CORNERSTONE_TOOLS_KEY_DOWN",e.KEY_UP="CORNERSTONE_TOOLS_KEY_UP",e.MOUSE_DOWN="CORNERSTONE_TOOLS_MOUSE_DOWN",e.MOUSE_UP="CORNERSTONE_TOOLS_MOUSE_UP",e.MOUSE_DOWN_ACTIVATE="CORNERSTONE_TOOLS_MOUSE_DOWN_ACTIVATE",e.MOUSE_DRAG="CORNERSTONE_TOOLS_MOUSE_DRAG",e.MOUSE_MOVE="CORNERSTONE_TOOLS_MOUSE_MOVE",e.MOUSE_CLICK="CORNERSTONE_TOOLS_MOUSE_CLICK",e.MOUSE_DOUBLE_CLICK="CORNERSTONE_TOOLS_MOUSE_DOUBLE_CLICK",e.MOUSE_WHEEL="CORNERSTONE_TOOLS_MOUSE_WHEEL",e.TOUCH_START="CORNERSTONE_TOOLS_TOUCH_START",e.TOUCH_START_ACTIVATE="CORNERSTONE_TOOLS_TOUCH_START_ACTIVATE",e.TOUCH_PRESS="CORNERSTONE_TOOLS_TOUCH_PRESS",e.TOUCH_DRAG="CORNERSTONE_TOOLS_TOUCH_DRAG",e.TOUCH_END="CORNERSTONE_TOOLS_TOUCH_END",e.TOUCH_TAP="CORNERSTONE_TOOLS_TAP",e.TOUCH_SWIPE="CORNERSTONE_TOOLS_SWIPE"}(n||(n={}));const i=n},18682:(e,o,t)=>{var n;t.d(o,{A:()=>i}),function(e){e.Labelmap="Labelmap",e.Contour="Contour",e.Surface="Surface"}(n||(n={}));const i=n},84093:(e,o,t)=>{var n;t.d(o,{A:()=>i}),function(e){e.OnInteractionStart="onInteractionStart",e.OnInteractionEnd="onInteractionEnd",e.Preview="preview",e.RejectPreview="rejectPreview",e.AcceptPreview="acceptPreview",e.Fill="fill",e.Interpolate="interpolate",e.StrategyFunction="strategyFunction",e.CreateIsInThreshold="createIsInThreshold",e.Initialize="initialize",e.INTERNAL_setValue="setValue",e.AddPreview="addPreview",e.ComputeInnerCircleRadius="computeInnerCircleRadius",e.GetStatistics="getStatistics",e.EnsureImageVolumeFor3DManipulation="ensureImageVolumeFor3DManipulation",e.EnsureSegmentationVolumeFor3DManipulation="ensureSegmentationVolumeFor3DManipulation"}(n||(n={}));const i=n},66452:(e,o,t)=>{var n,i;t.d(o,{i:()=>n,q:()=>i}),function(e){e[e.Primary=1]="Primary",e[e.Secondary=2]="Secondary",e[e.Primary_And_Secondary=3]="Primary_And_Secondary",e[e.Auxiliary=4]="Auxiliary",e[e.Primary_And_Auxiliary=5]="Primary_And_Auxiliary",e[e.Secondary_And_Auxiliary=6]="Secondary_And_Auxiliary",e[e.Primary_And_Secondary_And_Auxiliary=7]="Primary_And_Secondary_And_Auxiliary",e[e.Fourth_Button=8]="Fourth_Button",e[e.Fifth_Button=16]="Fifth_Button",e[e.Wheel=524288]="Wheel",e[e.Wheel_Primary=524289]="Wheel_Primary"}(n||(n={})),function(e){e[e.Shift=16]="Shift",e[e.Ctrl=17]="Ctrl",e[e.Alt=18]="Alt",e[e.Meta=91]="Meta",e[e.ShiftCtrl=1617]="ShiftCtrl",e[e.ShiftAlt=1618]="ShiftAlt",e[e.ShiftMeta=1691]="ShiftMeta",e[e.CtrlAlt=1718]="CtrlAlt",e[e.CtrlMeta=1791]="CtrlMeta",e[e.AltMeta=1891]="AltMeta"}(i||(i={}))},49892:(e,o,t)=>{var n;t.d(o,{A:()=>i}),function(e){e.Active="Active",e.Passive="Passive",e.Enabled="Enabled",e.Disabled="Disabled"}(n||(n={}));const i=n},10401:(e,o,t)=>{var n;t.d(o,{H:()=>n}),function(e){e.UP="UP",e.DOWN="DOWN",e.LEFT="LEFT",e.RIGHT="RIGHT"}(n||(n={}))},99737:(e,o,t)=>{t.r(o),t.d(o,{AnnotationStyleStates:()=>l,ChangeTypes:()=>p.A,Events:()=>s.A,KeyboardBindings:()=>i.q,MouseBindings:()=>i.i,SegmentationRepresentations:()=>u.A,StrategyCallbacks:()=>c.A,Swipe:()=>d.H,ToolModes:()=>a.A,WorkerTypes:()=>O});var n,i=t(66452),a=t(49892);!function(e){e.Default="",e.Highlighted="Highlighted",e.Selected="Selected",e.Locked="Locked",e.AutoGenerated="AutoGenerated"}(n||(n={}));const l=n;var r,s=t(94021),u=t(18682),d=t(10401),c=t(84093),p=t(75183);!function(e){e.POLYSEG_CONTOUR_TO_LABELMAP="Converting Contour to Labelmap",e.POLYSEG_SURFACE_TO_LABELMAP="Converting Surfaces to Labelmap",e.POLYSEG_CONTOUR_TO_SURFACE="Converting Contour to Surface",e.POLYSEG_LABELMAP_TO_SURFACE="Converting Labelmap to Surface",e.SURFACE_CLIPPING="Clipping Surfaces",e.COMPUTE_STATISTICS="Computing Statistics",e.INTERPOLATE_LABELMAP="Interpolating Labelmap",e.COMPUTE_LARGEST_BIDIRECTIONAL="Computing Largest Bidirectional",e.GENERATE_CONTOUR_SETS="Generating Contour Sets"}(r||(r={}));const O=r},28024:(e,o,t)=>{t.d(o,{C:()=>i,w:()=>n});let n=!0;function i(e){n=e}},94507:(e,o,t)=>{t.r(o),t.d(o,{default:()=>G,initToolGroups:()=>r,toolbarButtons:()=>p});var n=t(40680);const i=JSON.parse('{"UU":"@ohif/mode-ultrasound-pleura-bline"}').UU,a={"viewport-0":"rgb(200, 0, 0)","viewport-1":"rgb(200, 200, 0)","viewport-2":"rgb(0, 200, 0)"},l={axial:"rgb(200, 0, 0)",sagittal:"rgb(200, 200, 0)",coronal:"rgb(0, 200, 0)"};const r=function(e,o,t){!function(e,o,t,n){const i=e.getModuleEntry("@ohif/extension-cornerstone.utilityModule.tools"),{toolNames:a,Enums:l}=i.exports,r={active:[{toolName:a.UltrasoundAnnotation,bindings:[{mouseButton:l.MouseBindings.Primary}]},{toolName:a.Pan,bindings:[{mouseButton:l.MouseBindings.Auxiliary}]},{toolName:a.Zoom,bindings:[{mouseButton:l.MouseBindings.Secondary}]},{toolName:a.StackScroll,bindings:[{mouseButton:l.MouseBindings.Wheel}]}],passive:[{toolName:a.Length},{toolName:a.ArrowAnnotate,configuration:{getTextCallback:(e,o)=>{t.runCommand("arrowTextCallback",{callback:e,eventDetails:o})},changeTextCallback:(e,o,n)=>{t.runCommand("arrowTextCallback",{callback:n,data:e,eventDetails:o})}}},{toolName:a.SegmentBidirectional},{toolName:a.Bidirectional},{toolName:a.DragProbe},{toolName:a.Probe},{toolName:a.EllipticalROI},{toolName:a.CircleROI},{toolName:a.RectangleROI},{toolName:a.StackScroll},{toolName:a.Angle},{toolName:a.CobbAngle},{toolName:a.Magnify},{toolName:a.CalibrationLine},{toolName:a.PlanarFreehandContourSegmentation,configuration:{displayOnePointAsCrosshairs:!0}},{toolName:a.UltrasoundDirectional},{toolName:a.WindowLevel},{toolName:a.PlanarFreehandROI},{toolName:a.SplineROI},{toolName:a.LivewireContour},{toolName:a.WindowLevelRegion}],enabled:[{toolName:a.ImageOverlayViewer},{toolName:a.ReferenceLines}],disabled:[{toolName:a.AdvancedMagnify}]};o.createToolGroupAndAddTools(n,r)}(e,o,t,"default"),function(e,o){const t=e.getModuleEntry("@ohif/extension-cornerstone-dicom-sr.utilityModule.tools");if(!t)return;const n=e.getModuleEntry("@ohif/extension-cornerstone.utilityModule.tools"),{toolNames:i}=t.exports,{toolNames:a,Enums:l}=n.exports,r={active:[{toolName:a.WindowLevel,bindings:[{mouseButton:l.MouseBindings.Primary}]},{toolName:a.Pan,bindings:[{mouseButton:l.MouseBindings.Auxiliary}]},{toolName:a.Zoom,bindings:[{mouseButton:l.MouseBindings.Secondary}]},{toolName:a.StackScroll,bindings:[{mouseButton:l.MouseBindings.Wheel}]}],passive:[{toolName:i.SRLength},{toolName:i.SRArrowAnnotate},{toolName:i.SRBidirectional},{toolName:i.SREllipticalROI},{toolName:i.SRCircleROI},{toolName:i.SRPlanarFreehandROI},{toolName:i.SRRectangleROI},{toolName:a.WindowLevelRegion}],enabled:[{toolName:i.DICOMSRDisplay}]};o.createToolGroupAndAddTools("SRToolGroup",r)}(e,o),function(e,o,t){const n=e.getModuleEntry("@ohif/extension-cornerstone.utilityModule.tools"),i=e._servicesManager,{cornerstoneViewportService:r}=i.services,{toolNames:s,Enums:u}=n.exports,d={active:[{toolName:s.WindowLevel,bindings:[{mouseButton:u.MouseBindings.Primary}]},{toolName:s.Pan,bindings:[{mouseButton:u.MouseBindings.Auxiliary}]},{toolName:s.Zoom,bindings:[{mouseButton:u.MouseBindings.Secondary}]},{toolName:s.StackScroll,bindings:[{mouseButton:u.MouseBindings.Wheel}]}],passive:[{toolName:s.Length},{toolName:s.ArrowAnnotate,configuration:{getTextCallback:(e,o)=>{t.runCommand("arrowTextCallback",{callback:e,eventDetails:o})},changeTextCallback:(e,o,n)=>{t.runCommand("arrowTextCallback",{callback:n,data:e,eventDetails:o})}}},{toolName:s.Bidirectional},{toolName:s.DragProbe},{toolName:s.Probe},{toolName:s.EllipticalROI},{toolName:s.CircleROI},{toolName:s.RectangleROI},{toolName:s.StackScroll},{toolName:s.Angle},{toolName:s.CobbAngle},{toolName:s.PlanarFreehandROI},{toolName:s.SplineROI},{toolName:s.LivewireContour},{toolName:s.WindowLevelRegion},{toolName:s.PlanarFreehandContourSegmentation,configuration:{displayOnePointAsCrosshairs:!0}}],disabled:[{toolName:s.Crosshairs,configuration:{viewportIndicators:!0,viewportIndicatorsConfig:{circleRadius:5,xOffset:.95,yOffset:.05},disableOnPassive:!0,autoPan:{enabled:!1,panSize:10},getReferenceLineColor:e=>{const o=r.getViewportInfo(e),t=o?.viewportOptions;return t?a[t.id]||l[t.orientation]||"#0c0":(console.warn("missing viewport?",e),"#0c0")}}},{toolName:s.AdvancedMagnify},{toolName:s.ReferenceLines}]};o.createToolGroupAndAddTools("mpr",d)}(e,o,t),function(e,o){const t=e.getModuleEntry("@ohif/extension-cornerstone.utilityModule.tools"),{toolNames:n,Enums:i}=t.exports,a={active:[{toolName:n.TrackballRotateTool,bindings:[{mouseButton:i.MouseBindings.Primary}]},{toolName:n.Zoom,bindings:[{mouseButton:i.MouseBindings.Secondary}]},{toolName:n.Pan,bindings:[{mouseButton:i.MouseBindings.Auxiliary}]}]};o.createToolGroupAndAddTools("volume3d",a)}(e,o)};var s=t(15327),u=t(42356);const d=e=>[{commandName:"setViewportForToolConfiguration",commandOptions:{toolName:e}}],c={commandName:"setToolActiveToolbar",commandOptions:{toolGroupIds:["default","mpr","SRToolGroup","volume3d"]}},p=[{id:"MeasurementTools",uiType:"ohif.toolButtonList",props:{buttonSection:"measurementSection"}},{id:"MoreTools",uiType:"ohif.toolButtonList",props:{buttonSection:"moreToolsSection"}},{id:"AdvancedRenderingControls",uiType:"ohif.advancedRenderingControls",props:{buttonSection:"advancedRenderingControlsSection"}},{id:"modalityLoadBadge",uiType:"ohif.modalityLoadBadge",props:{icon:"Status",label:n.A.t("Buttons:Status"),tooltip:n.A.t("Buttons:Status"),evaluate:{name:"evaluate.modalityLoadBadge",hideWhenDisabled:!0}}},{id:"navigationComponent",uiType:"ohif.navigationComponent",props:{icon:"Navigation",label:n.A.t("Buttons:Navigation"),tooltip:n.A.t("Buttons:Navigate between segments/measurements and manage their visibility"),evaluate:{name:"evaluate.navigationComponent",hideWhenDisabled:!0}}},{id:"trackingStatus",uiType:"ohif.trackingStatus",props:{icon:"TrackingStatus",label:n.A.t("Buttons:Tracking Status"),tooltip:n.A.t("Buttons:View and manage tracking status of measurements and annotations"),evaluate:{name:"evaluate.trackingStatus",hideWhenDisabled:!0}}},{id:"dataOverlayMenu",uiType:"ohif.dataOverlayMenu",props:{icon:"ViewportViews",label:n.A.t("Buttons:Data Overlay"),tooltip:n.A.t("Buttons:Configure data overlay options and manage foreground/background display sets"),evaluate:"evaluate.dataOverlayMenu"}},{id:"orientationMenu",uiType:"ohif.orientationMenu",props:{icon:"OrientationSwitch",label:n.A.t("Buttons:Orientation"),tooltip:n.A.t("Buttons:Change viewport orientation between axial, sagittal, coronal and reformat planes"),evaluate:{name:"evaluate.orientationMenu"}}},{id:"windowLevelMenuEmbedded",uiType:"ohif.windowLevelMenuEmbedded",props:{icon:"WindowLevel",label:n.A.t("Buttons:Window Level"),tooltip:n.A.t("Buttons:Adjust window/level presets and customize image contrast settings"),evaluate:{name:"evaluate.windowLevelMenuEmbedded",hideWhenDisabled:!0}}},{id:"windowLevelMenu",uiType:"ohif.windowLevelMenu",props:{icon:"WindowLevel",label:n.A.t("Buttons:Window Level"),tooltip:n.A.t("Buttons:Adjust window/level presets and customize image contrast settings"),evaluate:{name:"evaluate.windowLevelMenu"}}},{id:"voiManualControlMenu",uiType:"ohif.voiManualControlMenu",props:{icon:"WindowLevelAdvanced",label:n.A.t("Buttons:Advanced Window Level"),tooltip:n.A.t("Buttons:Advanced window/level settings with manual controls and presets"),evaluate:"evaluate.voiManualControlMenu"}},{id:"thresholdMenu",uiType:"ohif.thresholdMenu",props:{icon:"Threshold",label:n.A.t("Buttons:Threshold"),tooltip:n.A.t("Buttons:Image threshold settings"),evaluate:{name:"evaluate.thresholdMenu",hideWhenDisabled:!0}}},{id:"opacityMenu",uiType:"ohif.opacityMenu",props:{icon:"Opacity",label:n.A.t("Buttons:Opacity"),tooltip:n.A.t("Buttons:Image opacity settings"),evaluate:{name:"evaluate.opacityMenu",hideWhenDisabled:!0}}},{id:"Colorbar",uiType:"ohif.colorbar",props:{type:"tool",label:n.A.t("Buttons:Colorbar")}},{id:"Reset",uiType:"ohif.toolButton",props:{icon:"tool-reset",label:n.A.t("Buttons:Reset View"),tooltip:n.A.t("Buttons:Reset View"),commands:"resetViewport",evaluate:"evaluate.action"}},{id:"rotate-right",uiType:"ohif.toolButton",props:{icon:"tool-rotate-right",label:n.A.t("Buttons:Rotate Right"),tooltip:n.A.t("Buttons:Rotate +90"),commands:"rotateViewportCW",evaluate:["evaluate.action",{name:"evaluate.viewport.supported",unsupportedViewportTypes:["video"]}]}},{id:"flipHorizontal",uiType:"ohif.toolButton",props:{icon:"tool-flip-horizontal",label:n.A.t("Buttons:Flip Horizontal"),tooltip:n.A.t("Buttons:Flip Horizontally"),commands:"flipViewportHorizontal",evaluate:["evaluate.viewportProperties.toggle",{name:"evaluate.viewport.supported",unsupportedViewportTypes:["video","volume3d"]}]}},{id:"ImageSliceSync",uiType:"ohif.toolButton",props:{icon:"link",label:n.A.t("Buttons:Image Slice Sync"),tooltip:n.A.t("Buttons:Enable position synchronization on stack viewports"),commands:{commandName:"toggleSynchronizer",commandOptions:{type:"imageSlice"}},listeners:{[s.EVENTS.VIEWPORT_NEW_IMAGE_SET]:{commandName:"toggleImageSliceSync",commandOptions:{toggledState:!0}}},evaluate:["evaluate.cornerstone.synchronizer",{name:"evaluate.viewport.supported",unsupportedViewportTypes:["video","volume3d"]}]}},{id:"ReferenceLines",uiType:"ohif.toolButton",props:{icon:"tool-referenceLines",label:n.A.t("Buttons:Reference Lines"),tooltip:n.A.t("Buttons:Show Reference Lines"),commands:"toggleEnabledDisabledToolbar",listeners:{[u.sI.EVENTS.ACTIVE_VIEWPORT_ID_CHANGED]:d("ReferenceLines"),[u.sI.EVENTS.VIEWPORTS_READY]:d("ReferenceLines")},evaluate:["evaluate.cornerstoneTool.toggle",{name:"evaluate.viewport.supported",unsupportedViewportTypes:["video"]}]}},{id:"ImageOverlayViewer",uiType:"ohif.toolButton",props:{icon:"toggle-dicom-overlay",label:n.A.t("Buttons:Image Overlay"),tooltip:n.A.t("Buttons:Toggle Image Overlay"),commands:"toggleEnabledDisabledToolbar",evaluate:["evaluate.cornerstoneTool.toggle",{name:"evaluate.viewport.supported",unsupportedViewportTypes:["video"]}]}},{id:"StackScroll",uiType:"ohif.toolButton",props:{icon:"tool-stack-scroll",label:n.A.t("Buttons:Stack Scroll"),tooltip:n.A.t("Buttons:Stack Scroll"),commands:c,evaluate:"evaluate.cornerstoneTool"}},{id:"invert",uiType:"ohif.toolButton",props:{icon:"tool-invert",label:n.A.t("Buttons:Invert"),tooltip:n.A.t("Buttons:Invert Colors"),commands:"invertViewport",evaluate:["evaluate.viewportProperties.toggle",{name:"evaluate.viewport.supported",unsupportedViewportTypes:["video"]}]}},{id:"Probe",uiType:"ohif.toolButton",props:{icon:"tool-probe",label:n.A.t("Buttons:Probe"),tooltip:n.A.t("Buttons:Probe"),commands:c,evaluate:"evaluate.cornerstoneTool"}},{id:"Cine",uiType:"ohif.toolButton",props:{icon:"tool-cine",label:n.A.t("Buttons:Cine"),tooltip:n.A.t("Buttons:Cine"),commands:"toggleCine",evaluate:["evaluate.cine",{name:"evaluate.viewport.supported",unsupportedViewportTypes:["volume3d"]}]}},{id:"Angle",uiType:"ohif.toolButton",props:{icon:"tool-angle",label:n.A.t("Buttons:Angle"),tooltip:n.A.t("Buttons:Angle"),commands:c,evaluate:"evaluate.cornerstoneTool"}},{id:"CobbAngle",uiType:"ohif.toolButton",props:{icon:"icon-tool-cobb-angle",label:n.A.t("Buttons:Cobb Angle"),tooltip:n.A.t("Buttons:Cobb Angle"),commands:c,evaluate:"evaluate.cornerstoneTool"}},{id:"Magnify",uiType:"ohif.toolButton",props:{icon:"tool-magnify",label:n.A.t("Buttons:Zoom-in"),tooltip:n.A.t("Buttons:Zoom-in"),commands:c,evaluate:["evaluate.cornerstoneTool",{name:"evaluate.viewport.supported",unsupportedViewportTypes:["video"]}]}},{id:"CalibrationLine",uiType:"ohif.toolButton",props:{icon:"tool-calibration",label:n.A.t("Buttons:Calibration"),tooltip:n.A.t("Buttons:Calibration Line"),commands:c,evaluate:["evaluate.cornerstoneTool",{name:"evaluate.viewport.supported",unsupportedViewportTypes:["video"]}]}},{id:"TagBrowser",uiType:"ohif.toolButton",props:{icon:"dicom-tag-browser",label:n.A.t("Buttons:Dicom Tag Browser"),tooltip:n.A.t("Buttons:Dicom Tag Browser"),commands:"openDICOMTagViewer"}},{id:"AdvancedMagnify",uiType:"ohif.toolButton",props:{icon:"icon-tool-loupe",label:n.A.t("Buttons:Magnify Probe"),tooltip:n.A.t("Buttons:Magnify Probe"),commands:"toggleActiveDisabledToolbar",evaluate:["evaluate.cornerstoneTool.toggle.ifStrictlyDisabled",{name:"evaluate.viewport.supported",unsupportedViewportTypes:["video"]}]}},{id:"UltrasoundDirectionalTool",uiType:"ohif.toolButton",props:{icon:"icon-tool-ultrasound-bidirectional",label:n.A.t("Buttons:Ultrasound Directional"),tooltip:n.A.t("Buttons:Ultrasound Directional"),commands:c,evaluate:["evaluate.cornerstoneTool",{name:"evaluate.modality.supported",supportedModalities:["US"]}]}},{id:"UltrasoundPleuraBLineTool",uiType:"ohif.toolButton",props:{icon:"icon-tool-ultrasound-bidirectional",label:n.A.t("Buttons:US Pleura B-line Annotation"),tooltip:n.A.t("Buttons:US Pleura B-line Annotation"),commands:c,evaluate:["evaluate.cornerstoneTool",{name:"evaluate.modality.supported",supportedModalities:["US"]}]}},{id:"WindowLevelRegion",uiType:"ohif.toolButton",props:{icon:"icon-tool-window-region",label:n.A.t("Buttons:Window Level Region"),tooltip:n.A.t("Buttons:Window Level Region"),commands:c,evaluate:["evaluate.cornerstoneTool",{name:"evaluate.viewport.supported",unsupportedViewportTypes:["video"]}]}},{id:"Length",uiType:"ohif.toolButton",props:{icon:"tool-length",label:n.A.t("Buttons:Length"),tooltip:n.A.t("Buttons:Length Tool"),commands:c,evaluate:"evaluate.cornerstoneTool"}},{id:"Bidirectional",uiType:"ohif.toolButton",props:{icon:"tool-bidirectional",label:n.A.t("Buttons:Bidirectional"),tooltip:n.A.t("Buttons:Bidirectional Tool"),commands:c,evaluate:"evaluate.cornerstoneTool"}},{id:"ArrowAnnotate",uiType:"ohif.toolButton",props:{icon:"tool-annotate",label:n.A.t("Buttons:Annotation"),tooltip:n.A.t("Buttons:Arrow Annotate"),commands:c,evaluate:"evaluate.cornerstoneTool"}},{id:"EllipticalROI",uiType:"ohif.toolButton",props:{icon:"tool-ellipse",label:n.A.t("Buttons:Ellipse"),tooltip:n.A.t("Buttons:Ellipse ROI"),commands:c,evaluate:"evaluate.cornerstoneTool"}},{id:"RectangleROI",uiType:"ohif.toolButton",props:{icon:"tool-rectangle",label:n.A.t("Buttons:Rectangle"),tooltip:n.A.t("Buttons:Rectangle ROI"),commands:c,evaluate:"evaluate.cornerstoneTool"}},{id:"CircleROI",uiType:"ohif.toolButton",props:{icon:"tool-circle",label:n.A.t("Buttons:Circle"),tooltip:n.A.t("Buttons:Circle Tool"),commands:c,evaluate:"evaluate.cornerstoneTool"}},{id:"PlanarFreehandROI",uiType:"ohif.toolButton",props:{icon:"icon-tool-freehand-roi",label:n.A.t("Buttons:Freehand ROI"),tooltip:n.A.t("Buttons:Freehand ROI"),commands:c,evaluate:"evaluate.cornerstoneTool"}},{id:"SplineROI",uiType:"ohif.toolButton",props:{icon:"icon-tool-spline-roi",label:n.A.t("Buttons:Spline ROI"),tooltip:n.A.t("Buttons:Spline ROI"),commands:c,evaluate:"evaluate.cornerstoneTool"}},{id:"LivewireContour",uiType:"ohif.toolButton",props:{icon:"icon-tool-livewire",label:n.A.t("Buttons:Livewire tool"),tooltip:n.A.t("Buttons:Livewire tool"),commands:c,evaluate:"evaluate.cornerstoneTool"}},{id:"WindowLevel",uiType:"ohif.toolButton",props:{icon:"tool-window-level",label:n.A.t("Buttons:Window Level"),commands:c,evaluate:["evaluate.cornerstoneTool",{name:"evaluate.viewport.supported",unsupportedViewportTypes:["wholeSlide"]}]}},{id:"Pan",uiType:"ohif.toolButton",props:{type:"tool",icon:"tool-move",label:n.A.t("Buttons:Pan"),commands:c,evaluate:"evaluate.cornerstoneTool"}},{id:"Zoom",uiType:"ohif.toolButton",props:{type:"tool",icon:"tool-zoom",label:n.A.t("Buttons:Zoom"),commands:c,evaluate:"evaluate.cornerstoneTool"}},{id:"TrackballRotate",uiType:"ohif.toolButton",props:{type:"tool",icon:"tool-3d-rotate",label:n.A.t("Buttons:3D Rotate"),commands:c,evaluate:{name:"evaluate.cornerstoneTool",disabledText:"Select a 3D viewport to enable this tool"}}},{id:"Capture",uiType:"ohif.toolButton",props:{icon:"tool-capture",label:n.A.t("Buttons:Capture"),commands:"showDownloadViewportModal",evaluate:["evaluate.action",{name:"evaluate.viewport.supported",unsupportedViewportTypes:["video","wholeSlide"]}]}},{id:"Layout",uiType:"ohif.layoutSelector",props:{rows:3,columns:4,evaluate:"evaluate.action"}},{id:"Crosshairs",uiType:"ohif.toolButton",props:{type:"tool",icon:"tool-crosshair",label:n.A.t("Buttons:Crosshairs"),commands:{commandName:"setToolActiveToolbar",commandOptions:{toolGroupIds:["mpr"]}},evaluate:{name:"evaluate.cornerstoneTool",disabledText:"Select an MPR viewport to enable this tool"}}}];var O=t(4667),T=t(28024);const m="@ohif/extension-default.layoutTemplateModule.viewerLayout",E="@ohif/extension-default.sopClassHandlerModule.stack",N="@ohif/extension-cornerstone.sopClassHandlerModule.DicomMicroscopySopClassHandler",S="@ohif/extension-cornerstone.panelModule.panelSegmentation",A="@ohif/extension-measurement-tracking.panelModule.trackedMeasurements",v="@ohif/extension-measurement-tracking.panelModule.seriesList",_="@ohif/extension-measurement-tracking.viewportModule.cornerstone-tracked",R="@ohif/extension-cornerstone-dicom-sr.sopClassHandlerModule.dicom-sr",g="@ohif/extension-cornerstone-dicom-sr.sopClassHandlerModule.dicom-sr-3d",C="@ohif/extension-cornerstone-dicom-sr.viewportModule.dicom-sr",y="@ohif/extension-dicom-video.sopClassHandlerModule.dicom-video",M="@ohif/extension-dicom-pdf.sopClassHandlerModule.dicom-pdf",h="@ohif/extension-dicom-pdf.viewportModule.dicom-pdf",f="@ohif/extension-cornerstone-dicom-seg.sopClassHandlerModule.dicom-seg",L="@ohif/extension-cornerstone-dicom-seg.viewportModule.dicom-seg",b="@ohif/extension-cornerstone-dicom-pmap.sopClassHandlerModule.dicom-pmap",B="@ohif/extension-cornerstone-dicom-pmap.viewportModule.dicom-pmap",I="@ohif/extension-cornerstone-dicom-rt.viewportModule.dicom-rt",w="@ohif/extension-cornerstone-dicom-rt.sopClassHandlerModule.dicom-rt",D="@ohif/extension-ultrasound-pleura-bline.panelModule.USAnnotationPanel";let P={};const U={"@ohif/extension-default":"^3.0.0","@ohif/extension-cornerstone":"^3.0.0","@ohif/extension-measurement-tracking":"^3.0.0","@ohif/extension-cornerstone-dicom-sr":"^3.0.0","@ohif/extension-cornerstone-dicom-seg":"^3.0.0","@ohif/extension-cornerstone-dicom-pmap":"^3.0.0","@ohif/extension-cornerstone-dicom-rt":"^3.0.0","@ohif/extension-dicom-pdf":"^3.0.1","@ohif/extension-dicom-video":"^3.0.1","@ohif/extension-ultrasound-pleura-bline":"^3.0.0"};const V={id:i,modeFactory:function({modeConfiguration:e}){let o=[];return{id:i,routeName:"usAnnotation",displayName:n.A.t("US Pleura B-line Annotations"),onModeEnter:function({servicesManager:e,extensionManager:o,commandsManager:t,appConfig:n}){P={disableConfirmationPrompts:n?.disableConfirmationPrompts,measurementTrackingMode:n?.measurementTrackingMode},n.disableConfirmationPrompts=!0,n.measurementTrackingMode="simplified";const{measurementService:i,toolbarService:a,toolGroupService:l,customizationService:s}=e.services;i.clearMeasurements(),r(o,l,t),a.register(p),a.updateSection(a.sections.primary,["MeasurementTools","Zoom","Pan","TrackballRotate","WindowLevel","Capture","Layout","Crosshairs","MoreTools"]),a.updateSection(a.sections.viewportActionMenu.topLeft,["orientationMenu","dataOverlayMenu"]),a.updateSection(a.sections.viewportActionMenu.bottomMiddle,["AdvancedRenderingControls"]),a.updateSection(a.sections.advancedRenderingControlsSection,["windowLevelMenuEmbedded","voiManualControlMenu","Colorbar","opacityMenu","thresholdMenu"]),a.updateSection(a.sections.viewportActionMenu.topRight,["modalityLoadBadge","trackingStatus","navigationComponent"]),a.updateSection(a.sections.viewportActionMenu.bottomLeft,["windowLevelMenu"]),a.updateSection(a.sections.measurementSection,["Length","Bidirectional","ArrowAnnotate","EllipticalROI","RectangleROI","CircleROI","PlanarFreehandROI","SplineROI","LivewireContour"]),a.updateSection(a.sections.moreToolsSection,["Reset","rotate-right","flipHorizontal","ImageSliceSync","ReferenceLines","ImageOverlayViewer","StackScroll","invert","Probe","Cine","Angle","CobbAngle","Magnify","CalibrationLine","TagBrowser","AdvancedMagnify","UltrasoundDirectionalTool","UltrasoundPleuraBLineTool","WindowLevelRegion"]),s.setCustomizations({"panelSegmentation.disableEditing":{$set:!0},autoCineModalities:{$set:[]},"ohif.hotkeyBindings":{$push:[{commandName:"switchUSAnnotationToPleuraLine",label:"Add new pleura line",keys:["W"]},{commandName:"switchUSAnnotationToBLine",label:"Add new B-line",keys:["S"]},{commandName:"deleteLastPleuraAnnotation",label:"Delete last pleura line",keys:["E"]},{commandName:"deleteLastBLineAnnotation",label:"Delete last B-line",keys:["D"]},{commandName:"toggleDisplayFanAnnotation",label:"Toggle overlay",keys:["O"]}]},measurementsContextMenu:{inheritsFrom:"ohif.contextMenu",menus:[{id:"forExistingMeasurement",selector:({nearbyToolData:e})=>!!e,items:[{label:"Delete annotation",commands:"removeMeasurement"}]}]},"viewportOverlay.topLeft":[{id:"BLinePleuraPercentage",inheritsFrom:"ohif.overlayItem",label:"",title:"BLinePleuraPercentage",condition:({referenceInstance:e})=>e?.Modality.includes("US")&&T.w,contentF:()=>{const{viewportGridService:o,toolGroupService:t,cornerstoneViewportService:n}=e.services,i=o.getActiveViewportId(),a=t.getToolGroupForViewport(i);if(!a)return"B-Line/Pleura : N/A";const l=a.getToolInstance(O.UltrasoundPleuraBLineTool.toolName);if(l){const e=n.getCornerstoneViewport(i),o=l.calculateBLinePleuraPercentage(e);return void 0!==o?`B-Line/Pleura : ${o.toFixed(2)} %`:"B-Line/Pleura : N/A"}return"B-Line/Pleura : N/A"}}]},"mode")},onModeExit:({servicesManager:e})=>{appConfig.disableConfirmationPrompts=P.disableConfirmationPrompts,appConfig.measurementTrackingMode=P.measurementTrackingMode;const{toolGroupService:t,syncGroupService:n,segmentationService:i,cornerstoneViewportService:a,uiDialogService:l,uiModalService:r}=e.services;o.forEach(e=>e.unsubscribe()),o=[],l.hideAll(),r.hide(),t.destroy(),n.destroy(),i.destroy(),a.destroy()},validationTags:{study:[],series:[]},isValidMode:function({modalities:e}){return{valid:e.split("\\").includes("US"),description:"Pleura b-lines annotation mode when the study involves US modality series"}},routes:[{path:"longitudinal",layoutTemplate:()=>({id:m,props:{leftPanels:[v],leftPanelResizable:!0,rightPanels:[D,S,A],rightPanelResizable:!0,viewports:[{namespace:_,displaySetsToDisplay:[E,y,g,N]},{namespace:C,displaySetsToDisplay:[R]},{namespace:h,displaySetsToDisplay:[M]},{namespace:L,displaySetsToDisplay:[f]},{namespace:B,displaySetsToDisplay:[b]},{namespace:I,displaySetsToDisplay:[w]}]}})}],extensions:U,hangingProtocol:"default",sopClassHandlers:[y,f,b,E,N,M,g,R,w],...e}},extensionDependencies:U},G=V}}]);
//# sourceMappingURL=2243.bundle.2e8123df35faa29f82b9.js.map