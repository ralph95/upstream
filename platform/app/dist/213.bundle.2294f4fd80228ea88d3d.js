"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[213],{213:(e,a,n)=>{n.r(a),n.d(a,{default:()=>S});var s=n(86326);const t=JSON.parse('{"UU":"@ohif/extension-dicom-video"}').UU,r=`${t}.sopClassHandlerModule.dicom-video`;var i=n(42356),_=n(68523),l=n(15327);const I={VIDEO_MICROSCOPIC_IMAGE_STORAGE:"1.2.840.10008.5.1.4.1.1.77.1.2.1",VIDEO_PHOTOGRAPHIC_IMAGE_STORAGE:"1.2.840.10008.5.1.4.1.1.77.1.4.1",VIDEO_ENDOSCOPIC_IMAGE_STORAGE:"1.2.840.10008.5.1.4.1.1.77.1.1.1",SECONDARY_CAPTURE_IMAGE_STORAGE:"1.2.840.10008.5.1.4.1.1.7",MULTIFRAME_TRUE_COLOR_SECONDARY_CAPTURE_IMAGE_STORAGE:"1.2.840.10008.5.1.4.1.1.7.4"},E=Object.values(I),o=[I.SECONDARY_CAPTURE_IMAGE_STORAGE,I.MULTIFRAME_TRUE_COLOR_SECONDARY_CAPTURE_IMAGE_STORAGE],c=Object.values({MPEG4_AVC_264_HIGH_PROFILE:"1.2.840.10008.1.2.4.102",MPEG4_AVC_264_BD_COMPATIBLE_HIGH_PROFILE:"1.2.840.10008.1.2.4.103",MPEG4_AVC_264_HIGH_PROFILE_FOR_2D_VIDEO:"1.2.840.10008.1.2.4.104",MPEG4_AVC_264_HIGH_PROFILE_FOR_3D_VIDEO:"1.2.840.10008.1.2.4.105",MPEG4_AVC_264_STEREO_HIGH_PROFILE:"1.2.840.10008.1.2.4.106",HEVC_265_MAIN_PROFILE:"1.2.840.10008.1.2.4.107",HEVC_265_MAIN_10_PROFILE:"1.2.840.10008.1.2.4.108"});function O(){return O=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},O.apply(null,arguments)}const d=s.lazy(()=>n.e(6939).then(n.bind(n,86939))),u=e=>s.createElement(s.Suspense,{fallback:s.createElement("div",null,"Loading...")},s.createElement(d,e));const S={id:t,getViewportModule:({servicesManager:e,extensionManager:a})=>[{name:"dicom-video",component:n=>s.createElement(u,O({servicesManager:e,extensionManager:a},n))}],getSopClassHandlerModule:function(e){const{servicesManager:a,extensionManager:n}=e;return[{name:"dicom-video",sopClassUids:E,getDisplaySetsFromSeries:e=>((e,a,n)=>{const s=n.getActiveDataSource()[0];return console.warn("dataSource=",s),e.filter(e=>{const a=e.AvailableTransferSyntaxUID||e.TransferSyntaxUID||e["00083002"];return!!c.includes(a)||e.SOPClassUID===I.VIDEO_PHOTOGRAPHIC_IMAGE_STORAGE||o.includes(e.SOPClassUID)&&e.NumberOfFrames>=90}).map(e=>{const{Modality:a,SOPInstanceUID:n,SeriesDescription:t="VIDEO",imageId:I}=e,{SeriesNumber:o,SeriesDate:c,SeriesInstanceUID:O,StudyInstanceUID:d,NumberOfFrames:u,url:S}=e,A=s.retrieve.directURL({instance:e,singlepart:"video",tag:"PixelData",url:S}),D={Modality:a,displaySetInstanceUID:i.Wp.guid(),SeriesDescription:t,SeriesNumber:o,SeriesDate:c,SOPInstanceUID:n,SeriesInstanceUID:O,StudyInstanceUID:d,SOPClassHandlerId:r,referencedImages:null,measurements:null,viewportType:l.Enums.ViewportType.VIDEO,instances:[e],getThumbnailSrc:s.retrieve.getGetThumbnailSrc?.(e),thumbnailSrc:null,imageIds:[I],isDerivedDisplaySet:!0,isLoaded:!1,sopClassUids:E,numImageFrames:u,instance:e,supportsWindowLevel:!0,label:t||`${_.A.t("Series")} ${o} - ${_.A.t(a)}`};return l.utilities.genericMetadataProvider.add(I,{type:"imageUrlModule",metadata:{rendered:A}}),D})})(e,0,n)}]}}}}]);
//# sourceMappingURL=213.bundle.2294f4fd80228ea88d3d.js.map